{"version":3,"sources":["public/app/app.module.js","public/app/app.routes.js","public/app/app.run.js","public/app/admin/services/auth.service.js","public/app/admin/services/employee-admin.service.js","public/app/admin/services/user-resource.service.js","public/app/admin/components/admin-topbar.controller.js","public/app/admin/components/seat-picker-desk.directive.js","public/app/admin/components/seat-picker-topbar.controller.js","public/app/guilds/views/guilds.controller.js","public/app/guilds/components/guilds-topbar.controller.js","public/app/employees/views/employee.controller.js","public/app/employees/components/desk.directive.js","public/app/employees/components/employee-card.directive.js","public/app/employees/components/employee-selector.controller.js","public/app/employees/components/employee-topbar.controller.js","public/app/help/views/help.controller.js","public/app/employees/services/cached-desk-resource.service.js","public/app/employees/services/cached-employee-resource.service.js","public/app/employees/services/desk-resource.service.js","public/app/employees/services/desk.service.js","public/app/employees/services/employee-resource.service.js","public/app/employees/services/employee.service.js","public/app/admin/views/create-employee.controller.js","public/app/admin/views/create-user.controller.js","public/app/admin/views/login.controller.js","public/app/admin/views/seat-picker-floor.controller.js","public/app/admin/views/seat-picker.controller.js","public/app/admin/views/update-employee.controller.js","public/app/admin/views/update-user.controller.js","public/app/admin/views/user-list.controller.js","public/app/help/components/help-topbar.controller.js","public/app/rooms/services/cached-room-resource.service.js","public/app/rooms/services/room-resource.service.js","public/app/rooms/services/room.service.js","public/app/rooms/views/room.controller.js","public/app/printers/services/cached-printer-resource.service.js","public/app/printers/services/printer-resource.service.js","public/app/printers/services/printer.service.js","public/app/printers/views/printer.controller.js","public/app/rooms/components/room-card.directive.js","public/app/rooms/components/room-selector.controller.js","public/app/rooms/components/room-topbar.controller.js","public/app/rooms/components/room.directive.js","public/app/printers/components/printer-card.directive.js","public/app/printers/components/printer-selector.controller.js","public/app/printers/components/printer-topbar.controller.js","public/app/printers/components/printer.directive.js","public/app/common/utilities/nanoscroller.directive.js","public/app/common/utilities/svg.directive.js","public/app/common/services/artifact-resource.service.js","public/app/common/services/artifact.service.js","public/app/common/services/cached-artifact-resource.service.js","public/app/common/services/identity.service.js","public/app/common/services/notifier.service.js","public/app/common/services/sidebar.service.js","public/app/common/components/artifact.directive.js","public/app/common/components/footer.directive.js","public/app/common/components/index-topbar.controller.js","public/app/common/components/sidebar-left.directive.js","public/app/common/filters/custom-filters.js","public/app/employees/views/org-chart/org-chart.controller.js","public/app/employees/views/profile/employee-profile.controller.js","public/app/common/views/floor.controller.js","public/app/common/views/index.controller.js","public/app/employees/views/map/employee-map.controller.js","public/app/help/views/location/help-location.controller.js","public/app/help/views/navigation/help-navigation.controller.js","public/app/help/views/profile/help-profile.controller.js","public/app/help/views/org-chart/help-org-chart.controller.js","public/app/rooms/views/map/room-map.controller.js","public/app/rooms/views/profile/room-profile.controller.js","public/app/printers/views/profile/printer-profile.controller.js","public/app/printers/views/map/printer-map.controller.js"],"names":["angular","module","constant","window","_","configure","$stateProvider","$urlRouterProvider","$locationProvider","$compileProvider","routeRoleChecks","superAdmin","requireSuperAdmin","admin","requireAdmin","user","requireAuth","aHrefSanitizationWhitelist","html5Mode","otherwise","when","state","url","views","main","templateUrl","controller","controllerAs","topbar","sidebar","main@","sidebar@","topbar@","resolve","auth","edAuthService","authorizeCurrentUserForRoute","authorizeAuthenticatedUserForRoute","config","$inject","appRun","$rootScope","$state","$stateParams","$document","edSidebarService","$on","event","toState","toParams","fromState","fromParams","error","go","body","scrollTop","documentElement","firstname","lastname","printer","printerbrand","room","roomtype","employee","team","department","setLockSidebar","run","$http","$q","edIdentityService","edUserResourceService","authenticateUser","username","password","dfd","defer","post","then","response","data","success","extend","currentUser","promise","createUser","newUserData","newUser","$save","reject","reason","updateCurrentUser","clone","copy","$update","logoutUser","logout","undefined","role","isAuthorized","isAuthenticated","service","factory","edEmployeeAdminService","edEmployeeService","edEmployeeResourceService","Upload","updateEmployee","newEmployeeData","selectedEmployees","getSelectedEmployees","removeAllSelectedEmployees","$broadcast","getAllEmployees","createEmployee","newEmployee","uploadEmployeePhoto","employeePhoto","employeeData","upload","file","fileName","eid","name","split","pop","resp","console","log","status","evt","progressPercentage","parseInt","loaded","total","$resource","userResource","_id","update","method","isArray","prototype","isAdmin","this","roles","indexOf","edAdminTopbarCtrl","vm","identity","edSeatPickerDesk","directive","restrict","replace","scope","location","floor","seat","orientation","classification","xpos","ypos","ctrlFunc","edNotifierService","assignSeat","notify","edSeatPickerTopbarCtrl","edGuildsCtrl","activate","currentState","current","guild","$promise","filterEmployeesByGuild","employees","guildMembers","sortBy","filter","guilds","profileEmployee","edGuildsTopbarCtrl","edEmployeeCtrl","edDesk","$timeout","$compile","linkFunc","el","attrs","mappedEmployee","getMappedEmployee","scrollToElement","addClass","append","displayName","markerLabel","$","leftPos","outerWidth","css","removeClass","find","remove","deregister","link","edPrinterService","edRoomService","mapEmployee","viewingProfile","mappedEmployeeArray","length","updateMappedPrinter","updateMappedRoom","updateMappedEmployee","viewProfile","selectedEmployee","updateSelectedEmployees","edEmployeeCard","twEmail","email","deselectEmployee","parent","child","children","first","editEmployee","edEmployeeSelectorCtrl","$scope","selectEmployee","displayEmployeeInfoType","filterLocations","locations","push","splice","locationFilter","nycOnly","filterFloors","floors","floorFilter","selectAll","addAllFilteredEmployees","filteredEmployees","scrollTopAnimated","info","selectNone","clearFilter","employeeName","6","7","8","buf","nyc","getDisplayEmployeeInfoType","allowSelectAll","getSelectMultipleEmployees","deregisterEmployeesUpdated","deregisterSelectMultipleEmployeesChange","allowSelectMultipleEmployees","deregisterDisplayEmployeeInfoTypeChange","edEmployeeTopbarCtrl","edHelpCtrl","edCachedDeskResourceService","edDeskResourceService","query","desks","edCachedEmployeeResourceService","cacheBust","cacheKill","Date","getTime","ees","forEach","manager","mid","nickname","lastName","firstName","deskResource","edDeskService","getAllDesks","employeeResource","prevSelected","selected","selectedEmployeeAdded","mapped","updateMappedEmployeeById","id","setDisplayEmployeeInfoType","infoType","selectMultipleEmployees","unshift","getSelectedEmployeeAdded","setProfilePageNumber","pageNumber","profilePageNumber","getProfilePageNumber","setSelectMultipleEmployees","selectMultiple","lastSelectedEmployee","shift","edCreateEmployeeCtrl","resetForm","createManagerList","phone","ext","title","committees","hasReports","managers","include","committee","image","toLowerCase","createEmployeeForm","$setPristine","locationOptions","value","text","departments","employeesUpdatedEvent","edCreateUserCtrl","fname","lname","edLoginCtrl","signin","edSeatPickerFloorCtrl","checkForSelectedEmployee","locationAndFloor","locationName","deskFilter","desk","deregisterEmployee","edSeatPickerCtrl","setRemoteEmployee","edUpdateEmployeeCtrl","populateEmployee","filterManagers","filteredManagers","imageFile","deleteEmployee","deletedEmployee","directReports","directReport","deleted","cancelUpdateEmployee","selectedEmployeeChangeEvent","edUpdateUserCtrl","updateUser","edUserListCtrl","users","edHelpTopbarCtrl","edCachedRoomResourceService","edRoomResourceService","rooms","roomResource","getAllRooms","getSelectedRooms","selectedRooms","addAllFilteredRooms","selectedRoomAdded","mappedRoom","getMappedRoom","setDisplayRoomInfoType","displayRoomInfoType","getDisplayRoomInfoType","updateSelectedRooms","selectMultipleRooms","removeAllSelectedRooms","getSelectedRoomAdded","setSelectMultipleRooms","lastSelectedRoom","getSelectMultipleRooms","edRoomCtrl","edCachedPrinterResourceService","edPrinterResourceService","printers","printerResource","getAllPrinters","getSelectedPrinters","selectedPrinters","addAllFilteredPrinters","selectedPrinterAdded","mappedPrinter","getMappedPrinter","setDisplayPrinterInfoType","displayPrinterInfoType","getDisplayPrinterInfoType","updateSelectedPrinters","selectMultiplePrinters","removeAllSelectedPrinters","getSelectedPrinterAdded","setSelectMultiplePrinters","lastSelectedPrinter","getSelectMultiplePrinters","edPrinterCtrl","edRoomCard","deselectRoom","mapRoom","edRoomSelectorCtrl","selectRoom","filteredRooms","roomName","type","deregisterSelectMultipleRoomsChange","allowSelectMultipleRooms","deregisterDisplayRoomInfoTypeChange","edRoomTopbarCtrl","edRoom","number","mappedRoomArray","selectedRoom","edPrinterCard","deselectPrinter","mapPrinter","edPrinterSelectorCtrl","selectPrinter","filteredPrinters","printerName","brand","color","deregisterSelectMultiplePrintersChange","allowSelectMultiplePrinters","deregisterDisplayPrinterInfoTypeChange","edPrinterTopbarCtrl","edPrinter","mappedPrinterArray","selectedPrinter","edNanoscroller","element","nanoScroller","preventPageScrolling","template","svg","imgId","imgClass","imgUrl","path","filename","get","i","constructor","attr","removeAttr","replaceWith","edArtifactResourceService","artifactResource","edArtifactService","edCachedArtifactResourceService","getAllArtifacts","artifacts","$window","bootstrappedUserObject","edToastr","msg","options","showDuration","hideDuration","toastr","lock","sidebarLocked","getLockSidebar","edArtifact","edFooter","signout","edIndexTopbarCtrl","edSidebarLeft","sidebarOpen","toggleSidebar","closeSidebar","scrollSidebarTop","scroll","edPhoneNumberFilter","tel","country","city","toString","trim","slice","edOrgChartCtrl","getEmployeeById","getManager","getDirectReports","findWhere","edEmployeeProfileCtrl","selectEmployeeById","selectEmployeeByTeam","selectEmployeeByDepartment","selectEmployeeByTitle","selectEmployeeByName","match","employeeids","hasOwnProperty","teams","reverse","titles","firstnames","lastnames","changePage","newPageNumber","currentPage","edFloorCtrl","roomFilter","printerFilter","artifactFilter","artifact","mapEmployeeBySeat","mapPrinterByName","mapRoomByName","deregisterPrinter","deregisterRoom","edIndexCtrl","edEmployeeMapCtrl","locateEmployee","unknownLocationEmployee","edHelpLocationCtrl","edHelpNavigationCtrl","edHelpProfileCtrl","edHelpOrgChartCtrl","edRoomMapCtrl","locateRoom","edRoomProfileCtrl","selectRoomByName","toLocaleLowerCase","selectRoomByType","roomtypes","edPrinterProfileCtrl","selectPrinterByName","selectPrinterByBrand","printerbrands","edPrinterMapCtrl","locatePrinter"],"mappings":"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","file":"main-29cbd41249.js","sourcesContent":["(function () {\n\t'use strict';\n\tangular.module('app', ['ngResource', 'ui.router', 'ngFileUpload', 'angular.filter', 'ngAnimate', 'duScroll', 'angular.vertilize', 'angularUtils.directives.dirPagination', 'focus-if']);\n\n\tangular.module('app').constant('_', window._);\n})();","(function () {\n\t'use strict';\n\tangular.module('app').config(configure);\n\n\tconfigure.$inject = ['$stateProvider', '$urlRouterProvider', '$locationProvider', '$compileProvider'];\n\n\tfunction configure($stateProvider, $urlRouterProvider, $locationProvider, $compileProvider) {\n\t\tvar routeRoleChecks = {\n\t\t\tsuperAdmin: requireSuperAdmin,\n\t\t\tadmin: requireAdmin,\n\t\t\tuser: requireAuth\n\t\t};\n\n\t\t// Allow some extra protocols\n\t\t$compileProvider.aHrefSanitizationWhitelist(/^\\s*(https?|ftp|mailto|chrome-extension|im|sip):/);\n\n\t\t$locationProvider.html5Mode(true);\n\n\t\t// for any unmatched url\n\t\t$urlRouterProvider.otherwise('/');\n\n\t\t$urlRouterProvider.when('/employees/', '/employees');\n\t\t$urlRouterProvider.when('/printers/', '/printers');\n\t\t$urlRouterProvider.when('/rooms/', '/rooms');\n\t\t$urlRouterProvider.when('/guilds/', '/guilds');\n\n\t\t$stateProvider\n\t\t\t.state('home', {\n\t\t\t\turl: '/',\n\t\t\t\tviews: {\n\t\t\t\t\t'main': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/views/index',\n\t\t\t\t\t\tcontroller: 'edIndexCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\t'topbar': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/components/index-topbar',\n\t\t\t\t\t\tcontroller: 'edIndexTopbarCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('employees', {\n\t\t\t\turl: '/employees',\n\t\t\t\tviews: {\n\t\t\t\t\t'main': {\n\t\t\t\t\t\ttemplateUrl: '/partials/employees/views/employee',\n\t\t\t\t\t\tcontroller: 'edEmployeeCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\t'sidebar': {\n\t\t\t\t\t\ttemplateUrl: '/partials/employees/components/employee-selector',\n\t\t\t\t\t\tcontroller: 'edEmployeeSelectorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\t'topbar': {\n\t\t\t\t\t\ttemplateUrl: '/partials/employees/components/employee-topbar',\n\t\t\t\t\t\tcontroller: 'edEmployeeTopbarCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('employees.profile', {\n\t\t\t\turl: '/profile/?firstname&lastname',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/employees/views/profile/employee-profile',\n\t\t\t\t\t\tcontroller: 'edEmployeeProfileCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('employees.profile.department', {\n\t\t\t\turl: 'department/:department',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/employees/views/profile/employee-profile',\n\t\t\t\t\t\tcontroller: 'edEmployeeProfileCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('employees.profile.title', {\n\t\t\t\turl: 'title/:title',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/employees/views/profile/employee-profile',\n\t\t\t\t\t\tcontroller: 'edEmployeeProfileCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('employees.profile.team', {\n\t\t\t\turl: 'team/:team',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/employees/views/profile/employee-profile',\n\t\t\t\t\t\tcontroller: 'edEmployeeProfileCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('employees.profile.employee', {\n\t\t\t\turl: 'employee/:employee',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/employees/views/profile/employee-profile',\n\t\t\t\t\t\tcontroller: 'edEmployeeProfileCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('employees.org-chart', {\n\t\t\t\turl: '/org-chart/:employee',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/employees/views/org-chart/org-chart',\n\t\t\t\t\t\tcontroller: 'edOrgChartCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('employees.map', {\n\t\t\t\turl: '/map/?employee',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/employees/views/map/employee-map',\n\t\t\t\t\t\tcontroller: 'edEmployeeMapCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('employees.map.buf-6', {\n\t\t\t\turl: 'buf-6/:seat',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/views/floor',\n\t\t\t\t\t\tcontroller: 'edFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('employees.map.buf-7', {\n\t\t\t\turl: 'buf-7/:seat',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/views/floor',\n\t\t\t\t\t\tcontroller: 'edFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('employees.map.buf-8', {\n\t\t\t\turl: 'buf-8/:seat',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/views/floor',\n\t\t\t\t\t\tcontroller: 'edFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('employees.map.nyc-6', {\n\t\t\t\turl: 'nyc-6/:seat',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/views/floor',\n\t\t\t\t\t\tcontroller: 'edFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('printers', {\n\t\t\t\turl: '/printers',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/printers/views/printer',\n\t\t\t\t\t\tcontroller: 'edPrinterCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\t'sidebar@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/printers/components/printer-selector',\n\t\t\t\t\t\tcontroller: 'edPrinterSelectorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\t'topbar@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/printers/components/printer-topbar',\n\t\t\t\t\t\tcontroller: 'edPrinterTopbarCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('printers.profile', {\n\t\t\t\turl: '/profile',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/printers/views/profile/printer-profile',\n\t\t\t\t\t\tcontroller: 'edPrinterProfileCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('printers.profile.name', {\n\t\t\t\turl: '/name/:printer',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/printers/views/profile/printer-profile',\n\t\t\t\t\t\tcontroller: 'edPrinterProfileCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('printers.profile.brand', {\n\t\t\t\turl: '/brand/:printerbrand',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/printers/views/profile/printer-profile',\n\t\t\t\t\t\tcontroller: 'edPrinterProfileCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('printers.map', {\n\t\t\t\turl: '/map',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/printers/views/map/printer-map',\n\t\t\t\t\t\tcontroller: 'edPrinterMapCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('printers.map.buf-6', {\n\t\t\t\turl: '/buf-6/:name',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/views/floor',\n\t\t\t\t\t\tcontroller: 'edFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('printers.map.buf-7', {\n\t\t\t\turl: '/buf-7/:name',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/views/floor',\n\t\t\t\t\t\tcontroller: 'edFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('printers.map.buf-8', {\n\t\t\t\turl: '/buf-8/:name',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/views/floor',\n\t\t\t\t\t\tcontroller: 'edFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('printers.map.nyc-6', {\n\t\t\t\turl: '/nyc-6/:name',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/views/floor',\n\t\t\t\t\t\tcontroller: 'edFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('rooms', {\n\t\t\t\turl: '/rooms',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/rooms/views/room',\n\t\t\t\t\t\tcontroller: 'edRoomCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\t'sidebar@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/rooms/components/room-selector',\n\t\t\t\t\t\tcontroller: 'edRoomSelectorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\t'topbar@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/rooms/components/room-topbar',\n\t\t\t\t\t\tcontroller: 'edRoomTopbarCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('rooms.profile', {\n\t\t\t\turl: '/profile',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/rooms/views/profile/room-profile',\n\t\t\t\t\t\tcontroller: 'edRoomProfileCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('rooms.profile.name', {\n\t\t\t\turl: '/name/:room',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/rooms/views/profile/room-profile',\n\t\t\t\t\t\tcontroller: 'edRoomProfileCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('rooms.profile.type', {\n\t\t\t\turl: '/type/:roomtype',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/rooms/views/profile/room-profile',\n\t\t\t\t\t\tcontroller: 'edRoomProfileCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('rooms.map', {\n\t\t\t\turl: '/map',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/rooms/views/map/room-map',\n\t\t\t\t\t\tcontroller: 'edRoomMapCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('rooms.map.buf-6', {\n\t\t\t\turl: '/buf-6/:name',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/views/floor',\n\t\t\t\t\t\tcontroller: 'edFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('rooms.map.buf-7', {\n\t\t\t\turl: '/buf-7/:name',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/views/floor',\n\t\t\t\t\t\tcontroller: 'edFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('rooms.map.buf-8', {\n\t\t\t\turl: '/buf-8/:name',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/views/floor',\n\t\t\t\t\t\tcontroller: 'edFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('rooms.map.nyc-6', {\n\t\t\t\turl: '/nyc-6/:name',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/common/views/floor',\n\t\t\t\t\t\tcontroller: 'edFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('admin', {\n\t\t\t\turl: '/admin',\n\t\t\t\t'views': {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/admin/views/login',\n\t\t\t\t\t\tcontroller: 'edLoginCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\t'topbar@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/admin/components/admin-topbar',\n\t\t\t\t\t\tcontroller: 'edAdminTopbarCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('admin.users', {\n\t\t\t\turl: '/users',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/admin/views/user-list',\n\t\t\t\t\t\tcontroller: 'edUserListCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tresolve: {\n\t\t\t\t\tauth: routeRoleChecks.superAdmin\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('admin.create-user', {\n\t\t\t\turl: '/create-user',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/admin/views/create-user',\n\t\t\t\t\t\tcontroller: 'edCreateUserCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tresolve: {\n\t\t\t\t\tauth: routeRoleChecks.superAdmin\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('admin.update-user', {\n\t\t\t\turl: '/update-user',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/admin/views/update-user',\n\t\t\t\t\t\tcontroller: 'edUpdateUserCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tresolve: {\n\t\t\t\t\tauth: routeRoleChecks.user\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('admin.create-employee', {\n\t\t\t\turl: '/create-employee',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/admin/views/create-employee',\n\t\t\t\t\t\tcontroller: 'edCreateEmployeeCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tresolve: {\n\t\t\t\t\tauth: routeRoleChecks.admin\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('admin.update-employee', {\n\t\t\t\turl: '/update-employee',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/admin/views/update-employee',\n\t\t\t\t\t\tcontroller: 'edUpdateEmployeeCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\t'sidebar@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/employees/components/employee-selector',\n\t\t\t\t\t\tcontroller: 'edEmployeeSelectorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tauth: routeRoleChecks.admin\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('admin.seat-picker', {\n\t\t\t\turl: '/seat-picker',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/admin/views/seat-picker',\n\t\t\t\t\t\tcontroller: 'edSeatPickerCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\t'sidebar@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/employees/components/employee-selector',\n\t\t\t\t\t\tcontroller: 'edEmployeeSelectorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\t'topbar@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/admin/components/seat-picker-topbar',\n\t\t\t\t\t\tcontroller: 'edSeatPickerTopbarCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tauth: routeRoleChecks.admin\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('admin.seat-picker.buf-6', {\n\t\t\t\turl: '/buf-6',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/admin/views/seat-picker-floor',\n\t\t\t\t\t\tcontroller: 'edSeatPickerFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tauth: routeRoleChecks.admin\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('admin.seat-picker.buf-7', {\n\t\t\t\turl: '/buf-7',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/admin/views/seat-picker-floor',\n\t\t\t\t\t\tcontroller: 'edSeatPickerFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tauth: routeRoleChecks.admin\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('admin.seat-picker.buf-8', {\n\t\t\t\turl: '/buf-8',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/admin/views/seat-picker-floor',\n\t\t\t\t\t\tcontroller: 'edSeatPickerFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tauth: routeRoleChecks.admin\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('admin.seat-picker.nyc-6', {\n\t\t\t\turl: '/nyc-6',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/admin/views/seat-picker-floor',\n\t\t\t\t\t\tcontroller: 'edSeatPickerFloorCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tauth: routeRoleChecks.admin\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('guilds', {\n\t\t\t\turl: '/guilds',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/guilds/views/guilds',\n\t\t\t\t\t\tcontroller: 'edGuildsCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\t'topbar@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/guilds/components/guilds-topbar',\n\t\t\t\t\t\tcontroller: 'edGuildsTopbarCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('guilds.front-end', {\n\t\t\t\turl: '/front-end',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/guilds/views/guilds',\n\t\t\t\t\t\tcontroller: 'edGuildsCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('help', {\n\t\t\t\turl: '/help',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/help/views/help',\n\t\t\t\t\t\tcontroller: 'edHelpCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t},\n\t\t\t\t\t'topbar@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/help/components/help-topbar',\n\t\t\t\t\t\tcontroller: 'edHelpTopbarCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('help.navigation', {\n\t\t\t\turl: '/navigation',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/help/views/navigation/help-navigation',\n\t\t\t\t\t\tcontroller: 'edHelpNavigationCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('help.profile', {\n\t\t\t\turl: '/profile',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/help/views/profile/help-profile',\n\t\t\t\t\t\tcontroller: 'edHelpProfileCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('help.location', {\n\t\t\t\turl: '/location',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/help/views/location/help-location',\n\t\t\t\t\t\tcontroller: 'edHelpLocationCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state('help.org-chart', {\n\t\t\t\turl: '/org-chart',\n\t\t\t\tviews: {\n\t\t\t\t\t'main@': {\n\t\t\t\t\t\ttemplateUrl: '/partials/help/views/org-chart/help-org-chart',\n\t\t\t\t\t\tcontroller: 'edHelpOrgChartCtrl',\n\t\t\t\t\t\tcontrollerAs: 'vm'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\trequireAdmin.$inject = ['edAuthService'];\n\n\tfunction requireAdmin(edAuthService) {\n\t\treturn edAuthService.authorizeCurrentUserForRoute('admin');\n\t}\n\n\trequireSuperAdmin.$inject = ['edAuthService'];\n\n\tfunction requireSuperAdmin(edAuthService) {\n\t\treturn edAuthService.authorizeCurrentUserForRoute('super-admin');\n\t}\n\n\trequireAuth.$inject = ['edAuthService'];\n\n\tfunction requireAuth(edAuthService) {\n\t\treturn edAuthService.authorizeAuthenticatedUserForRoute();\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').run(appRun);\n\n\tappRun.$inject = ['$rootScope', '$state', '$stateParams', '$document', 'edSidebarService'];\n\n\tfunction appRun($rootScope, $state, $stateParams, $document, edSidebarService) {\n\t\t$rootScope.$on('$stateChangeError', function (event, toState, toParams, fromState, fromParams, error) {\n\t\t\tif (error === 'not authorized') {\n\t\t\t\t$state.go('admin');\n\t\t\t}\n\t\t});\n\n\t\t// Clear state params and scroll to the top on route changes\n\t\t$rootScope.$on('$stateChangeSuccess', function () {\n\t\t\t$document[0].body.scrollTop = $document[0].documentElement.scrollTop = 0;\n\t\t\t$stateParams.firstname = null;\n\t\t\t$stateParams.lastname = null;\n\t\t\t$stateParams.printer = null;\n\t\t\t$stateParams.printerbrand = null;\n\t\t\t$stateParams.room = null;\n\t\t\t$stateParams.roomtype = null;\n\t\t\t$stateParams.employee = null;\n\t\t\t$stateParams.team = null;\n\t\t\t$stateParams.department = null;\n\t\t});\n\n\t\t// Unlock the sidebar on route changes\n\t\t// Individual pages are responsible for locking it themselves\n\t\t$rootScope.$on('$stateChangeStart', function () {\n\t\t\tedSidebarService.setLockSidebar(false);\n\t\t});\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').factory('edAuthService', edAuthService);\n\n\tedAuthService.$inject = ['$http', '$q', 'edIdentityService', 'edUserResourceService'];\n\n\tfunction edAuthService($http, $q, edIdentityService, edUserResourceService) {\n\t\tvar service = {\n\t\t\tauthenticateUser: authenticateUser,\n\t\t\tcreateUser: createUser,\n\t\t\tupdateCurrentUser: updateCurrentUser,\n\t\t\tlogoutUser: logoutUser,\n\t\t\tauthorizeCurrentUserForRoute: authorizeCurrentUserForRoute,\n\t\t\tauthorizeAuthenticatedUserForRoute: authorizeAuthenticatedUserForRoute\n\t\t};\n\t\treturn service;\n\n\t\tfunction authenticateUser(username, password) {\n\t\t\tvar dfd = $q.defer();\n\t\t\t$http.post('/login', {\n\t\t\t\tusername: username,\n\t\t\t\tpassword: password\n\t\t\t}).then(function (response) {\n\t\t\t\tif (response.data.success) {\n\t\t\t\t\tvar user = new edUserResourceService();\n\t\t\t\t\tangular.extend(user, response.data.user);\n\t\t\t\t\tedIdentityService.currentUser = user;\n\t\t\t\t\tdfd.resolve(true);\n\t\t\t\t} else {\n\t\t\t\t\tdfd.resolve(false);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn dfd.promise;\n\t\t}\n\n\t\tfunction createUser(newUserData) {\n\t\t\tvar newUser = new edUserResourceService(newUserData);\n\t\t\tvar dfd = $q.defer();\n\n\t\t\tnewUser.$save().then(function () {\n\t\t\t\tdfd.resolve();\n\t\t\t}, function (response) {\n\t\t\t\tdfd.reject(response.data.reason);\n\t\t\t});\n\t\t\treturn dfd.promise;\n\t\t}\n\n\t\tfunction updateCurrentUser(newUserData) {\n\t\t\tvar dfd = $q.defer();\n\t\t\tvar clone = angular.copy(edIdentityService.currentUser);\n\t\t\tangular.extend(clone, newUserData);\n\t\t\tclone.$update().then(function () {\n\t\t\t\tedIdentityService.currentUser = clone;\n\t\t\t\tdfd.resolve();\n\t\t\t}, function (response) {\n\t\t\t\tdfd.reject(response.data.reason);\n\t\t\t});\n\t\t\treturn dfd.promise;\n\t\t}\n\n\t\tfunction logoutUser() {\n\t\t\tvar dfd = $q.defer();\n\t\t\t$http.post('/logout', {\n\t\t\t\tlogout: true\n\t\t\t}).then(function () {\n\t\t\t\tedIdentityService.currentUser = undefined;\n\t\t\t\tdfd.resolve();\n\t\t\t});\n\t\t\treturn dfd.promise;\n\t\t}\n\n\t\tfunction authorizeCurrentUserForRoute(role) {\n\t\t\tif (edIdentityService.isAuthorized(role)) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn $q.reject('not authorized');\n\t\t\t}\n\t\t}\n\n\t\tfunction authorizeAuthenticatedUserForRoute() {\n\t\t\tif (edIdentityService.isAuthenticated()) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn $q.reject('not authorized');\n\t\t\t}\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').factory('edEmployeeAdminService', edEmployeeAdminService);\n\n\tedEmployeeAdminService.$inject = ['$rootScope', '$q', 'edEmployeeService', 'edEmployeeResourceService', 'Upload'];\n\n\tfunction edEmployeeAdminService($rootScope, $q, edEmployeeService, edEmployeeResourceService, Upload) {\n\t\tvar service = {\n\t\t\tupdateEmployee: updateEmployee,\n\t\t\tcreateEmployee: createEmployee,\n\t\t\tuploadEmployeePhoto: uploadEmployeePhoto\n\t\t};\n\t\treturn service;\n\n\t\t/**\n\t\t * Updates employee record in database\n\t\t * Uses the selected employee for updating\n\t\t *\n\t\t * @param {Object} newEmployeeData employee data to update\n\t\t * @return {Object} promise\n\t\t */\n\t\tfunction updateEmployee(newEmployeeData) {\n\t\t\tvar dfd = $q.defer();\n\t\t\tvar selectedEmployees = edEmployeeService.getSelectedEmployees();\n\t\t\tvar clone = angular.copy(selectedEmployees[0]);\n\t\t\tangular.extend(clone, newEmployeeData);\n\t\t\tclone.$update().then(function (employee) {\n\t\t\t\tedEmployeeService.removeAllSelectedEmployees();\n\t\t\t\t$rootScope.$broadcast('employeesUpdated', edEmployeeService.getAllEmployees(true));\n\t\t\t\tdfd.resolve(employee);\n\t\t\t}, function (response) {\n\t\t\t\tdfd.reject(response.data.reason);\n\t\t\t});\n\t\t\treturn dfd.promise;\n\t\t}\n\n\t\t/**\n\t\t * Create employee record in database\n\t\t *\n\t\t * @param {Object} newEmployeeData employee data to insert\n\t\t * @return {Object} promise\n\t\t */\n\t\tfunction createEmployee(newEmployeeData) {\n\t\t\tvar newEmployee = new edEmployeeResourceService(newEmployeeData);\n\t\t\tvar dfd = $q.defer();\n\n\t\t\tnewEmployee.$save().then(function (employee) {\n\t\t\t\tedEmployeeService.removeAllSelectedEmployees();\n\t\t\t\t$rootScope.$broadcast('employeesUpdated', edEmployeeService.getAllEmployees(true));\n\t\t\t\tdfd.resolve(employee);\n\t\t\t}, function (response) {\n\t\t\t\tdfd.reject(response.data.reason);\n\t\t\t});\n\t\t\treturn dfd.promise;\n\t\t}\n\n\t\t/**\n\t\t * Upload employee photo to disk\n\t\t *\n\t\t * @param {Object} employeePhoto employee photo data\n\t\t * @param {Object} employeeData employee data\n\t\t */\n\t\tfunction uploadEmployeePhoto(employeePhoto, employeeData) {\n\t\t\tUpload.upload({\n\t\t\t\turl: 'api/employees/uploadphoto',\n\t\t\t\tdata: {\n\t\t\t\t\tfile: employeePhoto,\n\t\t\t\t\tfileName: employeeData.eid + '.' + employeePhoto.name.split('.').pop()\n\t\t\t\t}\n\t\t\t}).then(function (resp) {\n\t\t\t\tconsole.log('Success ' + resp.config.data.file.name + 'uploaded. Response: ' + resp.data);\n\t\t\t}, function (resp) {\n\t\t\t\tconsole.log('Error status: ' + resp.status);\n\t\t\t}, function (evt) {\n\t\t\t\tvar progressPercentage = parseInt(100.0 * evt.loaded / evt.total);\n\t\t\t\tconsole.log('progress: ' + progressPercentage + '% ' + evt.config.data.file.name);\n\t\t\t});\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').factory('edUserResourceService', edUserResourceService);\n\n\tedUserResourceService.$inject = ['$resource'];\n\n\tfunction edUserResourceService($resource) {\n\t\tvar userResource = $resource('/api/users/:id', {\n\t\t\t_id: '@id'\n\t\t}, {\n\t\t\tupdate: {method: 'PUT', isArray: false}\n\t\t});\n\n\t\tuserResource.prototype.isAdmin = function () {\n\t\t\treturn this.roles && this.roles.indexOf('admin') > -1;\n\t\t};\n\n\t\treturn userResource;\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').controller('edAdminTopbarCtrl', edAdminTopbarCtrl);\n\n\tedAdminTopbarCtrl.$inject = ['edIdentityService'];\n\n\tfunction edAdminTopbarCtrl(edIdentityService) {\n\t\tvar vm = this;\n\t\tvm.identity = edIdentityService;\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').directive('edSeatPickerDesk', edSeatPickerDesk);\n\n\tfunction edSeatPickerDesk() {\n\t\tvar directive = {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: '/partials/admin/components/seat-picker-desk',\n\t\t\treplace: true,\n\t\t\tscope: {\n\t\t\t\tlocation: '@',\n\t\t\t\tfloor: '@',\n\t\t\t\tseat: '@',\n\t\t\t\torientation: '@',\n\t\t\t\tclassification: '@',\n\t\t\t\txpos: '@',\n\t\t\t\typos: '@'\n\t\t\t},\n\t\t\tcontroller: ctrlFunc,\n\t\t\tcontrollerAs: 'vm'\n\t\t};\n\n\t\treturn directive;\n\t}\n\n\tctrlFunc.$inject = ['edEmployeeAdminService', 'edNotifierService'];\n\n\tfunction ctrlFunc(edEmployeeAdminService, edNotifierService) {\n\t\tvar vm = this;\n\t\tvm.assignSeat = assignSeat;\n\n\t\tfunction assignSeat(location, floor, seat) {\n\t\t\tvar newEmployeeData = {\n\t\t\t\tlocation: location,\n\t\t\t\tfloor: floor,\n\t\t\t\tseat: seat\n\t\t\t};\n\n\t\t\tedEmployeeAdminService.updateEmployee(newEmployeeData).then(function () {\n\t\t\t\tedNotifierService.notify('Employee seat updated!');\n\t\t\t});\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edSeatPickerTopbarCtrl', edSeatPickerTopbarCtrl);\n\n\tfunction edSeatPickerTopbarCtrl() {\n\t\t// Put awesome here\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edGuildsCtrl', edGuildsCtrl);\n\n\tedGuildsCtrl.$inject = ['$state', 'edSidebarService', 'edEmployeeService', '_'];\n\n\tfunction edGuildsCtrl($state, edSidebarService, edEmployeeService, _) {\n\t\tvar vm = this;\n\t\tvm.guild = null;\n\t\tvm.guildMembers = [];\n\t\tvm.profileEmployee = profileEmployee;\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tedSidebarService.setLockSidebar(true);\n\t\t\t// Get the guild based on the current state\n\t\t\tvar currentState = $state.current.name;\n\t\t\tvm.guild = currentState.split('.')[1];\n\n\t\t\tif (vm.guild) {\n\t\t\t\tedEmployeeService.getAllEmployees().$promise.then(filterEmployeesByGuild);\n\t\t\t}\n\t\t}\n\n\t\tfunction filterEmployeesByGuild(employees) {\n\t\t\tvm.guildMembers = _.sortBy(_.filter(employees, function (employee) {\n\t\t\t\tif (employee.guilds && _.indexOf(employee.guilds, vm.guild) > -1) {\n\t\t\t\t\treturn employee;\n\t\t\t\t}\n\t\t\t}), 'lastName');\n\t\t}\n\n\t\tfunction profileEmployee(employee) {\n\t\t\tedEmployeeService.removeAllSelectedEmployees();\n\t\t\t$state.go('employees.profile.employee', {'employee': employee.eid});\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edGuildsTopbarCtrl', edGuildsTopbarCtrl);\n\n\tedGuildsTopbarCtrl.$inject = ['edIdentityService'];\n\n\tfunction edGuildsTopbarCtrl(edIdentityService) {\n\t\tvar vm = this;\n\t\tvm.identity = edIdentityService;\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edEmployeeCtrl', edEmployeeCtrl);\n\n\tedEmployeeCtrl.$inject = ['edSidebarService'];\n\n\tfunction edEmployeeCtrl(edSidebarService) {\n\t\tvar vm = this;\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tedSidebarService.setLockSidebar(true);\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').directive('edDesk', edDesk);\n\n\tedDesk.$inject = ['$stateParams', '$document', '$timeout', '$compile', 'edEmployeeService', '_'];\n\n\tfunction edDesk($stateParams, $document, $timeout, $compile, edEmployeeService, _) {\n\t\tvar directive = {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: '/partials/employees/components/desk',\n\t\t\treplace: true,\n\t\t\tscope: {\n\t\t\t\tlocation: '@',\n\t\t\t\tseat: '@',\n\t\t\t\torientation: '@',\n\t\t\t\tclassification: '@',\n\t\t\t\txpos: '@',\n\t\t\t\typos: '@'\n\t\t\t},\n\t\t\tlink: linkFunc,\n\t\t\tcontroller: ctrlFunc,\n\t\t\tcontrollerAs: 'vm'\n\t\t};\n\n\t\treturn directive;\n\n\t\tfunction linkFunc(scope, el, attrs) {\n\t\t\tscope.mappedEmployee = edEmployeeService.getMappedEmployee();\n\n\t\t\t// If coming from the profile page via a link in the employee card\n\t\t\tif ($stateParams.seat === attrs.seat && scope.mappedEmployee) {\n\t\t\t\t$timeout(function () {\n\t\t\t\t\t$document.scrollToElement(el, 300, 300).then(function () {\n\t\t\t\t\t\tel.addClass('mapped').append($compile('<div class=\"marker\"><div class=\"pulse\"></div><div class=\"pin\"></div>' +\n\t\t\t\t\t\t\t'<div class=\"mapped-label label bg-danger\" ng-click=\"vm.viewProfile()\">' + scope.mappedEmployee.displayName + '</div></div>')(scope));\n\t\t\t\t\t\t// Do some math to figure out how to center the label\n\t\t\t\t\t\tvar markerLabel = $('.mapped-label');\n\t\t\t\t\t\tvar leftPos = (el.outerWidth() / 2) - (markerLabel.outerWidth() / 2);\n\t\t\t\t\t\tmarkerLabel.css('left', leftPos);\n\t\t\t\t\t});\n\t\t\t\t}, 800);\n\t\t\t} else {\n\t\t\t\tel.removeClass('mapped').find('.marker').remove();\n\t\t\t}\n\n\t\t\tvar deregister = scope.$on('mappedEmployeeChange', function (event, mappedEmployee) {\n\t\t\t\tif (mappedEmployee && mappedEmployee.seat === attrs.seat) {\n\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t$document.scrollToElement(el, 300, 300).then(function () {\n\t\t\t\t\t\t\tel.addClass('mapped').append($compile('<div class=\"marker\"><div class=\"pulse\"></div><div class=\"pin\"></div>' +\n\t\t\t\t\t\t\t\t'<div class=\"mapped-label label bg-danger\" ng-click=\"vm.viewProfile()\">' + mappedEmployee.displayName + '</div></div>')(scope));\n\t\t\t\t\t\t\t// Do some math to figure out how to center the label\n\t\t\t\t\t\t\tvar markerLabel = $('.mapped-label');\n\t\t\t\t\t\t\tvar leftPos = (el.outerWidth() / 2) - (markerLabel.outerWidth() / 2);\n\t\t\t\t\t\t\tmarkerLabel.css('left', leftPos);\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 100);\n\t\t\t\t} else {\n\t\t\t\t\tel.removeClass('mapped').find('.marker').remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tscope.$on('$destroy', deregister);\n\t\t}\n\t}\n\n\tctrlFunc.$inject = ['$state', 'edEmployeeService', 'edNotifierService', 'edIdentityService', 'edPrinterService', 'edRoomService'];\n\n\tfunction ctrlFunc($state, edEmployeeService, edNotifierService, edIdentityService, edPrinterService, edRoomService) {\n\t\tvar vm = this;\n\t\tvm.mapEmployee = mapEmployee;\n\t\tvm.viewProfile = viewProfile;\n\t\tvm.employees = edEmployeeService.getAllEmployees();\n\t\tvm.mappedEmployee = null;\n\t\tvm.identity = edIdentityService;\n\n\t\tvar viewingProfile = false;\n\n\t\tfunction mapEmployee(seat, location) {\n\t\t\t// Don't map employee if the user wants to view the profile\n\t\t\tif (!viewingProfile) {\n\t\t\t\tvar mappedEmployeeArray = _.filter(vm.employees, function (employee) {\n\t\t\t\t\treturn employee.seat === seat && employee.location === location;\n\t\t\t\t});\n\n\t\t\t\tif (mappedEmployeeArray.length > 0) {\n\t\t\t\t\t// Only allow 1 thing to be mapped at a time\n\t\t\t\t\tedPrinterService.updateMappedPrinter(null);\n\t\t\t\t\tedRoomService.updateMappedRoom(null);\n\t\t\t\t\tvm.mappedEmployee = edEmployeeService.updateMappedEmployee(mappedEmployeeArray[0]);\n\t\t\t\t} else {\n\t\t\t\t\tedNotifierService.error('Sorry, I don\\'t know who sits there.');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction viewProfile() {\n\t\t\tviewingProfile = true;\n\t\t\tedEmployeeService.removeAllSelectedEmployees();\n\t\t\tvar selectedEmployee = edEmployeeService.updateSelectedEmployees(edEmployeeService.getMappedEmployee())[0];\n\t\t\t$state.go('employees.profile.employee', {'employee': selectedEmployee.eid});\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').directive('edEmployeeCard', edEmployeeCard);\n\n\tedEmployeeCard.$inject = ['$timeout', 'edEmployeeService'];\n\n\tfunction edEmployeeCard($timeout, edEmployeeService) {\n\t\tvar directive = {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: '/partials/employees/components/employee-card',\n\t\t\tscope: {\n\t\t\t\temployee: '='\n\t\t\t},\n\t\t\tlink: linkFunc,\n\t\t\tcontroller: ctrlFunc,\n\t\t\tcontrollerAs: 'vm'\n\t\t};\n\n\t\treturn directive;\n\n\t\tfunction linkFunc(scope, el, attrs) {\n\t\t\tscope.twEmail = scope.employee.email.split('@')[0] + '@towerswatson.com';\n\n\t\t\tscope.deselectEmployee = function (employee) {\n\t\t\t\tvar parent = el.parent();\n\t\t\t\tvar child = el.children().first();\n\t\t\t\tchild.addClass('scale-down');\n\t\t\t\t$timeout(function () {\n\t\t\t\t\tparent.addClass('shrink-left');\n\t\t\t\t\tedEmployeeService.updateSelectedEmployees(employee);\n\t\t\t\t}, 250);\n\t\t\t};\n\t\t}\n\t}\n\n\tctrlFunc.$inject = ['$state', 'edEmployeeService', 'edIdentityService'];\n\n\tfunction ctrlFunc($state, edEmployeeService, edIdentityService) {\n\t\tvar vm = this;\n\t\tvm.identity = edIdentityService;\n\t\tvm.mapEmployee = mapEmployee;\n\t\tvm.editEmployee = editEmployee;\n\n\t\tfunction mapEmployee(employee) {\n\t\t\tedEmployeeService.updateMappedEmployee(employee);\n\t\t\t$state.go('employees.map.' + employee.location + '-' + employee.floor, {'seat': employee.seat});\n\t\t}\n\n\t\tfunction editEmployee(employee) {\n\t\t\tedEmployeeService.removeAllSelectedEmployees();\n\t\t\tedEmployeeService.updateSelectedEmployees(employee);\n\t\t\t$state.go('admin.update-employee');\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edEmployeeSelectorCtrl', edEmployeeSelectorCtrl);\n\n\tedEmployeeSelectorCtrl.$inject = ['$scope', '$document', 'edEmployeeService', 'edNotifierService', 'edPrinterService', 'edRoomService'];\n\n\tfunction edEmployeeSelectorCtrl($scope, $document, edEmployeeService, edNotifierService, edPrinterService, edRoomService) {\n\t\tvar vm = this;\n\t\tvm.employees = edEmployeeService.getAllEmployees();\n\t\tvm.selectedEmployees = edEmployeeService.getSelectedEmployees();\n\t\tvm.displayEmployeeInfoType = edEmployeeService.getDisplayEmployeeInfoType();\n\t\tvm.selectEmployee = selectEmployee;\n\t\tvm.selectAll = selectAll;\n\t\tvm.selectNone = selectNone;\n\t\tvm.allowSelectAll = edEmployeeService.getSelectMultipleEmployees();\n\t\tvm.filteredEmployees = edEmployeeService.getAllEmployees();\n\t\tvm.clearFilter = clearFilter;\n\t\tvm.locationFilter = locationFilter;\n\t\tvm.filterLocations = filterLocations;\n\t\tvm.location = {\n\t\t\t'buf': false,\n\t\t\t'nyc': false\n\t\t};\n\t\tvm.locations = [];\n\t\tvm.nycOnly = nycOnly;\n\t\tvm.floorFilter = floorFilter;\n\t\tvm.filterFloors = filterFloors;\n\t\tvm.floor = {\n\t\t\t'6': false,\n\t\t\t'7': false,\n\t\t\t'8': false\n\t\t};\n\t\tvm.floors = [];\n\n\t\tfunction selectEmployee(employee) {\n\t\t\tif (vm.displayEmployeeInfoType === 'profile') {\n\t\t\t\tvm.selectedEmployees = edEmployeeService.updateSelectedEmployees(employee);\n\t\t\t}\n\t\t\telse if (vm.displayEmployeeInfoType === 'location') {\n\t\t\t\t// Only allow 1 thing to be mapped at a time\n\t\t\t\tedPrinterService.updateMappedPrinter(null);\n\t\t\t\tedRoomService.updateMappedRoom(null);\n\t\t\t\tedEmployeeService.updateMappedEmployee(employee);\n\t\t\t}\n\t\t}\n\n\t\tfunction filterLocations(location) {\n\t\t\tif (vm.location[location]) {\n\t\t\t\tvm.locations.push(location);\n\t\t\t} else {\n\t\t\t\tvm.locations.splice(vm.locations.indexOf(location), 1);\n\t\t\t}\n\t\t}\n\n\t\tfunction locationFilter(employee) {\n\t\t\tif (vm.locations.length > 0) {\n\t\t\t\tif (employee.location) {\n\t\t\t\t\treturn vm.locations.indexOf(employee.location) > -1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tfunction nycOnly() {\n\t\t\treturn vm.locations.length === 1 && vm.locations[0] === 'nyc';\n\t\t}\n\n\t\tfunction filterFloors(floor) {\n\t\t\tif (vm.floor[floor]) {\n\t\t\t\tvm.floors.push(floor);\n\t\t\t} else {\n\t\t\t\tvm.floors.splice(vm.floors.indexOf(floor), 1);\n\t\t\t}\n\t\t}\n\n\t\tfunction floorFilter(employee) {\n\t\t\t// Only use the floor filter if NYC is not the only location selected\n\t\t\tif (!nycOnly()) {\n\t\t\t\t// If a floor(s) has been selected\n\t\t\t\tif (vm.floors.length > 0) {\n\t\t\t\t\t// If the employee is on a floor in BUF\n\t\t\t\t\tif (employee.floor && employee.location === 'buf') {\n\t\t\t\t\t\t// Include this employee if they are on the selected floor (in BUF)\n\t\t\t\t\t\treturn vm.floors.indexOf(employee.floor) > -1;\n\t\t\t\t\t// Include this employee if NYC is also a selected location\n\t\t\t\t\t} else if (vm.locations.indexOf('nyc') > -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t// Include all filtered employees if no floor is selected\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t// Include all filtered employees if NYC is the only location selected\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tfunction selectAll() {\n\t\t\tvm.selectedEmployees = edEmployeeService.addAllFilteredEmployees(vm.filteredEmployees);\n\t\t\t$document.scrollTopAnimated(0, 300);\n\t\t\tif (vm.team === 'Prestige Worldwide') {\n\t\t\t\tedNotifierService.info('Investors?  Possibly you!');\n\t\t\t}\n\t\t}\n\n\t\tfunction selectNone() {\n\t\t\tvm.selectedEmployees = edEmployeeService.removeAllSelectedEmployees();\n\t\t}\n\n\t\tfunction clearFilter() {\n\t\t\tvm.employeeName = '';\n\t\t\tvm.floors = [];\n\t\t\tvm.floor = {\n\t\t\t\t'6': false,\n\t\t\t\t'7': false,\n\t\t\t\t'8': false\n\t\t\t};\n\t\t\tvm.locations = [];\n\t\t\tvm.location = {\n\t\t\t\t'buf': false,\n\t\t\t\t'nyc': false\n\t\t\t};\n\t\t\tvm.department = '';\n\t\t\tvm.team = '';\n\t\t}\n\n\t\tvar deregisterEmployeesUpdated = $scope.$on('employeesUpdated', function (event, employees) {\n\t\t\tvm.employees = employees;\n\t\t});\n\n\t\t$scope.$on('$destroy', deregisterEmployeesUpdated);\n\n\t\tvar deregisterSelectMultipleEmployeesChange = $scope.$on('selectMultipleEmployeesChange', function (event, allowSelectMultipleEmployees) {\n\t\t\tvm.allowSelectAll = allowSelectMultipleEmployees;\n\t\t});\n\n\t\t$scope.$on('$destroy', deregisterSelectMultipleEmployeesChange);\n\n\t\tvar deregisterDisplayEmployeeInfoTypeChange = $scope.$on('displayEmployeeInfoTypeChange', function (event, displayEmployeeInfoType) {\n\t\t\tvm.displayEmployeeInfoType = displayEmployeeInfoType;\n\t\t});\n\n\t\t$scope.$on('$destroy', deregisterDisplayEmployeeInfoTypeChange);\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edEmployeeTopbarCtrl', edEmployeeTopbarCtrl);\n\n\tfunction edEmployeeTopbarCtrl() {\n\t\t//console.log('topbar');\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edHelpCtrl', edHelpCtrl);\n\n\tedHelpCtrl.$inject = ['edSidebarService'];\n\n\tfunction edHelpCtrl(edSidebarService) {\n\t\tvar vm = this;\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tedSidebarService.setLockSidebar(true);\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').factory('edCachedDeskResourceService', edCachedDeskResourceService);\n\n\tedCachedDeskResourceService.$inject = ['edDeskResourceService'];\n\n\tfunction edCachedDeskResourceService(edDeskResourceService) {\n\t\tvar desks;\n\t\tvar service = {\n\t\t\tquery: query\n\t\t};\n\n\t\treturn service;\n\n\t\tfunction query() {\n\t\t\tif (!desks) {\n\t\t\t\tdesks = edDeskResourceService.query();\n\t\t\t}\n\n\t\t\treturn desks;\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').factory('edCachedEmployeeResourceService', edCachedEmployeeResourceService);\n\n\tedCachedEmployeeResourceService.$inject = ['edEmployeeResourceService', '_'];\n\n\tfunction edCachedEmployeeResourceService(edEmployeeResourceService, _) {\n\t\tvar employees;\n\t\tvar service = {\n\t\t\tquery: query\n\t\t};\n\n\t\treturn service;\n\n\t\tfunction query(cacheBust) {\n\t\t\tif (!employees || cacheBust) {\n\t\t\t\temployees = edEmployeeResourceService.query({cacheKill: new Date().getTime()}, function(ees) {\n\t\t\t\t\tangular.forEach(ees, function (employee) {\n\t\t\t\t\t\t// Create a manager property for each employee\n\t\t\t\t\t\tvar manager = _.find(ees, {'eid': employee.mid});\n\t\t\t\t\t\tif (manager) {\n\t\t\t\t\t\t\tif (manager.nickname) {\n\t\t\t\t\t\t\t\temployee.manager = manager.nickname + ' ' + manager.lastName;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\temployee.manager = manager.firstName + ' ' + manager.lastName;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Create a displayName property for each employee\n\t\t\t\t\t\tif (employee.nickname) {\n\t\t\t\t\t\t\temployee.displayName = employee.nickname + ' ' + employee.lastName;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\temployee.displayName = employee.firstName + ' ' + employee.lastName;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn employees;\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').factory('edDeskResourceService', edDeskResourceService);\n\n\tedDeskResourceService.$inject = ['$resource'];\n\n\tfunction edDeskResourceService($resource) {\n\t\tvar deskResource = $resource('/api/desks/:id', {\n\t\t\t_id: '@id'\n\t\t}, {\n\t\t\tupdate: {method: 'PUT', isArray: false}\n\t\t});\n\n\t\treturn deskResource;\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').factory('edDeskService', edDeskService);\n\n\tedDeskService.$inject = ['edCachedDeskResourceService'];\n\n\tfunction edDeskService(edCachedDeskResourceService) {\n\t\tvar service = {\n\t\t\tgetAllDesks: getAllDesks\n\t\t};\n\n\t\treturn service;\n\n\t\tfunction getAllDesks() {\n\t\t\treturn edCachedDeskResourceService.query();\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').factory('edEmployeeResourceService', edEmployeeResourceService);\n\n\tedEmployeeResourceService.$inject = ['$resource'];\n\n\tfunction edEmployeeResourceService($resource) {\n\t\tvar employeeResource = $resource('/api/employees/:id', {\n\t\t\t_id: '@id'\n\t\t}, {\n\t\t\tupdate: {method: 'PUT', isArray: false}\n\t\t});\n\n\t\treturn employeeResource;\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').factory('edEmployeeService', edEmployeeService);\n\n\tedEmployeeService.$inject = ['$rootScope', 'edCachedEmployeeResourceService', 'edNotifierService', '_'];\n\n\tfunction edEmployeeService($rootScope, edCachedEmployeeResourceService, edNotifierService, _) {\n\t\tvar selectedEmployees = [];\n\t\tvar selectedEmployeeAdded = false;\n\t\tvar profilePageNumber = 1;\n\t\tvar mappedEmployee = null;\n\t\tvar selectMultipleEmployees = false;\n\t\tvar displayEmployeeInfoType = 'profile';\n\t\tvar service = {\n\t\t\tgetAllEmployees: getAllEmployees,\n\t\t\tgetSelectedEmployees: getSelectedEmployees,\n\t\t\taddAllFilteredEmployees: addAllFilteredEmployees,\n\t\t\tupdateSelectedEmployees: updateSelectedEmployees,\n\t\t\tremoveAllSelectedEmployees: removeAllSelectedEmployees,\n\t\t\tsetSelectMultipleEmployees: setSelectMultipleEmployees,\n\t\t\tgetSelectMultipleEmployees: getSelectMultipleEmployees,\n\t\t\tupdateMappedEmployee: updateMappedEmployee,\n\t\t\tupdateMappedEmployeeById: updateMappedEmployeeById,\n\t\t\tgetMappedEmployee: getMappedEmployee,\n\t\t\tsetDisplayEmployeeInfoType: setDisplayEmployeeInfoType,\n\t\t\tgetDisplayEmployeeInfoType: getDisplayEmployeeInfoType,\n\t\t\tgetSelectedEmployeeAdded: getSelectedEmployeeAdded,\n\t\t\tsetProfilePageNumber: setProfilePageNumber,\n\t\t\tgetProfilePageNumber: getProfilePageNumber\n\t\t};\n\t\treturn service;\n\n\t\t/**\n\t\t * Gets all employees from the database (or memory)\n\t\t *\n\t\t * @return {Array} employees\n\t\t */\n\t\tfunction getAllEmployees(cacheBust) {\n\t\t\treturn edCachedEmployeeResourceService.query(cacheBust);\n\t\t}\n\n\t\t/**\n\t\t * Gets the selected employees\n\t\t *\n\t\t * @return {Array} selected employees\n\t\t */\n\t\tfunction getSelectedEmployees() {\n\t\t\treturn selectedEmployees;\n\t\t}\n\n\t\t/**\n\t\t * Adds all the filtered employees to the selected employees\n\t\t * Removes any unfiltered employees from selected employees\n\t\t *\n\t\t * @param {Array} employees to add to selected\n\t\t * @return {Array} selected employees\n\t\t */\n\t\tfunction addAllFilteredEmployees(employees) {\n\t\t\tangular.forEach(selectedEmployees, function (prevSelected) {\n\t\t\t\tprevSelected.selected = false;\n\t\t\t});\n\t\t\tangular.forEach(employees, function (employee) {\n\t\t\t\temployee.selected = true;\n\t\t\t});\n\t\t\tselectedEmployees = employees;\n\t\t\tselectedEmployeeAdded = true;\n\t\t\t// Broadcast event for listeners\n\t\t\t$rootScope.$broadcast('selectedEmployeeChange', selectedEmployees);\n\t\t\treturn selectedEmployees;\n\t\t}\n\n\t\t/**\n\t\t * Updates the mapped employee\n\t\t *\n\t\t * @param {Object} employee to map / un-map\n\t\t * @return {Object} mapped employee\n\t\t */\n\t\tfunction updateMappedEmployee(employee) {\n\t\t\t// Un-map the currently mapped employee\n\t\t\tif (!employee && mappedEmployee) {\n\t\t\t\tmappedEmployee.mapped = false;\n\t\t\t\tmappedEmployee = null;\n\t\t\t\t// Un-map the currently mapped employee and (possibly) map the new one\n\t\t\t} else if (employee && mappedEmployee) {\n\t\t\t\tmappedEmployee.mapped = false;\n\t\t\t\t// Map the new employee\n\t\t\t\tif (mappedEmployee._id !== employee._id) {\n\t\t\t\t\temployee.mapped = true;\n\t\t\t\t\tmappedEmployee = employee;\n\t\t\t\t\t// Just remove the currently mapped employee\n\t\t\t\t} else {\n\t\t\t\t\tmappedEmployee = null;\n\t\t\t\t}\n\t\t\t\t// Map the requested employee (none currently mapped)\n\t\t\t} else if (employee && !mappedEmployee) {\n\t\t\t\temployee.mapped = true;\n\t\t\t\tmappedEmployee = employee;\n\t\t\t}\n\t\t\t$rootScope.$broadcast('mappedEmployeeChange', mappedEmployee);\n\t\t\treturn mappedEmployee;\n\t\t}\n\n\t\t/**\n\t\t * Updates the mapped employee using an employee ID\n\t\t */\n\t\tfunction updateMappedEmployeeById(id) {\n\t\t\tgetAllEmployees().$promise.then(function (employees) {\n\t\t\t\tvar employee = _.filter(employees, function (employee) {\n\t\t\t\t\treturn employee.eid === parseInt(id);\n\t\t\t\t});\n\t\t\t\tif (employee.length > 0) {\n\t\t\t\t\tupdateMappedEmployee(employee[0]);\n\t\t\t\t} else {\n\t\t\t\t\tedNotifierService.error('I\\'m not sure who you\\'re looking for.');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Gets the mapped employee\n\t\t *\n\t\t * @return {Object} mapped employee\n\t\t */\n\t\tfunction getMappedEmployee() {\n\t\t\treturn mappedEmployee;\n\t\t}\n\n\t\t/**\n\t\t * Sets the type of info to display\n\t\t *\n\t\t * @param {String} infoType type of info we want to deal with\n\t\t * @return {String} type of info we want to deal with\n\t\t */\n\t\tfunction setDisplayEmployeeInfoType(infoType) {\n\t\t\tdisplayEmployeeInfoType = infoType;\n\t\t\t$rootScope.$broadcast('displayEmployeeInfoTypeChange', displayEmployeeInfoType);\n\t\t\treturn displayEmployeeInfoType;\n\t\t}\n\n\t\t/**\n\t\t * Gets the type of info to display\n\t\t *\n\t\t * @return {String} type of info we should deal with\n\t\t */\n\t\tfunction getDisplayEmployeeInfoType() {\n\t\t\treturn displayEmployeeInfoType;\n\t\t}\n\n\t\t/**\n\t\t * Updates the array of selected employees\n\t\t *\n\t\t * @param {Object} employee the employee to add / remove from selected employees\n\t\t * @return {Array} selected employees\n\t\t */\n\t\tfunction updateSelectedEmployees(employee) {\n\t\t\t// Allowed to have multiple employees selected\n\t\t\tif (selectMultipleEmployees) {\n\t\t\t\t// This employee is not already selected, so add them (and select them in the list)\n\t\t\t\tif (!employee.selected) {\n\t\t\t\t\temployee.selected = true;\n\t\t\t\t\tselectedEmployees.unshift(employee);\n\t\t\t\t\tselectedEmployeeAdded = true;\n\t\t\t\t\t// This employee was already selected, so remove them (and deselect them in the list)\n\t\t\t\t} else {\n\t\t\t\t\temployee.selected = false;\n\t\t\t\t\tselectedEmployees.splice(selectedEmployees.indexOf(employee), 1);\n\t\t\t\t\tselectedEmployeeAdded = false;\n\t\t\t\t}\n\t\t\t\t// NOT allowed to have multiple employees selected\n\t\t\t} else {\n\t\t\t\t// This employee is not already selected, so add them and removed (and deselected) everyone else\n\t\t\t\tif (!employee.selected) {\n\t\t\t\t\t// set all selected employee's selected property to false\n\t\t\t\t\tangular.forEach(selectedEmployees, function (prevSelected) {\n\t\t\t\t\t\tprevSelected.selected = false;\n\t\t\t\t\t});\n\t\t\t\t\t// Set this employee's selected property to true\n\t\t\t\t\temployee.selected = true;\n\t\t\t\t\t// replace the array of selected employees with just this one employee\n\t\t\t\t\tselectedEmployees = [employee];\n\t\t\t\t\tselectedEmployeeAdded = true;\n\t\t\t\t\t// This employee was already selected, so remove them\n\t\t\t\t} else {\n\t\t\t\t\temployee.selected = false;\n\t\t\t\t\tselectedEmployees = [];\n\t\t\t\t\tselectedEmployeeAdded = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Broadcast event for listeners\n\t\t\t$rootScope.$broadcast('selectedEmployeeChange', selectedEmployees);\n\t\t\treturn selectedEmployees;\n\t\t}\n\n\t\t/**\n\t\t * Removes all selected employees\n\t\t */\n\t\tfunction removeAllSelectedEmployees() {\n\t\t\tangular.forEach(selectedEmployees, function (prevSelected) {\n\t\t\t\tprevSelected.selected = false;\n\t\t\t});\n\t\t\tselectedEmployees = [];\n\t\t\tselectedEmployeeAdded = false;\n\t\t\t$rootScope.$broadcast('selectedEmployeeChange', selectedEmployees);\n\t\t}\n\n\t\t/**\n\t\t * Returns if a selected employee was added (true) or removed (false)\n\t\t *\n\t\t * @return {Boolean} selected employees added\n\t\t */\n\t\tfunction getSelectedEmployeeAdded() {\n\t\t\treturn selectedEmployeeAdded;\n\t\t}\n\n\t\t/**\n\t\t * Sets the current page number of the employee profiles\n\t\t *\n\t\t * @param {Number} pageNumber current page number on employee profiles\n\t\t */\n\t\tfunction setProfilePageNumber(pageNumber) {\n\t\t\tprofilePageNumber = pageNumber;\n\t\t}\n\n\t\t/**\n\t\t * Returns the employee profile page number\n\t\t *\n\t\t * @return {Number} employee profile page number\n\t\t */\n\t\tfunction getProfilePageNumber() {\n\t\t\treturn profilePageNumber;\n\t\t}\n\n\t\t/**\n\t\t * Sets the ability to select more than one employee at a time\n\t\t *\n\t\t * @param {Boolean} selectMultiple allowed to select multiple employees\n\t\t * @return {Array} selected employees\n\t\t */\n\t\tfunction setSelectMultipleEmployees(selectMultiple) {\n\t\t\tselectMultipleEmployees = selectMultiple;\n\t\t\t// If there are multiple selected employees, remove all but the last one added\n\t\t\tif (!selectMultiple && selectedEmployees.length > 1) {\n\t\t\t\tvar lastSelectedEmployee = selectedEmployees.shift();\n\t\t\t\t// This employee will be reselected in updateSelectedEmployees\n\t\t\t\tlastSelectedEmployee.selected = false;\n\t\t\t\tselectedEmployees = updateSelectedEmployees(lastSelectedEmployee);\n\t\t\t}\n\t\t\t$rootScope.$broadcast('selectMultipleEmployeesChange', selectMultipleEmployees);\n\t\t\treturn selectedEmployees;\n\t\t}\n\n\t\t/**\n\t\t * Gets whether or not we should allow multiple employees to be selected\n\t\t *\n\t\t * @return {Boolean} allow selecting multiple employee\n\t\t */\n\t\tfunction getSelectMultipleEmployees() {\n\t\t\treturn selectMultipleEmployees;\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').controller('edCreateEmployeeCtrl', edCreateEmployeeCtrl);\n\n\tedCreateEmployeeCtrl.$inject = ['$scope', 'edNotifierService', 'edEmployeeService', 'edDeskService', 'edSidebarService', 'edEmployeeAdminService', 'edIdentityService', '_'];\n\n\tfunction edCreateEmployeeCtrl($scope, edNotifierService, edEmployeeService, edDeskService, edSidebarService, edEmployeeAdminService, edIdentityService, _) {\n\t\tvar vm = this;\n\t\tvm.identity = edIdentityService;\n\t\tvm.createEmployee = createEmployee;\n\t\tvm.desks = edDeskService.getAllDesks();\n\t\tvm.managers = null;\n\t\tvm.newEmployee = {};\n\t\tvm.locationOptions = [\n\t\t\t{\n\t\t\t\tvalue: 'buf',\n\t\t\t\ttext: 'Buffalo'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 'nyc',\n\t\t\t\ttext: 'NYC'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 'oth',\n\t\t\t\ttext: 'Remote'\n\t\t\t}\n\t\t];\n\t\tvm.departments = [\n\t\t\t'Carrier Relations',\n\t\t\t'Client Service',\n\t\t\t'Client Service Management',\n\t\t\t'Configuration',\n\t\t\t'Corporate',\n\t\t\t'Development',\n\t\t\t'Employee Services',\n\t\t\t'Field Sales',\n\t\t\t'Finance',\n\t\t\t'HR',\n\t\t\t'Implementation',\n\t\t\t'Infrastructure / Tech Ops',\n\t\t\t'Marketing',\n\t\t\t'Product Strategy',\n\t\t\t'QA / Reporting / Billing'\n\t\t];\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tresetForm();\n\t\t\tedSidebarService.setLockSidebar(true);\n\t\t\tedEmployeeService.getAllEmployees().$promise.then(createManagerList);\n\t\t}\n\n\t\tfunction resetForm() {\n\t\t\tvm.newEmployee = {\n\t\t\t\teid: '',\n\t\t\t\tfirstName: '',\n\t\t\t\tlastName: '',\n\t\t\t\tnickname: '',\n\t\t\t\temail: '',\n\t\t\t\tphone: '',\n\t\t\t\text: '',\n\t\t\t\tdepartment: '',\n\t\t\t\ttitle: '',\n\t\t\t\tteam: '',\n\t\t\t\tguilds: {},\n\t\t\t\tcommittees: {},\n\t\t\t\tlocation: '',\n\t\t\t\tfloor: '',\n\t\t\t\tseat: '',\n\t\t\t\thasReports: '',\n\t\t\t\tmid: ''\n\t\t\t};\n\t\t}\n\n\t\tfunction createManagerList(employees) {\n\t\t\tvm.managers = _.filter(employees, function (employee) {\n\t\t\t\treturn employee.hasReports === true;\n\t\t\t});\n\t\t}\n\n\t\tvar employeesUpdatedEvent = $scope.$on('employeesUpdated', function () {\n\t\t\tedEmployeeService.getAllEmployees().$promise.then(createManagerList);\n\t\t});\n\n\t\t$scope.$on('$destroy', employeesUpdatedEvent);\n\n\t\tfunction createEmployee() {\n\t\t\tvar newEmployeeData = {\n\t\t\t\teid: vm.newEmployee.eid,\n\t\t\t\tfirstName: vm.newEmployee.firstName,\n\t\t\t\tlastName: vm.newEmployee.lastName,\n\t\t\t\tnickname: vm.newEmployee.nickname,\n\t\t\t\temail: vm.newEmployee.email,\n\t\t\t\tphone: vm.newEmployee.phone,\n\t\t\t\text: vm.newEmployee.ext,\n\t\t\t\tdepartment: vm.newEmployee.department,\n\t\t\t\ttitle: vm.newEmployee.title,\n\t\t\t\tteam: vm.newEmployee.team,\n\t\t\t\tguilds: [],\n\t\t\t\tcommittees: [],\n\t\t\t\tlocation: vm.newEmployee.location,\n\t\t\t\tfloor: vm.newEmployee.floor,\n\t\t\t\tseat: vm.newEmployee.seat,\n\t\t\t\thasReports: vm.newEmployee.hasReports,\n\t\t\t\tmid: vm.newEmployee.mid\n\t\t\t};\n\n\t\t\t// Add all the selected guilds\n\t\t\t_.forEach(vm.newEmployee.guilds, function (include, guild) {\n\t\t\t\tif (include) {\n\t\t\t\t\tnewEmployeeData.guilds.push(guild);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Add all the selected committees\n\t\t\t_.forEach(vm.newEmployee.committees, function (include, committee) {\n\t\t\t\tif (include) {\n\t\t\t\t\tnewEmployeeData.committees.push(committee);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tedEmployeeAdminService.createEmployee(newEmployeeData).then(function (employee) {\n\t\t\t\tedNotifierService.notify('New Employee Added!');\n\t\t\t\t// upload the employee photo if there is one\n\t\t\t\tif (vm.newEmployee.image) {\n\t\t\t\t\tedEmployeeAdminService.uploadEmployeePhoto(vm.newEmployee.image, employee);\n\t\t\t\t\t// Now update the employee record in the DB with the correct filename\n\t\t\t\t\t// update the selected employee to add so we can update them\n\t\t\t\t\tedEmployeeService.updateSelectedEmployees(employee);\n\t\t\t\t\tnewEmployeeData.image = employee.eid + '.' + vm.newEmployee.image.name.split('.').pop().toLowerCase();\n\t\t\t\t\tedEmployeeAdminService.updateEmployee(newEmployeeData).then(function (employee) {\n\t\t\t\t\t\t//photo upload successful\n\t\t\t\t\t}, function () {\n\t\t\t\t\t\tedNotifierService.error('Employee Photo Not Added.');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tresetForm();\n\t\t\t\t$scope.createEmployeeForm.$setPristine();\n\t\t\t}, function (reason) {\n\t\t\t\tedNotifierService.error(reason);\n\t\t\t});\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').controller('edCreateUserCtrl', edCreateUserCtrl);\n\n\tedCreateUserCtrl.$inject = ['$state', 'edNotifierService', 'edAuthService', 'edSidebarService'];\n\n\tfunction edCreateUserCtrl($state, edNotifierService, edAuthService, edSidebarService) {\n\t\tvar vm = this;\n\t\tvm.createUser = createUser;\n\n\t\tedSidebarService.setLockSidebar(true);\n\n\t\tfunction createUser() {\n\t\t\tvar newUserData = {\n\t\t\t\tusername: vm.username,\n\t\t\t\tpassword: vm.password,\n\t\t\t\tfirstName: vm.fname,\n\t\t\t\tlastName: vm.lname,\n\t\t\t\troles: vm.roles.split(',')\n\t\t\t};\n\n\t\t\tedAuthService.createUser(newUserData).then(function () {\n\t\t\t\tedNotifierService.notify('User account created!');\n\t\t\t\t$state.go('admin');\n\t\t\t}, function (reason) {\n\t\t\t\tedNotifierService.error(reason);\n\t\t\t});\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').controller('edLoginCtrl', edLoginCtrl);\n\n\tedLoginCtrl.$inject = ['edIdentityService', 'edNotifierService', 'edAuthService', 'edSidebarService'];\n\n\tfunction edLoginCtrl(edIdentityService, edNotifierService, edAuthService, edSidebarService) {\n\t\tvar vm = this;\n\t\tvm.identity = edIdentityService;\n\t\tvm.signin = signin;\n\n\t\tedSidebarService.setLockSidebar(true);\n\n\t\tfunction signin(username, password) {\n\t\t\tedAuthService.authenticateUser(username, password).then(function (success) {\n\t\t\t\tif (success) {\n\t\t\t\t\tedNotifierService.notify('You have successfully signed in!');\n\t\t\t\t} else {\n\t\t\t\t\tedNotifierService.error('Username / Password combination incorrect');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').controller('edSeatPickerFloorCtrl', edSeatPickerFloorCtrl);\n\n\tedSeatPickerFloorCtrl.$inject = ['edEmployeeService', 'edDeskService', '$state', '$scope', '_'];\n\n\tfunction edSeatPickerFloorCtrl(edEmployeeService, edDeskService, $state, $scope, _) {\n\t\tvar vm = this;\n\t\tvm.selectedEmployees = edEmployeeService.setSelectMultipleEmployees(false);\n\t\tvm.desks = null;\n\t\tvm.location = null;\n\t\tvm.floor = null;\n\n\t\tedEmployeeService.setDisplayEmployeeInfoType('profile');\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tcheckForSelectedEmployee(vm.selectedEmployees);\n\t\t\t// Get the floor based on the current state\n\t\t\tvar currentState = $state.current.name;\n\t\t\tvar locationAndFloor = currentState.split('.')[2].split('-');\n\t\t\tvm.location = locationAndFloor[0];\n\t\t\tvm.floor = parseInt(locationAndFloor[1]);\n\n\t\t\tif (vm.location === 'buf') {\n\t\t\t\tvm.locationName = 'BUF';\n\t\t\t} else if (vm.location === 'nyc') {\n\t\t\t\tvm.locationName = 'NYC';\n\t\t\t} else {\n\t\t\t\tvm.locationName = 'Remote';\n\t\t\t}\n\n\t\t\t// Map all the desks on this floor\n\t\t\tedDeskService.getAllDesks().$promise.then(deskFilter);\n\t\t}\n\n\t\tvar deregisterEmployee = $scope.$on('selectedEmployeeChange', function (event, selectedEmployees) {\n\t\t\tcheckForSelectedEmployee(selectedEmployees);\n\t\t});\n\n\t\t$scope.$on('$destroy', deregisterEmployee);\n\n\t\tfunction deskFilter(desks) {\n\t\t\tvm.desks = _.filter(desks, function (desk) {\n\t\t\t\treturn desk.floor === vm.floor && desk.location === vm.location;\n\t\t\t});\n\t\t}\n\n\t\tfunction checkForSelectedEmployee(selectedEmployees) {\n\t\t\tif (selectedEmployees.length !== 1) {\n\t\t\t\t$state.go('admin.seat-picker');\n\t\t\t}\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edSeatPickerCtrl', edSeatPickerCtrl);\n\n\tedSeatPickerCtrl.$inject = ['$scope', 'edEmployeeService', 'edEmployeeAdminService', 'edNotifierService'];\n\n\tfunction edSeatPickerCtrl($scope, edEmployeeService, edEmployeeAdminService, edNotifierService) {\n\t\tvar vm = this;\n\t\tvm.selectedEmployee = edEmployeeService.setSelectMultipleEmployees(false)[0];\n\t\tvm.setRemoteEmployee = setRemoteEmployee;\n\n\t\tedEmployeeService.setDisplayEmployeeInfoType('profile');\n\t\tedEmployeeService.updateMappedEmployee(null);\n\n\t\tvar deregisterEmployee = $scope.$on('selectedEmployeeChange', function (event, selectedEmployees) {\n\t\t\tvm.selectedEmployee = selectedEmployees[0];\n\t\t});\n\n\t\t$scope.$on('$destroy', deregisterEmployee);\n\n\t\tfunction setRemoteEmployee() {\n\t\t\tvar newEmployeeData = {\n\t\t\t\tlocation: 'oth',\n\t\t\t\tfloor: null,\n\t\t\t\tseat: ''\n\t\t\t};\n\n\t\t\tedEmployeeAdminService.updateEmployee(newEmployeeData).then(function () {\n\t\t\t\tedNotifierService.notify('Employee location set to remote');\n\t\t\t});\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edUpdateEmployeeCtrl', edUpdateEmployeeCtrl);\n\n\tedUpdateEmployeeCtrl.$inject = ['$scope', 'edNotifierService', 'edEmployeeService', 'edDeskService', 'edEmployeeAdminService', 'edIdentityService', '_'];\n\n\tfunction edUpdateEmployeeCtrl($scope, edNotifierService, edEmployeeService, edDeskService, edEmployeeAdminService, edIdentityService, _) {\n\t\tvar vm = this;\n\t\tvm.identity = edIdentityService;\n\t\tvm.updateEmployee = updateEmployee;\n\t\tvm.deleteEmployee = deleteEmployee;\n\t\tvm.cancelUpdateEmployee = cancelUpdateEmployee;\n\t\tvm.desks = edDeskService.getAllDesks();\n\t\tvm.selectedEmployee = null;\n\t\tvm.managers = null;\n\t\tvm.filteredManagers = [];\n\t\tvm.locationOptions = [\n\t\t\t{\n\t\t\t\tvalue: 'buf',\n\t\t\t\ttext: 'Buffalo'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 'nyc',\n\t\t\t\ttext: 'NYC'\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 'oth',\n\t\t\t\ttext: 'Remote'\n\t\t\t}\n\t\t];\n\t\tvm.departments = [\n\t\t\t'Carrier Relations',\n\t\t\t'Client Service',\n\t\t\t'Client Service Management',\n\t\t\t'Configuration',\n\t\t\t'Corporate',\n\t\t\t'Development',\n\t\t\t'Employee Services',\n\t\t\t'Field Sales',\n\t\t\t'Finance',\n\t\t\t'HR',\n\t\t\t'Implementation',\n\t\t\t'Infrastructure / Tech Ops',\n\t\t\t'Marketing',\n\t\t\t'Product Strategy',\n\t\t\t'QA / Reporting / Billing'\n\t\t];\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tedEmployeeService.setDisplayEmployeeInfoType('profile');\n\t\t\tedEmployeeService.getAllEmployees().$promise.then(createManagerList);\n\t\t\tvar selectedEmployees = edEmployeeService.setSelectMultipleEmployees(false);\n\t\t\tif (selectedEmployees.length === 1) {\n\t\t\t\tpopulateEmployee(selectedEmployees);\n\t\t\t}\n\t\t}\n\n\t\tfunction populateEmployee(selectedEmployees) {\n\t\t\tvm.selectedEmployee = {\n\t\t\t\teid: selectedEmployees[0].eid,\n\t\t\t\tfirstName: selectedEmployees[0].firstName,\n\t\t\t\tlastName: selectedEmployees[0].lastName,\n\t\t\t\tnickname: selectedEmployees[0].nickname,\n\t\t\t\temail: selectedEmployees[0].email,\n\t\t\t\tphone: selectedEmployees[0].phone,\n\t\t\t\text: selectedEmployees[0].ext,\n\t\t\t\ttitle: selectedEmployees[0].title,\n\t\t\t\tdepartment: selectedEmployees[0].department,\n\t\t\t\tteam: selectedEmployees[0].team,\n\t\t\t\tguilds: {},\n\t\t\t\tcommittees: {},\n\t\t\t\tlocation: selectedEmployees[0].location,\n\t\t\t\tfloor: selectedEmployees[0].floor,\n\t\t\t\tseat: selectedEmployees[0].seat,\n\t\t\t\thasReports: selectedEmployees[0].hasReports,\n\t\t\t\tmid: selectedEmployees[0].mid\n\t\t\t};\n\n\t\t\t_.forEach(selectedEmployees[0].guilds, function (guild) {\n\t\t\t\tvm.selectedEmployee.guilds[guild] = true;\n\t\t\t});\n\n\t\t\t_.forEach(selectedEmployees[0].committees, function (committee) {\n\t\t\t\tvm.selectedEmployee.committees[committee] = true;\n\t\t\t});\n\n\t\t\tfilterManagers(selectedEmployees[0]);\n\t\t}\n\n\t\t/**\n\t\t * Filter out the selected employee and their direct reports from the managers list\n\t\t *\n\t\t * @param {Object} selectedEmployee employee data for selected employee\n\t\t * @return {Boolean} to include this manager in the list\n\t\t */\n\t\tfunction filterManagers(selectedEmployee) {\n\t\t\tif (vm.managers && selectedEmployee) {\n\t\t\t\tvm.filteredManagers = _.filter(vm.managers, function (manager) {\n\t\t\t\t\t// TODO: Recursively filter out direct reports of direct reports\n\t\t\t\t\treturn (selectedEmployee.eid !== manager.eid) && (selectedEmployee.eid !== manager.mid);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tfunction createManagerList(employees) {\n\t\t\tvm.managers = _.filter(employees, function (employee) {\n\t\t\t\treturn employee.hasReports === true;\n\t\t\t});\n\t\t\tfilterManagers(vm.selectedEmployee);\n\t\t}\n\n\t\tvar selectedEmployeeChangeEvent = $scope.$on('selectedEmployeeChange', function (event, selectedEmployees) {\n\t\t\tif (selectedEmployees.length === 1) {\n\t\t\t\tpopulateEmployee(selectedEmployees);\n\t\t\t} else {\n\t\t\t\tvm.selectedEmployee = null;\n\t\t\t}\n\t\t});\n\n\t\t$scope.$on('$destroy', selectedEmployeeChangeEvent);\n\n\t\tvar employeesUpdatedEvent = $scope.$on('employeesUpdated', function () {\n\t\t\tedEmployeeService.getAllEmployees().$promise.then(createManagerList);\n\t\t});\n\n\t\t$scope.$on('$destroy', employeesUpdatedEvent);\n\n\t\tfunction updateEmployee() {\n\t\t\t// Get the employee data from the form\n\t\t\tvar newEmployeeData = {\n\t\t\t\teid: vm.selectedEmployee.eid,\n\t\t\t\tfirstName: vm.selectedEmployee.firstName,\n\t\t\t\tlastName: vm.selectedEmployee.lastName,\n\t\t\t\tnickname: vm.selectedEmployee.nickname,\n\t\t\t\temail: vm.selectedEmployee.email,\n\t\t\t\tphone: vm.selectedEmployee.phone,\n\t\t\t\text: vm.selectedEmployee.ext,\n\t\t\t\ttitle: vm.selectedEmployee.title,\n\t\t\t\tdepartment: vm.selectedEmployee.department,\n\t\t\t\tteam: vm.selectedEmployee.team,\n\t\t\t\tguilds: [],\n\t\t\t\tcommittees: [],\n\t\t\t\tlocation: vm.selectedEmployee.location,\n\t\t\t\tfloor: vm.selectedEmployee.floor,\n\t\t\t\tseat: vm.selectedEmployee.seat,\n\t\t\t\thasReports: vm.selectedEmployee.hasReports,\n\t\t\t\tmid: vm.selectedEmployee.mid\n\t\t\t};\n\n\t\t\t// Add all the selected guilds\n\t\t\t_.forEach(vm.selectedEmployee.guilds, function (include, guild) {\n\t\t\t\tif (include) {\n\t\t\t\t\tnewEmployeeData.guilds.push(guild);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Add all the selected committees\n\t\t\t_.forEach(vm.selectedEmployee.committees, function (include, committee) {\n\t\t\t\tif (include) {\n\t\t\t\t\tnewEmployeeData.committees.push(committee);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Save the image file for uploading\n\t\t\tvar imageFile = vm.selectedEmployee.imageFile;\n\n\t\t\tedEmployeeAdminService.updateEmployee(newEmployeeData).then(function (employee) {\n\t\t\t\tedNotifierService.notify('Employee information updated!');\n\t\t\t\tif (imageFile) {\n\t\t\t\t\t// upload the file to the file system\n\t\t\t\t\tedEmployeeAdminService.uploadEmployeePhoto(imageFile, employee);\n\t\t\t\t\t// Now update the employee record in the DB with the correct filename\n\t\t\t\t\tedEmployeeService.updateSelectedEmployees(employee);\n\t\t\t\t\tnewEmployeeData.image = employee.eid + '.' + imageFile.name.split('.').pop().toLowerCase();\n\t\t\t\t\tedEmployeeAdminService.updateEmployee(newEmployeeData).then(function (employee) {\n\t\t\t\t\t\t//photo upload successful\n\t\t\t\t\t}, function () {\n\t\t\t\t\t\tedNotifierService.error('Employee Photo Not Added.');\n\t\t\t\t\t});\n\t\t\t\t\timageFile = null;\n\t\t\t\t}\n\t\t\t\tvm.selectedEmployee = null;\n\t\t\t}, function (reason) {\n\t\t\t\tedNotifierService.error(reason);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Marks employee as deleted\n\t\t * Makes all direct reports of the deleted employee direct reports of the employee's manager\n\t\t */\n\t\tfunction deleteEmployee() {\n\t\t\t// Save employee to delete for later\n\t\t\tvar deletedEmployee = edEmployeeService.getSelectedEmployees()[0];\n\t\t\t// Find all employees that report to this employee and make them report to the next level up\n\t\t\tedEmployeeService.getAllEmployees().$promise.then(\n\t\t\t\tfunction (employees) {\n\t\t\t\t\tvar eid = deletedEmployee.eid;\n\t\t\t\t\tvar mid = deletedEmployee.mid;\n\t\t\t\t\tvar directReports = _.filter(employees, {'mid': eid});\n\t\t\t\t\t_.forEach(directReports, function (directReport) {\n\t\t\t\t\t\tedEmployeeService.removeAllSelectedEmployees();\n\t\t\t\t\t\tvm.selectedEmployee = edEmployeeService.updateSelectedEmployees(directReport);\n\t\t\t\t\t\tedEmployeeAdminService.updateEmployee({mid: mid});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t// Now delete the employee that was requested to be deleted\n\t\t\tedEmployeeService.removeAllSelectedEmployees();\n\t\t\tedEmployeeService.updateSelectedEmployees(deletedEmployee);\n\n\t\t\tedEmployeeAdminService.updateEmployee({deleted: true}).then(function (employee) {\n\t\t\t\tedNotifierService.notify(employee.firstName + ' ' + employee.lastName + ' deleted!');\n\t\t\t}, function (reason) {\n\t\t\t\tedNotifierService.error(reason);\n\t\t\t});\n\t\t}\n\n\t\tfunction cancelUpdateEmployee() {\n\t\t\tedEmployeeService.removeAllSelectedEmployees();\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edUpdateUserCtrl', edUpdateUserCtrl);\n\n\tedUpdateUserCtrl.$inject = ['$state', 'edIdentityService', 'edNotifierService', 'edAuthService', 'edSidebarService'];\n\n\tfunction edUpdateUserCtrl($state, edIdentityService, edNotifierService, edAuthService, edSidebarService) {\n\t\tvar vm = this;\n\t\tvm.updateUser = updateUser;\n\t\tvm.username = edIdentityService.currentUser.username;\n\t\tvm.fname = edIdentityService.currentUser.firstName;\n\t\tvm.lname = edIdentityService.currentUser.lastName;\n\n\t\tedSidebarService.setLockSidebar(true);\n\n\t\tfunction updateUser() {\n\t\t\tvar newUserData = {\n\t\t\t\tusername: vm.username,\n\t\t\t\tpassword: vm.password,\n\t\t\t\tfirstName: vm.fname,\n\t\t\t\tlastName: vm.lname\n\t\t\t};\n\n\t\t\tif (vm.password && vm.password.length > 0) {\n\t\t\t\tnewUserData.password = vm.password;\n\t\t\t}\n\n\t\t\tedAuthService.updateCurrentUser(newUserData).then(function () {\n\t\t\t\tedNotifierService.notify('User account updated!');\n\t\t\t\t$state.go('admin');\n\t\t\t}, function (reason) {\n\t\t\t\tedNotifierService.error(reason);\n\t\t\t});\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').controller('edUserListCtrl', edUserListCtrl);\n\n\tedUserListCtrl.$inject = ['edUserResourceService', 'edSidebarService'];\n\n\tfunction edUserListCtrl(edUserResourceService, edSidebarService) {\n\t\tvar vm = this;\n\t\tvm.users = edUserResourceService.query();\n\n\t\tedSidebarService.setLockSidebar(true);\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').controller('edHelpTopbarCtrl', edHelpTopbarCtrl);\n\n\tedHelpTopbarCtrl.$inject = ['edIdentityService'];\n\n\tfunction edHelpTopbarCtrl(edIdentityService) {\n\t\tvar vm = this;\n\t\tvm.identity = edIdentityService;\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').factory('edCachedRoomResourceService', edCachedRoomResourceService);\n\n\tedCachedRoomResourceService.$inject = ['edRoomResourceService'];\n\n\tfunction edCachedRoomResourceService(edRoomResourceService) {\n\t\tvar rooms;\n\t\tvar service = {\n\t\t\tquery: query\n\t\t};\n\n\t\treturn service;\n\n\t\tfunction query() {\n\t\t\tif (!rooms) {\n\t\t\t\trooms = edRoomResourceService.query();\n\t\t\t}\n\n\t\t\treturn rooms;\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').factory('edRoomResourceService', edRoomResourceService);\n\n\tedRoomResourceService.$inject = ['$resource'];\n\n\tfunction edRoomResourceService($resource) {\n\t\tvar roomResource = $resource('/api/rooms/:id', {\n\t\t\t_id: '@id'\n\t\t}, {\n\t\t\tupdate: {method: 'PUT', isArray: false}\n\t\t});\n\n\t\treturn roomResource;\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').factory('edRoomService', edRoomService);\n\n\tedRoomService.$inject = ['$rootScope', 'edCachedRoomResourceService'];\n\n\tfunction edRoomService($rootScope, edCachedRoomResourceService) {\n\t\tvar selectedRooms = [];\n\t\tvar selectedRoomAdded = false;\n\t\tvar profilePageNumber = 1;\n\t\tvar mappedRoom = null;\n\t\tvar selectMultipleRooms = false;\n\t\tvar displayRoomInfoType = 'profile';\n\t\tvar service = {\n\t\t\tgetAllRooms: getAllRooms,\n\t\t\tgetSelectedRooms: getSelectedRooms,\n\t\t\taddAllFilteredRooms: addAllFilteredRooms,\n\t\t\tupdateSelectedRooms: updateSelectedRooms,\n\t\t\tremoveAllSelectedRooms: removeAllSelectedRooms,\n\t\t\tsetSelectMultipleRooms: setSelectMultipleRooms,\n\t\t\tgetSelectMultipleRooms: getSelectMultipleRooms,\n\t\t\tupdateMappedRoom: updateMappedRoom,\n\t\t\tgetMappedRoom: getMappedRoom,\n\t\t\tsetDisplayRoomInfoType: setDisplayRoomInfoType,\n\t\t\tgetDisplayRoomInfoType: getDisplayRoomInfoType,\n\t\t\tgetSelectedRoomAdded: getSelectedRoomAdded,\n\t\t\tsetProfilePageNumber: setProfilePageNumber,\n\t\t\tgetProfilePageNumber: getProfilePageNumber\n\t\t};\n\t\treturn service;\n\n\t\t/**\n\t\t * Gets all pooms from the database (or memory)\n\t\t *\n\t\t * @return {Array} rooms\n\t\t */\n\t\tfunction getAllRooms() {\n\t\t\treturn edCachedRoomResourceService.query();\n\t\t}\n\n\t\t/**\n\t\t * Gets the selected rooms\n\t\t *\n\t\t * @return {Array} selected rooms\n\t\t */\n\t\tfunction getSelectedRooms() {\n\t\t\treturn selectedRooms;\n\t\t}\n\n\t\t/**\n\t\t * Adds all the filtered rooms to the selected rooms\n\t\t * Removes any unfiltered rooms from selected rooms\n\t\t *\n\t\t * @param {Array} rooms to add to selected\n\t\t * @return {Array} selected rooms\n\t\t */\n\t\tfunction addAllFilteredRooms(rooms) {\n\t\t\tangular.forEach(selectedRooms, function (prevSelected) {\n\t\t\t\tprevSelected.selected = false;\n\t\t\t});\n\t\t\tangular.forEach(rooms, function (room) {\n\t\t\t\troom.selected = true;\n\t\t\t});\n\t\t\tselectedRooms = rooms;\n\t\t\tselectedRoomAdded = true;\n\t\t\t// Broadcast event for listeners\n\t\t\t$rootScope.$broadcast('selectedRoomChange', selectedRooms);\n\t\t\treturn selectedRooms;\n\t\t}\n\n\t\t/**\n\t\t * Updates the mapped room\n\t\t *\n\t\t * @param {Object} room to map / un-map\n\t\t * @return {Object} mapped room\n\t\t */\n\t\tfunction updateMappedRoom(room) {\n\t\t\t// Un-map the currently mapped room\n\t\t\tif (!room && mappedRoom) {\n\t\t\t\tmappedRoom.mapped = false;\n\t\t\t\tmappedRoom = null;\n\t\t\t\t// Un-map the currently mapped room and (possibly) map the new one\n\t\t\t} else if (room && mappedRoom) {\n\t\t\t\tmappedRoom.mapped = false;\n\t\t\t\t// Map the new room\n\t\t\t\tif (mappedRoom._id !== room._id) {\n\t\t\t\t\troom.mapped = true;\n\t\t\t\t\tmappedRoom = room;\n\t\t\t\t\t// Just remove the currently mapped room\n\t\t\t\t} else {\n\t\t\t\t\tmappedRoom = null;\n\t\t\t\t}\n\t\t\t\t// Map the requested room (none currently mapped)\n\t\t\t} else if (room && !mappedRoom) {\n\t\t\t\troom.mapped = true;\n\t\t\t\tmappedRoom = room;\n\t\t\t}\n\t\t\t$rootScope.$broadcast('mappedRoomChange', mappedRoom);\n\t\t\treturn mappedRoom;\n\t\t}\n\n\t\t/**\n\t\t * Gets the mapped room\n\t\t *\n\t\t * @return {Object} mapped room\n\t\t */\n\t\tfunction getMappedRoom() {\n\t\t\treturn mappedRoom;\n\t\t}\n\n\t\t/**\n\t\t * Sets the type of info to display\n\t\t *\n\t\t * @param {String} infoType type of info we want to deal with\n\t\t * @return {String} type of info we want to deal with\n\t\t */\n\t\tfunction setDisplayRoomInfoType(infoType) {\n\t\t\tdisplayRoomInfoType = infoType;\n\t\t\t$rootScope.$broadcast('displayRoomInfoTypeChange', displayRoomInfoType);\n\t\t\treturn displayRoomInfoType;\n\t\t}\n\n\t\t/**\n\t\t * Gets the type of info to display\n\t\t *\n\t\t * @return {String} type of info we should deal with\n\t\t */\n\t\tfunction getDisplayRoomInfoType() {\n\t\t\treturn displayRoomInfoType;\n\t\t}\n\n\t\t/**\n\t\t * Updates the array of selected rooms\n\t\t *\n\t\t * @param {Object} room the room to add / remove from selected rooms\n\t\t * @return {Array} selected rooms\n\t\t */\n\t\tfunction updateSelectedRooms(room) {\n\t\t\t// Allowed to have multiple rooms selected\n\t\t\tif (selectMultipleRooms) {\n\t\t\t\t// This room is not already selected, so add them (and select them in the list)\n\t\t\t\tif (!room.selected) {\n\t\t\t\t\troom.selected = true;\n\t\t\t\t\tselectedRooms.unshift(room);\n\t\t\t\t\tselectedRoomAdded = true;\n\t\t\t\t\t// This room was already selected, so remove them (and deselect them in the list)\n\t\t\t\t} else {\n\t\t\t\t\troom.selected = false;\n\t\t\t\t\tselectedRooms.splice(selectedRooms.indexOf(room), 1);\n\t\t\t\t\tselectedRoomAdded = false;\n\t\t\t\t}\n\t\t\t\t// NOT allowed to have multiple rooms selected\n\t\t\t} else {\n\t\t\t\t// This room is not already selected, so add them and removed (and deselected) everyone else\n\t\t\t\tif (!room.selected) {\n\t\t\t\t\t// set all selected room's selected property to false\n\t\t\t\t\tangular.forEach(selectedRooms, function (prevSelected) {\n\t\t\t\t\t\tprevSelected.selected = false;\n\t\t\t\t\t});\n\t\t\t\t\t// Set this room's selected property to true\n\t\t\t\t\troom.selected = true;\n\t\t\t\t\t// replace the array of selected rooms with just this one room\n\t\t\t\t\tselectedRooms = [room];\n\t\t\t\t\tselectedRoomAdded = true;\n\t\t\t\t\t// This room was already selected, so remove them\n\t\t\t\t} else {\n\t\t\t\t\troom.selected = false;\n\t\t\t\t\tselectedRooms = [];\n\t\t\t\t\tselectedRoomAdded = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Broadcast event for listeners\n\t\t\t$rootScope.$broadcast('selectedRoomChange', selectedRooms);\n\t\t\treturn selectedRooms;\n\t\t}\n\n\t\t/**\n\t\t * Removes all selected rooms\n\t\t */\n\t\tfunction removeAllSelectedRooms() {\n\t\t\tangular.forEach(selectedRooms, function (prevSelected) {\n\t\t\t\tprevSelected.selected = false;\n\t\t\t});\n\t\t\tselectedRooms = [];\n\t\t\tselectedRoomAdded = false;\n\t\t\t$rootScope.$broadcast('selectedRoomChange', selectedRooms);\n\t\t}\n\n\t\t/**\n\t\t * Returns if a selected room was added (true) or removed (false)\n\t\t *\n\t\t * @return {Boolean} selected rooms added\n\t\t */\n\t\tfunction getSelectedRoomAdded() {\n\t\t\treturn selectedRoomAdded;\n\t\t}\n\n\t\t/**\n\t\t * Sets the current page number of the room profiles\n\t\t *\n\t\t * @param {Number} pageNumber current page number on room profiles\n\t\t */\n\t\tfunction setProfilePageNumber(pageNumber) {\n\t\t\tprofilePageNumber = pageNumber;\n\t\t}\n\n\t\t/**\n\t\t * Returns the room profile page number\n\t\t *\n\t\t * @return {Number} room profile page number\n\t\t */\n\t\tfunction getProfilePageNumber() {\n\t\t\treturn profilePageNumber;\n\t\t}\n\n\t\t/**\n\t\t * Sets the ability to select more than one room at a time\n\t\t *\n\t\t * @param {Boolean} selectMultiple allowed to select multiple rooms\n\t\t * @return {Array} selected rooms\n\t\t */\n\t\tfunction setSelectMultipleRooms(selectMultiple) {\n\t\t\tselectMultipleRooms = selectMultiple;\n\t\t\t// If there are multiple selected rooms, remove all but the last one added\n\t\t\tif (!selectMultiple && selectedRooms.length > 1) {\n\t\t\t\tvar lastSelectedRoom = selectedRooms.shift();\n\t\t\t\t// This room will be reselected in updateSelectedRooms\n\t\t\t\tlastSelectedRoom.selected = false;\n\t\t\t\tselectedRooms = updateSelectedRooms(lastSelectedRoom);\n\t\t\t}\n\t\t\t$rootScope.$broadcast('selectMultipleRoomsChange', selectMultipleRooms);\n\t\t\treturn selectedRooms;\n\t\t}\n\n\t\t/**\n\t\t * Gets wether or not we should allow multiple rooms to be selected\n\t\t *\n\t\t * @return {Boolean} allow selecting multiple room\n\t\t */\n\t\tfunction getSelectMultipleRooms() {\n\t\t\treturn selectMultipleRooms;\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').controller('edRoomCtrl', edRoomCtrl);\n\n\tedRoomCtrl.$inject = ['edSidebarService'];\n\n\tfunction edRoomCtrl(edSidebarService) {\n\t\tvar vm = this;\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tedSidebarService.setLockSidebar(true);\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').factory('edCachedPrinterResourceService', edCachedPrinterResourceService);\n\n\tedCachedPrinterResourceService.$inject = ['edPrinterResourceService'];\n\n\tfunction edCachedPrinterResourceService(edPrinterResourceService) {\n\t\tvar printers;\n\t\tvar service = {\n\t\t\tquery: query\n\t\t};\n\n\t\treturn service;\n\n\t\tfunction query() {\n\t\t\tif (!printers) {\n\t\t\t\tprinters = edPrinterResourceService.query();\n\t\t\t}\n\n\t\t\treturn printers;\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').factory('edPrinterResourceService', edPrinterResourceService);\n\n\tedPrinterResourceService.$inject = ['$resource'];\n\n\tfunction edPrinterResourceService($resource) {\n\t\tvar printerResource = $resource('/api/printers/:id', {\n\t\t\t_id: '@id'\n\t\t}, {\n\t\t\tupdate: {method: 'PUT', isArray: false}\n\t\t});\n\n\t\treturn printerResource;\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').factory('edPrinterService', edPrinterService);\n\n\tedPrinterService.$inject = ['$rootScope', 'edCachedPrinterResourceService'];\n\n\tfunction edPrinterService($rootScope, edCachedPrinterResourceService) {\n\t\tvar selectedPrinters = [];\n\t\tvar selectedPrinterAdded = false;\n\t\tvar profilePageNumber = 1;\n\t\tvar mappedPrinter = null;\n\t\tvar selectMultiplePrinters = false;\n\t\tvar displayPrinterInfoType = 'profile';\n\t\tvar service = {\n\t\t\tgetAllPrinters: getAllPrinters,\n\t\t\tgetSelectedPrinters: getSelectedPrinters,\n\t\t\taddAllFilteredPrinters: addAllFilteredPrinters,\n\t\t\tupdateSelectedPrinters: updateSelectedPrinters,\n\t\t\tremoveAllSelectedPrinters: removeAllSelectedPrinters,\n\t\t\tsetSelectMultiplePrinters: setSelectMultiplePrinters,\n\t\t\tgetSelectMultiplePrinters: getSelectMultiplePrinters,\n\t\t\tupdateMappedPrinter: updateMappedPrinter,\n\t\t\tgetMappedPrinter: getMappedPrinter,\n\t\t\tsetDisplayPrinterInfoType: setDisplayPrinterInfoType,\n\t\t\tgetDisplayPrinterInfoType: getDisplayPrinterInfoType,\n\t\t\tgetSelectedPrinterAdded: getSelectedPrinterAdded,\n\t\t\tsetProfilePageNumber: setProfilePageNumber,\n\t\t\tgetProfilePageNumber: getProfilePageNumber\n\t\t};\n\t\treturn service;\n\n\t\t/**\n\t\t * Gets all printers from the database (or memory)\n\t\t *\n\t\t * @return {Array} printers\n\t\t */\n\t\tfunction getAllPrinters() {\n\t\t\treturn edCachedPrinterResourceService.query();\n\t\t}\n\n\t\t/**\n\t\t * Gets the selected printers\n\t\t *\n\t\t * @return {Array} selected printers\n\t\t */\n\t\tfunction getSelectedPrinters() {\n\t\t\treturn selectedPrinters;\n\t\t}\n\n\t\t/**\n\t\t * Adds all the filtered printers to the selected printers\n\t\t * Removes any unfiltered printers from selected printers\n\t\t *\n\t\t * @param {Array} printers to add to selected\n\t\t * @return {Array} selected printers\n\t\t */\n\t\tfunction addAllFilteredPrinters(printers) {\n\t\t\tangular.forEach(selectedPrinters, function (prevSelected) {\n\t\t\t\tprevSelected.selected = false;\n\t\t\t});\n\t\t\tangular.forEach(printers, function (printer) {\n\t\t\t\tprinter.selected = true;\n\t\t\t});\n\t\t\tselectedPrinters = printers;\n\t\t\tselectedPrinterAdded = true;\n\t\t\t// Broadcast event for listeners\n\t\t\t$rootScope.$broadcast('selectedPrinterChange', selectedPrinters);\n\t\t\treturn selectedPrinters;\n\t\t}\n\n\t\t/**\n\t\t * Updates the mapped printer\n\t\t *\n\t\t * @param {Object} printer to map / un-map\n\t\t * @return {Object} mapped printer\n\t\t */\n\t\tfunction updateMappedPrinter(printer) {\n\t\t\t// Un-map the currently mapped printer\n\t\t\tif (!printer && mappedPrinter) {\n\t\t\t\tmappedPrinter.mapped = false;\n\t\t\t\tmappedPrinter = null;\n\t\t\t\t// Un-map the currently mapped printer and (possibly) map the new one\n\t\t\t} else if (printer && mappedPrinter) {\n\t\t\t\tmappedPrinter.mapped = false;\n\t\t\t\t// Map the new printer\n\t\t\t\tif (mappedPrinter._id !== printer._id) {\n\t\t\t\t\tprinter.mapped = true;\n\t\t\t\t\tmappedPrinter = printer;\n\t\t\t\t\t// Just remove the currently mapped printer\n\t\t\t\t} else {\n\t\t\t\t\tmappedPrinter = null;\n\t\t\t\t}\n\t\t\t\t// Map the requested printer (none currently mapped)\n\t\t\t} else if (printer && !mappedPrinter) {\n\t\t\t\tprinter.mapped = true;\n\t\t\t\tmappedPrinter = printer;\n\t\t\t}\n\t\t\t$rootScope.$broadcast('mappedPrinterChange', mappedPrinter);\n\t\t\treturn mappedPrinter;\n\t\t}\n\n\t\t/**\n\t\t * Gets the mapped printer\n\t\t *\n\t\t * @return {Object} mapped printer\n\t\t */\n\t\tfunction getMappedPrinter() {\n\t\t\treturn mappedPrinter;\n\t\t}\n\n\t\t/**\n\t\t * Sets the type of info to display\n\t\t *\n\t\t * @param {String} infoType type of info we want to deal with\n\t\t * @return {String} type of info we want to deal with\n\t\t */\n\t\tfunction setDisplayPrinterInfoType(infoType) {\n\t\t\tdisplayPrinterInfoType = infoType;\n\t\t\t$rootScope.$broadcast('displayPrinterInfoTypeChange', displayPrinterInfoType);\n\t\t\treturn displayPrinterInfoType;\n\t\t}\n\n\t\t/**\n\t\t * Gets the type of info to display\n\t\t *\n\t\t * @return {String} type of info we should deal with\n\t\t */\n\t\tfunction getDisplayPrinterInfoType() {\n\t\t\treturn displayPrinterInfoType;\n\t\t}\n\n\t\t/**\n\t\t * Updates the array of selected printers\n\t\t *\n\t\t * @param {Object} printer the printer to add / remove from selected printers\n\t\t * @return {Array} selected printers\n\t\t */\n\t\tfunction updateSelectedPrinters(printer) {\n\t\t\t// Allowed to have multiple printers selected\n\t\t\tif (selectMultiplePrinters) {\n\t\t\t\t// This printer is not already selected, so add them (and select them in the list)\n\t\t\t\tif (!printer.selected) {\n\t\t\t\t\tprinter.selected = true;\n\t\t\t\t\tselectedPrinters.unshift(printer);\n\t\t\t\t\tselectedPrinterAdded = true;\n\t\t\t\t\t// This printer was already selected, so remove them (and deselect them in the list)\n\t\t\t\t} else {\n\t\t\t\t\tprinter.selected = false;\n\t\t\t\t\tselectedPrinters.splice(selectedPrinters.indexOf(printer), 1);\n\t\t\t\t\tselectedPrinterAdded = false;\n\t\t\t\t}\n\t\t\t\t// NOT allowed to have multiple printers selected\n\t\t\t} else {\n\t\t\t\t// This printer is not already selected, so add them and removed (and deselected) everyone else\n\t\t\t\tif (!printer.selected) {\n\t\t\t\t\t// set all selected printer's selected property to false\n\t\t\t\t\tangular.forEach(selectedPrinters, function (prevSelected) {\n\t\t\t\t\t\tprevSelected.selected = false;\n\t\t\t\t\t});\n\t\t\t\t\t// Set this printer's selected property to true\n\t\t\t\t\tprinter.selected = true;\n\t\t\t\t\t// replace the array of selected printers with just this one printer\n\t\t\t\t\tselectedPrinters = [printer];\n\t\t\t\t\tselectedPrinterAdded = true;\n\t\t\t\t\t// This printer was already selected, so remove them\n\t\t\t\t} else {\n\t\t\t\t\tprinter.selected = false;\n\t\t\t\t\tselectedPrinters = [];\n\t\t\t\t\tselectedPrinterAdded = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Broadcast event for listeners\n\t\t\t$rootScope.$broadcast('selectedPrinterChange', selectedPrinters);\n\t\t\treturn selectedPrinters;\n\t\t}\n\n\t\t/**\n\t\t * Removes all selected printers\n\t\t */\n\t\tfunction removeAllSelectedPrinters() {\n\t\t\tangular.forEach(selectedPrinters, function (prevSelected) {\n\t\t\t\tprevSelected.selected = false;\n\t\t\t});\n\t\t\tselectedPrinters = [];\n\t\t\tselectedPrinterAdded = false;\n\t\t\t$rootScope.$broadcast('selectedPrinterChange', selectedPrinters);\n\t\t}\n\n\t\t/**\n\t\t * Returns if a selected printer was added (true) or removed (false)\n\t\t *\n\t\t * @return {Boolean} selected printers added\n\t\t */\n\t\tfunction getSelectedPrinterAdded() {\n\t\t\treturn selectedPrinterAdded;\n\t\t}\n\n\t\t/**\n\t\t * Sets the current page number of the printer profiles\n\t\t *\n\t\t * @param {Number} pageNumber current page number on printer profiles\n\t\t */\n\t\tfunction setProfilePageNumber(pageNumber) {\n\t\t\tprofilePageNumber = pageNumber;\n\t\t}\n\n\t\t/**\n\t\t * Returns the printer profile page number\n\t\t *\n\t\t * @return {Number} printer profile page number\n\t\t */\n\t\tfunction getProfilePageNumber() {\n\t\t\treturn profilePageNumber;\n\t\t}\n\n\t\t/**\n\t\t * Sets the ability to select more than one printer at a time\n\t\t *\n\t\t * @param {Boolean} selectMultiple allowed to select multiple printers\n\t\t * @return {Array} selected printers\n\t\t */\n\t\tfunction setSelectMultiplePrinters(selectMultiple) {\n\t\t\tselectMultiplePrinters = selectMultiple;\n\t\t\t// If there are multiple selected printers, remove all but the last one added\n\t\t\tif (!selectMultiple && selectedPrinters.length > 1) {\n\t\t\t\tvar lastSelectedPrinter = selectedPrinters.shift();\n\t\t\t\t// This printer will be reselected in updateSelectedPrinters\n\t\t\t\tlastSelectedPrinter.selected = false;\n\t\t\t\tselectedPrinters = updateSelectedPrinters(lastSelectedPrinter);\n\t\t\t}\n\t\t\t$rootScope.$broadcast('selectMultiplePrintersChange', selectMultiplePrinters);\n\t\t\treturn selectedPrinters;\n\t\t}\n\n\t\t/**\n\t\t * Gets wether or not we should allow multiple printers to be selected\n\t\t *\n\t\t * @return {Boolean} allow selecting multiple printer\n\t\t */\n\t\tfunction getSelectMultiplePrinters() {\n\t\t\treturn selectMultiplePrinters;\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').controller('edPrinterCtrl', edPrinterCtrl);\n\n\tedPrinterCtrl.$inject = ['edSidebarService'];\n\n\tfunction edPrinterCtrl(edSidebarService) {\n\t\tvar vm = this;\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tedSidebarService.setLockSidebar(true);\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').directive('edRoomCard', edRoomCard);\n\n\tedRoomCard.$inject = ['$timeout', 'edRoomService'];\n\n\tfunction edRoomCard($timeout, edRoomService) {\n\t\tvar directive = {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: '/partials/rooms/components/room-card',\n\t\t\tscope: {\n\t\t\t\troom: '='\n\t\t\t},\n\t\t\tlink: linkFunc,\n\t\t\tcontroller: ctrlFunc,\n\t\t\tcontrollerAs: 'vm'\n\t\t};\n\n\t\treturn directive;\n\n\t\tfunction linkFunc(scope, el, attrs) {\n\t\t\tscope.deselectRoom = function (room) {\n\t\t\t\tvar parent = el.parent();\n\t\t\t\tvar child = el.children().first();\n\t\t\t\tchild.addClass('scale-down');\n\t\t\t\t$timeout(function () {\n\t\t\t\t\tparent.addClass('shrink-left');\n\t\t\t\t\tedRoomService.updateSelectedRooms(room);\n\t\t\t\t}, 250);\n\t\t\t};\n\t\t}\n\t}\n\n\tctrlFunc.$inject = ['$state', 'edRoomService'];\n\n\tfunction ctrlFunc($state, edRoomService) {\n\t\tvar vm = this;\n\t\tvm.mapRoom = mapRoom;\n\n\t\tfunction mapRoom(room) {\n\t\t\tedRoomService.updateMappedRoom(room);\n\t\t\t$state.go('rooms.map.' + room.location + '-' + room.floor, {'name': room.name});\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edRoomSelectorCtrl', edRoomSelectorCtrl);\n\n\tedRoomSelectorCtrl.$inject = ['$scope', '$document', 'edRoomService', 'edEmployeeService', 'edPrinterService'];\n\n\tfunction edRoomSelectorCtrl($scope, $document, edRoomService, edEmployeeService, edPrinterService) {\n\t\tvar vm = this;\n\t\tvm.rooms = edRoomService.getAllRooms();\n\t\tvm.selectedRooms = edRoomService.getSelectedRooms();\n\t\tvm.displayRoomInfoType = edRoomService.getDisplayRoomInfoType();\n\t\tvm.selectRoom = selectRoom;\n\t\tvm.selectAll = selectAll;\n\t\tvm.selectNone = selectNone;\n\t\tvm.allowSelectAll = edRoomService.getSelectMultipleRooms();\n\t\tvm.filteredEmployees = edRoomService.getAllRooms();\n\t\tvm.clearFilter = clearFilter;\n\t\tvm.locationFilter = locationFilter;\n\t\tvm.filterLocations = filterLocations;\n\t\tvm.location = {\n\t\t\t'buf': false,\n\t\t\t'nyc': false\n\t\t};\n\t\tvm.locations = [];\n\t\tvm.nycOnly = nycOnly;\n\t\tvm.floorFilter = floorFilter;\n\t\tvm.filterFloors = filterFloors;\n\t\tvm.floor = {\n\t\t\t'6': false,\n\t\t\t'7': false,\n\t\t\t'8': false\n\t\t};\n\t\tvm.floors = [];\n\n\t\tfunction selectRoom(room) {\n\t\t\tif (vm.displayRoomInfoType === 'profile') {\n\t\t\t\tvm.selectedRooms = edRoomService.updateSelectedRooms(room);\n\t\t\t}\n\t\t\telse if (vm.displayRoomInfoType === 'location') {\n\t\t\t\t// Only allow 1 thing to be mapped at a time\n\t\t\t\tedEmployeeService.updateMappedEmployee(null);\n\t\t\t\tedPrinterService.updateMappedPrinter(null);\n\t\t\t\tedRoomService.updateMappedRoom(room);\n\t\t\t}\n\t\t}\n\n\t\tfunction filterLocations(location) {\n\t\t\tif (vm.location[location]) {\n\t\t\t\tvm.locations.push(location);\n\t\t\t} else {\n\t\t\t\tvm.locations.splice(vm.locations.indexOf(location), 1);\n\t\t\t}\n\t\t}\n\n\t\tfunction locationFilter(room) {\n\t\t\tif (vm.locations.length > 0) {\n\t\t\t\tif (room.location) {\n\t\t\t\t\treturn vm.locations.indexOf(room.location) > -1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tfunction nycOnly() {\n\t\t\treturn vm.locations.length === 1 && vm.locations[0] === 'nyc';\n\t\t}\n\n\t\tfunction filterFloors(floor) {\n\t\t\tif (vm.floor[floor]) {\n\t\t\t\tvm.floors.push(floor);\n\t\t\t} else {\n\t\t\t\tvm.floors.splice(vm.floors.indexOf(floor), 1);\n\t\t\t}\n\t\t}\n\n\t\tfunction floorFilter(room) {\n\t\t\t// Only use the floor filter if NYC is not the only location selected\n\t\t\tif (!nycOnly()) {\n\t\t\t\t// If a floor(s) has been selected\n\t\t\t\tif (vm.floors.length > 0) {\n\t\t\t\t\t// If the room is on a floor in BUF\n\t\t\t\t\tif (room.floor && room.location === 'buf') {\n\t\t\t\t\t\t// Include this room if they are on the selected floor (in BUF)\n\t\t\t\t\t\treturn vm.floors.indexOf(room.floor) > -1;\n\t\t\t\t\t\t// Include this room if NYC is also a selected location\n\t\t\t\t\t} else if (vm.locations.indexOf('nyc') > -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t// Include all filtered room if no floor is selected\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// Include all filtered room if NYC is the only location selected\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tfunction selectAll() {\n\t\t\tvm.selectedRooms = edRoomService.addAllFilteredRooms(vm.filteredRooms);\n\t\t\t$document.scrollTopAnimated(0, 300);\n\t\t}\n\n\t\tfunction selectNone() {\n\t\t\tvm.selectedRooms = edRoomService.removeAllSelectedRooms();\n\t\t}\n\n\t\tfunction clearFilter() {\n\t\t\tvm.roomName = '';\n\t\t\tvm.floors = [];\n\t\t\tvm.floor = {\n\t\t\t\t'6': false,\n\t\t\t\t'7': false,\n\t\t\t\t'8': false\n\t\t\t};\n\t\t\tvm.locations = [];\n\t\t\tvm.location = {\n\t\t\t\t'buf': false,\n\t\t\t\t'nyc': false\n\t\t\t};\n\t\t\tvm.type = '';\n\t\t}\n\n\t\tvar deregisterSelectMultipleRoomsChange = $scope.$on('selectMultipleRoomsChange', function (event, allowSelectMultipleRooms) {\n\t\t\tvm.allowSelectAll = allowSelectMultipleRooms;\n\t\t});\n\n\t\t$scope.$on('$destroy', deregisterSelectMultipleRoomsChange);\n\n\t\tvar deregisterDisplayRoomInfoTypeChange = $scope.$on('displayRoomInfoTypeChange', function (event, displayRoomInfoType) {\n\t\t\tvm.displayRoomInfoType = displayRoomInfoType;\n\t\t});\n\n\t\t$scope.$on('$destroy', deregisterDisplayRoomInfoTypeChange);\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edRoomTopbarCtrl', edRoomTopbarCtrl);\n\n\tfunction edRoomTopbarCtrl() {\n\t\t//console.log('topbar');\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').directive('edRoom', edRoom);\n\n\tedRoom.$inject = ['$stateParams', '$document', '$timeout', 'edRoomService'];\n\n\tfunction edRoom($stateParams, $document, $timeout, edRoomService) {\n\t\tvar directive = {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: '/partials/rooms/components/room',\n\t\t\treplace: true,\n\t\t\tscope: {\n\t\t\t\tname: '@',\n\t\t\t\tseat: '@',\n\t\t\t\tnumber: '@',\n\t\t\t\tclassification: '@',\n\t\t\t\txpos: '@',\n\t\t\t\typos: '@'\n\t\t\t},\n\t\t\tlink: linkFunc,\n\t\t\tcontroller: ctrlFunc,\n\t\t\tcontrollerAs: 'vm'\n\t\t};\n\n\t\treturn directive;\n\n\t\tfunction linkFunc(scope, el, attrs) {\n\t\t\tscope.mappedRoom = edRoomService.getMappedRoom();\n\n\t\t\tif ($stateParams.name === attrs.name && scope.mappedRoom) {\n\t\t\t\t$timeout(function () {\n\t\t\t\t\t$document.scrollToElement(el, 300, 300).then(function () {\n\t\t\t\t\t\tel.addClass('mapped').append('<div class=\"marker\"><div class=\"pulse\"></div><div class=\"pin\"></div></div>');\n\t\t\t\t\t});\n\t\t\t\t}, 800);\n\t\t\t} else {\n\t\t\t\tel.removeClass('mapped').find('.marker').remove();\n\t\t\t}\n\n\t\t\tvar deregister = scope.$on('mappedRoomChange', function (event, mappedRoom) {\n\t\t\t\tif (mappedRoom && mappedRoom.name === attrs.name) {\n\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t$document.scrollToElement(el, 300, 300).then(function () {\n\t\t\t\t\t\t\tel.addClass('mapped').append('<div class=\"marker\"><div class=\"pulse\"></div><div class=\"pin\"></div></div>');\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 100);\n\t\t\t\t} else {\n\t\t\t\t\tel.removeClass('mapped').find('.marker').remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tscope.$on('$destroy', deregister);\n\t\t}\n\t}\n\n\tctrlFunc.$inject = ['$state', 'edRoomService', 'edNotifierService', 'edEmployeeService', 'edPrinterService', '_'];\n\n\tfunction ctrlFunc($state, edRoomService, edNotifierService, edEmployeeService, edPrinterService, _) {\n\t\tvar vm = this;\n\t\tvm.mapRoom = mapRoom;\n\t\tvm.viewProfile = viewProfile;\n\t\tvm.rooms = edRoomService.getAllRooms();\n\t\tvm.mappedRoom = null;\n\n\t\tfunction mapRoom(name) {\n\t\t\tvar mappedRoomArray = _.filter(vm.rooms, function (room) {\n\t\t\t\treturn room.name === name;\n\t\t\t});\n\n\t\t\tif (mappedRoomArray.length > 0) {\n\t\t\t\t// Only allow 1 thing to be mapped at a time\n\t\t\t\tedEmployeeService.updateMappedEmployee(null);\n\t\t\t\tedPrinterService.updateMappedPrinter(null);\n\t\t\t\tvm.mappedRoom = edRoomService.updateMappedRoom(mappedRoomArray[0]);\n\t\t\t} else {\n\t\t\t\tedNotifierService.error('Sorry, I don\\'t know this room.');\n\t\t\t}\n\t\t}\n\n\t\tfunction viewProfile(seat) {\n\t\t\tvar selectedRoom = _.filter(vm.rooms, function (room) {\n\t\t\t\treturn room.seat === seat;\n\t\t\t});\n\t\t\tedRoomService.removeAllSelectedRooms();\n\t\t\tedRoomService.updateSelectedRooms(selectedRoom[0]);\n\t\t\t$state.go('rooms.profile.name', {'room': selectedRoom[0].name});\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').directive('edPrinterCard', edPrinterCard);\n\n\tedPrinterCard.$inject = ['$timeout', 'edPrinterService'];\n\n\tfunction edPrinterCard($timeout, edPrinterService) {\n\t\tvar directive = {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: '/partials/printers/components/printer-card',\n\t\t\tscope: {\n\t\t\t\tprinter: '='\n\t\t\t},\n\t\t\tlink: linkFunc,\n\t\t\tcontroller: ctrlFunc,\n\t\t\tcontrollerAs: 'vm'\n\t\t};\n\n\t\treturn directive;\n\n\t\tfunction linkFunc(scope, el, attrs) {\n\t\t\tscope.deselectPrinter = function (printer) {\n\t\t\t\tvar parent = el.parent();\n\t\t\t\tvar child = el.children().first();\n\t\t\t\tchild.addClass('scale-down');\n\t\t\t\t$timeout(function () {\n\t\t\t\t\tparent.addClass('shrink-left');\n\t\t\t\t\tedPrinterService.updateSelectedPrinters(printer);\n\t\t\t\t}, 250);\n\t\t\t};\n\t\t}\n\t}\n\n\tctrlFunc.$inject = ['$state', 'edPrinterService'];\n\n\tfunction ctrlFunc($state, edPrinterService) {\n\t\tvar vm = this;\n\t\tvm.mapPrinter = mapPrinter;\n\n\t\tfunction mapPrinter(printer) {\n\t\t\tedPrinterService.updateMappedPrinter(printer);\n\t\t\t$state.go('printers.map.' + printer.location + '-' + printer.floor, {'name': printer.name});\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edPrinterSelectorCtrl', edPrinterSelectorCtrl);\n\n\tedPrinterSelectorCtrl.$inject = ['$scope', '$document', 'edPrinterService', 'edEmployeeService', 'edRoomService'];\n\n\tfunction edPrinterSelectorCtrl($scope, $document, edPrinterService, edEmployeeService, edRoomService) {\n\t\tvar vm = this;\n\t\tvm.printers = edPrinterService.getAllPrinters();\n\t\tvm.selectedPrinters = edPrinterService.getSelectedPrinters();\n\t\tvm.displayPrinterInfoType = edPrinterService.getDisplayPrinterInfoType();\n\t\tvm.selectPrinter = selectPrinter;\n\t\tvm.selectAll = selectAll;\n\t\tvm.selectNone = selectNone;\n\t\tvm.allowSelectAll = edPrinterService.getSelectMultiplePrinters();\n\t\tvm.filteredEmployees = edPrinterService.getAllPrinters();\n\t\tvm.clearFilter = clearFilter;\n\t\tvm.locationFilter = locationFilter;\n\t\tvm.filterLocations = filterLocations;\n\t\tvm.location = {\n\t\t\t'buf': false,\n\t\t\t'nyc': false\n\t\t};\n\t\tvm.locations = [];\n\t\tvm.nycOnly = nycOnly;\n\t\tvm.floorFilter = floorFilter;\n\t\tvm.filterFloors = filterFloors;\n\t\tvm.floor = {\n\t\t\t'6': false,\n\t\t\t'7': false,\n\t\t\t'8': false\n\t\t};\n\t\tvm.floors = [];\n\n\t\tfunction selectPrinter(printer) {\n\t\t\tif (vm.displayPrinterInfoType === 'profile') {\n\t\t\t\tvm.selectedPrinters = edPrinterService.updateSelectedPrinters(printer);\n\t\t\t}\n\t\t\telse if (vm.displayPrinterInfoType === 'location') {\n\t\t\t\t// Only allow 1 thing to be mapped at a time\n\t\t\t\tedEmployeeService.updateMappedEmployee(null);\n\t\t\t\tedRoomService.updateMappedRoom(null);\n\t\t\t\tedPrinterService.updateMappedPrinter(printer);\n\t\t\t}\n\t\t}\n\n\t\tfunction filterLocations(location) {\n\t\t\tif (vm.location[location]) {\n\t\t\t\tvm.locations.push(location);\n\t\t\t} else {\n\t\t\t\tvm.locations.splice(vm.locations.indexOf(location), 1);\n\t\t\t}\n\t\t}\n\n\t\tfunction locationFilter(printer) {\n\t\t\tif (vm.locations.length > 0) {\n\t\t\t\tif (printer.location) {\n\t\t\t\t\treturn vm.locations.indexOf(printer.location) > -1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tfunction nycOnly() {\n\t\t\treturn vm.locations.length === 1 && vm.locations[0] === 'nyc';\n\t\t}\n\n\t\tfunction filterFloors(floor) {\n\t\t\tif (vm.floor[floor]) {\n\t\t\t\tvm.floors.push(floor);\n\t\t\t} else {\n\t\t\t\tvm.floors.splice(vm.floors.indexOf(floor), 1);\n\t\t\t}\n\t\t}\n\n\t\tfunction floorFilter(printer) {\n\t\t\t// Only use the floor filter if NYC is not the only location selected\n\t\t\tif (!nycOnly()) {\n\t\t\t\t// If a floor(s) has been selected\n\t\t\t\tif (vm.floors.length > 0) {\n\t\t\t\t\t// If the printer is on a floor in BUF\n\t\t\t\t\tif (printer.floor && printer.location === 'buf') {\n\t\t\t\t\t\t// Include this printer if they are on the selected floor (in BUF)\n\t\t\t\t\t\treturn vm.floors.indexOf(printer.floor) > -1;\n\t\t\t\t\t\t// Include this printer if NYC is also a selected location\n\t\t\t\t\t} else if (vm.locations.indexOf('nyc') > -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t// Include all filtered printer if no floor is selected\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// Include all filtered printer if NYC is the only location selected\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tfunction selectAll() {\n\t\t\tvm.selectedPrinters = edPrinterService.addAllFilteredPrinters(vm.filteredPrinters);\n\t\t\t$document.scrollTopAnimated(0, 300);\n\t\t}\n\n\t\tfunction selectNone() {\n\t\t\tvm.selectedPrinters = edPrinterService.removeAllSelectedPrinters();\n\t\t}\n\n\t\tfunction clearFilter() {\n\t\t\tvm.printerName = '';\n\t\t\tvm.floors = [];\n\t\t\tvm.floor = {\n\t\t\t\t'6': false,\n\t\t\t\t'7': false,\n\t\t\t\t'8': false\n\t\t\t};\n\t\t\tvm.locations = [];\n\t\t\tvm.location = {\n\t\t\t\t'buf': false,\n\t\t\t\t'nyc': false\n\t\t\t};\n\t\t\tvm.brand = '';\n\t\t\tvm.color = '';\n\t\t}\n\n\t\tvar deregisterSelectMultiplePrintersChange = $scope.$on('selectMultiplePrintersChange', function (event, allowSelectMultiplePrinters) {\n\t\t\tvm.allowSelectAll = allowSelectMultiplePrinters;\n\t\t});\n\n\t\t$scope.$on('$destroy', deregisterSelectMultiplePrintersChange);\n\n\t\tvar deregisterDisplayPrinterInfoTypeChange = $scope.$on('displayPrinterInfoTypeChange', function (event, displayPrinterInfoType) {\n\t\t\tvm.displayPrinterInfoType = displayPrinterInfoType;\n\t\t});\n\n\t\t$scope.$on('$destroy', deregisterDisplayPrinterInfoTypeChange);\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edPrinterTopbarCtrl', edPrinterTopbarCtrl);\n\n\tfunction edPrinterTopbarCtrl() {\n\t\t//console.log('topbar');\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').directive('edPrinter', edPrinter);\n\n\tedPrinter.$inject = ['$stateParams', '$document', '$timeout', '$compile', 'edPrinterService'];\n\n\tfunction edPrinter($stateParams, $document, $timeout, $compile, edPrinterService) {\n\t\tvar directive = {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: '/partials/printers/components/printer',\n\t\t\treplace: true,\n\t\t\tscope: {\n\t\t\t\tname: '@',\n\t\t\t\tclassification: '@',\n\t\t\t\torientation: '@',\n\t\t\t\txpos: '@',\n\t\t\t\typos: '@'\n\t\t\t},\n\t\t\tlink: linkFunc,\n\t\t\tcontroller: ctrlFunc,\n\t\t\tcontrollerAs: 'vm'\n\t\t};\n\n\t\treturn directive;\n\n\t\tfunction linkFunc(scope, el, attrs) {\n\t\t\tscope.mappedPrinter = edPrinterService.getMappedPrinter();\n\n\t\t\t// If coming from the profile page via a link in the printer card\n\t\t\tif ($stateParams.name === attrs.name && scope.mappedPrinter) {\n\t\t\t\t$timeout(function () {\n\t\t\t\t\t$document.scrollToElement(el, 300, 300).then(function () {\n\t\t\t\t\t\tel.addClass('mapped').append($compile('<div class=\"marker\"><div class=\"pulse\"></div><div class=\"pin\"></div>' +\n\t\t\t\t\t\t\t'<div class=\"mapped-label label bg-danger\" ng-click=\"vm.viewProfile()\">' + scope.mappedPrinter.name + '</div></div>')(scope));\n\t\t\t\t\t\t// Do some math to figure out how to center the label\n\t\t\t\t\t\tvar markerLabel = $('.mapped-label');\n\t\t\t\t\t\tvar leftPos = (el.outerWidth() / 2) - (markerLabel.outerWidth() / 2);\n\t\t\t\t\t\tmarkerLabel.css('left', leftPos);\n\t\t\t\t\t});\n\t\t\t\t}, 800);\n\t\t\t} else {\n\t\t\t\tel.removeClass('mapped').find('.marker').remove();\n\t\t\t}\n\n\t\t\tvar deregister = scope.$on('mappedPrinterChange', function (event, mappedPrinter) {\n\t\t\t\tif (mappedPrinter && mappedPrinter.name === attrs.name) {\n\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t$document.scrollToElement(el, 300, 300).then(function () {\n\t\t\t\t\t\t\tel.addClass('mapped').append($compile('<div class=\"marker\"><div class=\"pulse\"></div><div class=\"pin\"></div>' +\n\t\t\t\t\t\t\t\t'<div class=\"mapped-label label bg-danger\" ng-click=\"vm.viewProfile()\">' + mappedPrinter.name + '</div></div>')(scope));\n\t\t\t\t\t\t\t// Do some math to figure out how to center the label\n\t\t\t\t\t\t\tvar markerLabel = $('.mapped-label');\n\t\t\t\t\t\t\tvar leftPos = (el.outerWidth() / 2) - (markerLabel.outerWidth() / 2);\n\t\t\t\t\t\t\tmarkerLabel.css('left', leftPos);\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 100);\n\t\t\t\t} else {\n\t\t\t\t\tel.removeClass('mapped').find('.marker').remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tscope.$on('$destroy', deregister);\n\t\t}\n\t}\n\n\tctrlFunc.$inject = ['$state', 'edPrinterService', 'edNotifierService', 'edEmployeeService', 'edRoomService', '_'];\n\n\tfunction ctrlFunc($state, edPrinterService, edNotifierService, edEmployeeService, edRoomService, _) {\n\t\tvar vm = this;\n\t\tvm.mapPrinter = mapPrinter;\n\t\tvm.viewProfile = viewProfile;\n\t\tvm.printers = edPrinterService.getAllPrinters();\n\t\tvm.mappedPrinter = null;\n\n\t\tvar viewingProfile = false;\n\n\t\tfunction mapPrinter(name) {\n\t\t\t// Don't map printer if the user wants to view the profile\n\t\t\tif (!viewingProfile) {\n\t\t\t\tvar mappedPrinterArray = _.filter(vm.printers, function (printer) {\n\t\t\t\t\treturn printer.name === name;\n\t\t\t\t});\n\n\t\t\t\tif (mappedPrinterArray.length > 0) {\n\t\t\t\t\t// Only allow 1 thing to be mapped at a time\n\t\t\t\t\tedEmployeeService.updateMappedEmployee(null);\n\t\t\t\t\tedRoomService.updateMappedRoom(null);\n\t\t\t\t\tvm.mappedPrinter = edPrinterService.updateMappedPrinter(mappedPrinterArray[0]);\n\t\t\t\t} else {\n\t\t\t\t\tedNotifierService.error('Sorry, I don\\'t know this printer.');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction viewProfile() {\n\t\t\tviewingProfile = true;\n\t\t\tedPrinterService.removeAllSelectedPrinters();\n\t\t\tvar selectedPrinter = edPrinterService.updateSelectedPrinters(edPrinterService.getMappedPrinter())[0];\n\t\t\t$state.go('printers.profile.name', {'printer': selectedPrinter.name});\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').directive('edNanoscroller', edNanoscroller);\n\n\tedNanoscroller.$inject = ['$timeout'];\n\n\tfunction edNanoscroller($timeout) {\n\t\tvar directive = {\n\t\t\trestrict: 'A',\n\t\t\ttemplate: '',\n\t\t\treplace: false,\n\t\t\tscope: {},\n\t\t\tlink: linkFunc\n\t\t};\n\n\t\treturn directive;\n\n\t\tfunction linkFunc(scope, el, attrs) {\n\t\t\t// Do this right away so scrollbars don't display in IE and Firefox\n\t\t\tangular.element('.nano').nanoScroller({preventPageScrolling: true});\n\t\t\t// Do this again after a few seconds to wait for the model to populate\n\t\t\t$timeout(function () {\n\t\t\t\tangular.element('.nano').nanoScroller();\n\t\t\t}, 3000);\n\t\t}\n\t}\n})();","/**\n * svg directive\n * replace img tag with its svg content\n * adaptation from https://stackoverflow.com/questions/11978995/how-to-change-color-of-svg-image-using-css-jquery-svg-image-replacement\n */\n(function () {\n\t'use strict';\n\tangular.module('app').directive('svg', svg);\n\n\tsvg.$inject = ['$http'];\n\n\tfunction svg($http) {\n\t\tvar directive = {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\tpath: '@',\n\t\t\t\tfilename: '@'\n\t\t\t},\n\t\t\tlink: linkFunc\n\t\t};\n\n\t\treturn directive;\n\n\t\tfunction linkFunc(scope, element, attrs) {\n\t\t\tvar imgId = attrs.id;\n\t\t\tvar imgClass = attrs.class;\n\t\t\tvar imgUrl = scope.path + scope.filename + '.svg';\n\n\t\t\t// Load svg content\n\t\t\t$http.get(imgUrl).success(function (data, status) {\n\t\t\t\tvar svg = angular.element(data);\n\t\t\t\tfor (var i = svg.length - 1; i >= 0; i--) {\n\t\t\t\t\tif (svg[i].constructor.name === 'SVGSVGElement') {\n\t\t\t\t\t\tsvg = angular.element(svg[i]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (typeof imgId !== 'undefined') {\n\t\t\t\t\tsvg.attr('id', imgId);\n\t\t\t\t}\n\n\t\t\t\tif (typeof imgClass !== 'undefined') {\n\t\t\t\t\tsvg.attr('class', imgClass);\n\t\t\t\t}\n\t\t\t\t// Remove invalid attributes\n\t\t\t\tsvg = svg.removeAttr('xmlns:a');\n\t\t\t\telement.replaceWith(svg);\n\t\t\t});\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').factory('edArtifactResourceService', edArtifactResourceService);\n\n\tedArtifactResourceService.$inject = ['$resource'];\n\n\tfunction edArtifactResourceService($resource) {\n\t\tvar artifactResource = $resource('/api/artifacts/:id', {\n\t\t\t_id: '@id'\n\t\t});\n\n\t\treturn artifactResource;\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').factory('edArtifactService', edArtifactService);\n\n\tedArtifactService.$inject = ['edCachedArtifactResourceService'];\n\n\tfunction edArtifactService(edCachedArtifactResourceService) {\n\t\tvar service = {\n\t\t\tgetAllArtifacts: getAllArtifacts\n\t\t};\n\t\treturn service;\n\n\t\t/**\n\t\t * Gets all artifacts from the database (or memory)\n\t\t *\n\t\t * @return {Array} artifacts\n\t\t */\n\t\tfunction getAllArtifacts() {\n\t\t\treturn edCachedArtifactResourceService.query();\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').factory('edCachedArtifactResourceService', edCachedArtifactResourceService);\n\n\tedCachedArtifactResourceService.$inject = ['edArtifactResourceService'];\n\n\tfunction edCachedArtifactResourceService(edArtifactResourceService) {\n\t\tvar artifacts;\n\t\tvar service = {\n\t\t\tquery: query\n\t\t};\n\n\t\treturn service;\n\n\t\tfunction query() {\n\t\t\tif (!artifacts) {\n\t\t\t\tartifacts = edArtifactResourceService.query();\n\t\t\t}\n\n\t\t\treturn artifacts;\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').factory('edIdentityService', edIdentityService);\n\n\tedIdentityService.$inject = ['$window', 'edUserResourceService'];\n\n\tfunction edIdentityService($window, edUserResourceService) {\n\t\tvar currentUser;\n\t\tif (!!$window.bootstrappedUserObject) {\n\t\t\tcurrentUser = new edUserResourceService();\n\t\t\tangular.extend(currentUser, $window.bootstrappedUserObject);\n\t\t}\n\t\tvar service = {\n\t\t\tcurrentUser: currentUser,\n\t\t\tisAuthenticated: isAuthenticated,\n\t\t\tisAuthorized: isAuthorized\n\t\t};\n\t\treturn service;\n\n\t\tfunction isAuthenticated() {\n\t\t\treturn !!this.currentUser;\n\t\t}\n\n\t\tfunction isAuthorized(role) {\n\t\t\treturn !!this.currentUser && this.currentUser.roles.indexOf(role) > -1;\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').value('edToastr', toastr);\n\n\tangular.module('app').factory('edNotifierService', edNotifierService);\n\n\tedNotifierService.$inject = ['edToastr'];\n\n\tfunction edNotifierService(edToastr) {\n\t\tvar service = {\n\t\t\tnotify: notify,\n\t\t\tinfo: info,\n\t\t\terror: error\n\t\t};\n\n\t\tedToastr.options = {\n\t\t\t'showDuration': '300',\n\t\t\t'hideDuration': '300'\n\t\t};\n\n\t\treturn service;\n\n\t\tfunction notify(msg) {\n\t\t\tedToastr.success(msg);\n\t\t}\n\n\t\tfunction info(msg) {\n\t\t\tedToastr.info(msg);\n\t\t}\n\n\t\tfunction error(msg) {\n\t\t\tedToastr.error(msg);\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').factory('edSidebarService', edSidebarService);\n\n\tedSidebarService.$inject = ['$rootScope'];\n\n\tfunction edSidebarService($rootScope) {\n\t\tvar sidebarLocked = false;\n\t\tvar service = {\n\t\t\tsetLockSidebar: setLockSidebar,\n\t\t\tgetLockSidebar: getLockSidebar\n\t\t};\n\n\t\treturn service;\n\n\t\tfunction setLockSidebar(lock) {\n\t\t\tsidebarLocked = lock;\n\t\t\t$rootScope.$broadcast('sidebarLockedChange', sidebarLocked);\n\t\t\treturn sidebarLocked;\n\t\t}\n\n\t\tfunction getLockSidebar() {\n\t\t\treturn sidebarLocked;\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').directive('edArtifact', edArtifact);\n\n\tfunction edArtifact() {\n\t\tvar directive = {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: '/partials/common/components/artifact',\n\t\t\treplace: true,\n\t\t\tscope: {\n\t\t\t\tname: '@',\n\t\t\t\torientation: '@',\n\t\t\t\tclassification: '@',\n\t\t\t\txpos: '@',\n\t\t\t\typos: '@'\n\t\t\t},\n\t\t\tcontroller: ctrlFunc,\n\t\t\tcontrollerAs: 'vm'\n\t\t};\n\n\t\treturn directive;\n\t}\n\n\tfunction ctrlFunc() {\n\t\tvar vm = this;\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').directive('edFooter', edFooter);\n\n\tfunction edFooter() {\n\t\tvar directive = {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: '/partials/common/components/footer',\n\t\t\tscope: {},\n\t\t\tcontroller: ctrlFunc,\n\t\t\tcontrollerAs: 'vm'\n\t\t};\n\n\t\treturn directive;\n\t}\n\n\tctrlFunc.$inject = ['edIdentityService', 'edAuthService', 'edNotifierService'];\n\n\tfunction ctrlFunc(edIdentityService, edAuthService, edNotifierService) {\n\t\tvar vm = this;\n\t\tvm.identity = edIdentityService;\n\t\tvm.signout = signout;\n\n\t\tfunction signout() {\n\t\t\tedAuthService.logoutUser().then(function () {\n\t\t\t\tvm.username = '';\n\t\t\t\tvm.password = '';\n\t\t\t\tedNotifierService.notify('You have successfully signed out');\n\t\t\t});\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edIndexTopbarCtrl', edIndexTopbarCtrl);\n\n\tfunction edIndexTopbarCtrl() {\n\t\t//console.log('topbar');\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').directive('edSidebarLeft', edSidebarLeft);\n\n\tfunction edSidebarLeft() {\n\t\tvar directive = {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: '/partials/common/components/sidebar-left',\n\t\t\tscope: {},\n\t\t\tcontroller: ctrlFunc,\n\t\t\tcontrollerAs: 'vm'\n\t\t};\n\n\t\treturn directive;\n\t}\n\n\tctrlFunc.$inject = ['$scope', 'edSidebarService', 'edIdentityService'];\n\n\tfunction ctrlFunc($scope, edSidebarService, edIdentityService) {\n\t\tvar vm = this;\n\t\tvm.identity = edIdentityService;\n\t\tvm.sidebarOpen = false;\n\t\tvm.sidebarLocked = edSidebarService.getLockSidebar();\n\t\tvm.toggleSidebar = toggleSidebar;\n\t\tvm.closeSidebar = closeSidebar;\n\t\tvm.scrollSidebarTop = scrollSidebarTop;\n\n\t\tactivate();\n\n\t\t// If the sidebar is locked open, make sure it is open\n\t\tfunction activate() {\n\t\t\tif (vm.sidebarLocked) {\n\t\t\t\tvm.sidebarOpen = true;\n\t\t\t}\n\t\t}\n\n\t\t// If the sidebar is not locked open, toggle it\n\t\tfunction toggleSidebar() {\n\t\t\tif (!vm.sidebarLocked) {\n\t\t\t\tvm.sidebarOpen = !vm.sidebarOpen;\n\t\t\t}\n\t\t}\n\n\t\t// If the sidebar is not locked open, close it\n\t\tfunction closeSidebar() {\n\t\t\tif (!vm.sidebarLocked) {\n\t\t\t\tvm.sidebarOpen = false;\n\t\t\t}\n\t\t}\n\n\t\t// Watch for the sidebar locked change event\n\t\tvar deregister = $scope.$on('sidebarLockedChange', function (event, sidebarLocked) {\n\t\t\tvm.sidebarLocked = sidebarLocked;\n\t\t\tvm.sidebarOpen = vm.sidebarLocked ? true : false;\n\t\t});\n\n\t\t$scope.$on('$destroy', deregister);\n\n\t\tfunction scrollSidebarTop() {\n\t\t\t$('.nano').nanoScroller({scroll: 'top'});\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').filter('edPhoneNumberFilter', edPhoneNumberFilter);\n\n\tfunction edPhoneNumberFilter() {\n\t\treturn function (tel) {\n\t\t\tif (!tel) { return ''; }\n\n\t\t\t// strip all non-digits\n\t\t\tvar value = tel.toString().trim().replace(/\\D/g, '');\n\n\t\t\tvar country, city, number;\n\n\t\t\tswitch (value.length) {\n\t\t\t\tcase 10: // +1PPP####### -> C (PPP) ###-####\n\t\t\t\t\tcountry = 1;\n\t\t\t\t\tcity = value.slice(0, 3);\n\t\t\t\t\tnumber = value.slice(3);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 11: // +CPPP####### -> CCC (PP) ###-####\n\t\t\t\t\tcountry = value[0];\n\t\t\t\t\tcity = value.slice(1, 4);\n\t\t\t\t\tnumber = value.slice(4);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 12: // +CCCPP####### -> CCC (PP) ###-####\n\t\t\t\t\tcountry = value.slice(0, 3);\n\t\t\t\t\tcity = value.slice(3, 5);\n\t\t\t\t\tnumber = value.slice(5);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn tel;\n\t\t\t}\n\n\t\t\tif (country === 1) {\n\t\t\t\tcountry = '';\n\t\t\t}\n\n\t\t\tnumber = number.slice(0, 3) + '-' + number.slice(3);\n\n\t\t\treturn (country + ' (' + city + ') ' + number).trim();\n\t\t};\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edOrgChartCtrl', edOrgChartCtrl);\n\n\tedOrgChartCtrl.$inject = ['$scope', '$state', '$stateParams', 'edEmployeeService', '_'];\n\n\tfunction edOrgChartCtrl($scope, $state, $stateParams, edEmployeeService, _) {\n\t\tvar employees = edEmployeeService.getAllEmployees();\n\t\tvar vm = this;\n\t\tvm.selectedEmployee = edEmployeeService.getSelectedEmployees()[0];\n\t\tvm.manager = null;\n\t\tvm.directReports = [];\n\t\tvm.selectEmployee = selectEmployee;\n\t\tvm.profileEmployee = profileEmployee;\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tedEmployeeService.setDisplayEmployeeInfoType('profile');\n\t\t\tedEmployeeService.setSelectMultipleEmployees(false);\n\t\t\tedEmployeeService.updateMappedEmployee(null);\n\t\t\tif ($stateParams.employee) {\n\t\t\t\tedEmployeeService.getAllEmployees().$promise.then(getEmployeeById);\n\t\t\t} else if (vm.selectedEmployee) {\n\t\t\t\tgetManager();\n\t\t\t\tgetDirectReports();\n\t\t\t}\n\t\t}\n\n\t\tfunction getEmployeeById(employees) {\n\t\t\tvar employee = _.findWhere(employees, {'eid': parseInt($stateParams.employee)});\n\t\t\tif (employee) {\n\t\t\t\tif (employee !== vm.selectedEmployee) {\n\t\t\t\t\tselectEmployee(employee);\n\t\t\t\t}\n\t\t\t\tgetManager();\n\t\t\t\tgetDirectReports();\n\t\t\t}\n\t\t}\n\n\t\tfunction getManager() {\n\t\t\tvm.manager = _.findWhere(employees, {'eid': vm.selectedEmployee.mid});\n\t\t}\n\n\t\tfunction getDirectReports() {\n\t\t\tvm.directReports = _.sortBy(_.filter(employees, {'mid': vm.selectedEmployee.eid}), 'lastName');\n\t\t}\n\n\t\tfunction selectEmployee(employee) {\n\t\t\tvm.selectedEmployee = edEmployeeService.updateSelectedEmployees(employee)[0];\n\t\t}\n\n\t\tfunction profileEmployee() {\n\t\t\t$state.go('employees.profile.employee', {'employee': vm.selectedEmployee.eid});\n\t\t}\n\n\t\tvar deregister = $scope.$on('selectedEmployeeChange', function (event, selectedEmployees) {\n\t\t\tvm.selectedEmployee = selectedEmployees[0];\n\n\t\t\tif (vm.selectedEmployee) {\n\t\t\t\t$state.go('employees.org-chart', {'employee': vm.selectedEmployee.eid});\n\t\t\t}\n\t\t});\n\n\t\t$scope.$on('$destroy', deregister);\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edEmployeeProfileCtrl', edEmployeeProfileCtrl);\n\n\tedEmployeeProfileCtrl.$inject = ['$scope', '$document', 'edEmployeeService', '$stateParams', '_'];\n\n\tfunction edEmployeeProfileCtrl($scope, $document, edEmployeeService, $stateParams, _) {\n\t\tvar vm = this;\n\t\tvm.selectedEmployees = edEmployeeService.getSelectedEmployees();\n\t\tvm.changePage = changePage;\n\t\tvm.currentPage = edEmployeeService.getProfilePageNumber();\n\n\t\tedEmployeeService.setDisplayEmployeeInfoType('profile');\n\t\tedEmployeeService.setSelectMultipleEmployees(true);\n\t\tedEmployeeService.updateMappedEmployee(null);\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tif ($stateParams.employee || $stateParams.team || $stateParams.department || $stateParams.title || $stateParams.firstname || $stateParams.lastname) {\n\t\t\t\tedEmployeeService.removeAllSelectedEmployees();\n\t\t\t\tedEmployeeService.getAllEmployees().$promise.then(function (employees) {\n\t\t\t\t\tif ($stateParams.employee) {\n\t\t\t\t\t\tselectEmployeeById(employees);\n\t\t\t\t\t} else if ($stateParams.team) {\n\t\t\t\t\t\tselectEmployeeByTeam(employees);\n\t\t\t\t\t} else if ($stateParams.department) {\n\t\t\t\t\t\tselectEmployeeByDepartment(employees);\n\t\t\t\t\t} else if ($stateParams.title) {\n\t\t\t\t\t\tselectEmployeeByTitle(employees);\n\t\t\t\t\t} else if ($stateParams.firstname || $stateParams.lastname) {\n\t\t\t\t\t\tselectEmployeeByName(employees);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tfunction selectEmployeeById(employees) {\n\t\t\tvar selectedEmployees = _.filter(employees, function (employee) {\n\t\t\t\tvar match = false;\n\t\t\t\tif ($stateParams.employee) {\n\t\t\t\t\t// Split eid query on comma\n\t\t\t\t\tvar employeeids = $stateParams.employee.split(',');\n\t\t\t\t\tangular.forEach(employeeids, function (eid) {\n\t\t\t\t\t\t// If the employee's id is part of the query\n\t\t\t\t\t\tif (employee.hasOwnProperty('eid') && employee.eid === parseInt(eid)) {\n\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tangular.forEach(selectedEmployees, function (employee) {\n\t\t\t\tedEmployeeService.updateSelectedEmployees(employee);\n\t\t\t});\n\t\t}\n\n\t\tfunction selectEmployeeByTeam(employees) {\n\t\t\tvar selectedEmployees = _.sortBy(_.filter(employees, function (employee) {\n\t\t\t\tvar match = false;\n\t\t\t\tif ($stateParams.team) {\n\t\t\t\t\t// Split teams query on comma\n\t\t\t\t\tvar teams = $stateParams.team.split(',');\n\t\t\t\t\tangular.forEach(teams, function (team) {\n\t\t\t\t\t\t// If the employee's team is part of the query\n\t\t\t\t\t\tif (employee.hasOwnProperty('team') && employee.team.toLowerCase() === team.toLowerCase()) {\n\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t}), 'lastName').reverse();\n\n\t\t\tangular.forEach(selectedEmployees, function (employee) {\n\t\t\t\tedEmployeeService.updateSelectedEmployees(employee);\n\t\t\t});\n\t\t}\n\n\t\tfunction selectEmployeeByDepartment(employees) {\n\t\t\tvar selectedEmployees = _.sortBy(_.filter(employees, function (employee) {\n\t\t\t\tvar match = false;\n\t\t\t\tif ($stateParams.department) {\n\t\t\t\t\t// Split departments query on comma\n\t\t\t\t\tvar departments = $stateParams.department.split(',');\n\t\t\t\t\tangular.forEach(departments, function (department) {\n\t\t\t\t\t\t// If the employee's department is part of the query\n\t\t\t\t\t\tif (employee.hasOwnProperty('department') && employee.department.toLowerCase() === department.toLowerCase()) {\n\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t}), 'lastName').reverse();\n\n\t\t\tangular.forEach(selectedEmployees, function (employee) {\n\t\t\t\tedEmployeeService.updateSelectedEmployees(employee);\n\t\t\t});\n\t\t}\n\n\t\tfunction selectEmployeeByTitle(employees) {\n\t\t\tvar selectedEmployees = _.sortBy(_.filter(employees, function (employee) {\n\t\t\t\tvar match = false;\n\t\t\t\tif ($stateParams.title) {\n\t\t\t\t\t// Split titles query on pipe\n\t\t\t\t\tvar titles = $stateParams.title.split('|');\n\t\t\t\t\tangular.forEach(titles, function (title) {\n\t\t\t\t\t\t// If the employee's title is part of the query\n\t\t\t\t\t\tif (employee.hasOwnProperty('title') && employee.title.toLowerCase() === title.toLowerCase()) {\n\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t}), 'lastName').reverse();\n\n\t\t\tangular.forEach(selectedEmployees, function (employee) {\n\t\t\t\tedEmployeeService.updateSelectedEmployees(employee);\n\t\t\t});\n\t\t}\n\n\t\tfunction selectEmployeeByName(employees) {\n\t\t\tvar selectedEmployees = _.filter(employees, function (employee) {\n\t\t\t\tvar match = false;\n\t\t\t\tif ($stateParams.firstname) {\n\t\t\t\t\t// Split first name query on comma\n\t\t\t\t\tvar firstnames = $stateParams.firstname.split(',');\n\t\t\t\t\t// Loop over each first name\n\t\t\t\t\tangular.forEach(firstnames, function (firstname) {\n\t\t\t\t\t\t// If the employee's first name (or nickname) is part of the query check the last names\n\t\t\t\t\t\tif (employee.firstName.toLowerCase() === firstname.toLowerCase() ||\n\t\t\t\t\t\t\t(employee.hasOwnProperty('nickname') && employee.nickname.toLowerCase() === firstname.toLowerCase())) {\n\t\t\t\t\t\t\t// If last names are on the query string\n\t\t\t\t\t\t\tif ($stateParams.lastname) {\n\t\t\t\t\t\t\t\t// Split last name query on comma\n\t\t\t\t\t\t\t\tvar lastnames = $stateParams.lastname.split(',');\n\t\t\t\t\t\t\t\t// Loop over all the last names\n\t\t\t\t\t\t\t\tangular.forEach(lastnames, function (lastname) {\n\t\t\t\t\t\t\t\t\t// If the employee's last name is part of the query string we have match\n\t\t\t\t\t\t\t\t\tif (employee.lastName.toLowerCase() === lastname.toLowerCase()) {\n\t\t\t\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t// No last name query so only worry about the first name\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// This employee's first name is not a match\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t// No first name query so only worry about the last name\n\t\t\t\t} else if ($stateParams.lastname) {\n\t\t\t\t\tvar lastnames = $stateParams.lastname.split(',');\n\t\t\t\t\t// Loop over all the last names\n\t\t\t\t\tangular.forEach(lastnames, function (lastname) {\n\t\t\t\t\t\t// If the employee's last name is part of the query string we have match\n\t\t\t\t\t\tif (employee.lastName.toLowerCase() === lastname.toLowerCase()) {\n\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t\t// This employee's last name is not a match\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\tangular.forEach(selectedEmployees, function (employee) {\n\t\t\t\tedEmployeeService.updateSelectedEmployees(employee);\n\t\t\t});\n\t\t}\n\n\t\tfunction changePage(newPageNumber) {\n\t\t\tedEmployeeService.setProfilePageNumber(newPageNumber);\n\t\t\t$document.scrollTopAnimated(0, 300);\n\t\t}\n\n\t\tvar deregister = $scope.$on('selectedEmployeeChange', function (event, selectedEmployees) {\n\t\t\tvm.selectedEmployees = selectedEmployees;\n\t\t\t// If we added to selected employees, go to first page and scroll to the top\n\t\t\tif (edEmployeeService.getSelectedEmployeeAdded()) {\n\t\t\t\tvm.currentPage = 1;\n\t\t\t\t$document.scrollTopAnimated(0, 300);\n\t\t\t}\n\t\t});\n\n\t\t$scope.$on('$destroy', deregister);\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edFloorCtrl', edFloorCtrl);\n\n\tedFloorCtrl.$inject = ['edEmployeeService', 'edDeskService', '$state', '$stateParams', '$scope', 'edRoomService', 'edPrinterService', 'edArtifactService', '_'];\n\n\tfunction edFloorCtrl(edEmployeeService, edDeskService, $state, $stateParams, $scope, edRoomService, edPrinterService, edArtifactService, _) {\n\t\tvar vm = this;\n\t\tvm.selectedEmployees = edEmployeeService.setSelectMultipleEmployees(true);\n\t\tvm.mappedEmployee = edEmployeeService.getMappedEmployee();\n\t\tvm.selectedPrinters = edPrinterService.setSelectMultiplePrinters(true);\n\t\tvm.mappedPrinter = edPrinterService.getMappedPrinter();\n\t\tvm.selectedRooms = edRoomService.setSelectMultipleRooms(true);\n\t\tvm.mappedRoom = edRoomService.getMappedRoom();\n\t\tvm.desks = null;\n\t\tvm.rooms = null;\n\t\tvm.printers = null;\n\t\tvm.location = null;\n\t\tvm.floor = null;\n\n\t\tedEmployeeService.setDisplayEmployeeInfoType('location');\n\t\tedPrinterService.setDisplayPrinterInfoType('location');\n\t\tedRoomService.setDisplayRoomInfoType('location');\n\t\tedEmployeeService.setSelectMultipleEmployees(false);\n\t\tedRoomService.setSelectMultipleRooms(false);\n\t\tedPrinterService.setSelectMultiplePrinters(false);\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\t// Get the floor based on the current state\n\t\t\tvar currentState = $state.current.name;\n\t\t\tvar locationAndFloor = currentState.split('.')[2].split('-');\n\t\t\tvm.location = locationAndFloor[0];\n\t\t\tvm.floor = parseInt(locationAndFloor[1]);\n\n\t\t\tif (vm.location === 'buf') {\n\t\t\t\tvm.locationName = 'BUF';\n\t\t\t} else if (vm.location === 'nyc') {\n\t\t\t\tvm.locationName = 'NYC';\n\t\t\t} else {\n\t\t\t\tvm.locationName = 'Remote';\n\t\t\t}\n\n\t\t\t// Map all the desks and rooms on this floor\n\t\t\tedDeskService.getAllDesks().$promise.then(deskFilter);\n\t\t\tedRoomService.getAllRooms().$promise.then(roomFilter);\n\t\t\tedPrinterService.getAllPrinters().$promise.then(printerFilter);\n\t\t\tedArtifactService.getAllArtifacts().$promise.then(artifactFilter);\n\n\t\t\tmapEmployee();\n\t\t\tmapRoom();\n\t\t\tmapPrinter();\n\t\t}\n\n\t\tvar deregisterEmployee = $scope.$on('mappedEmployeeChange', function (event, mappedEmployee) {\n\t\t\tif (mappedEmployee) {\n\t\t\t\tif (mappedEmployee.floor && (mappedEmployee.location !== vm.location || mappedEmployee.floor !== vm.floor)) {\n\t\t\t\t\t$state.go('employees.map.' + mappedEmployee.location + '-' + mappedEmployee.floor, {'seat': mappedEmployee.seat});\n\t\t\t\t} else if (!mappedEmployee.floor) {\n\t\t\t\t\t$state.go('employees.map');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t$scope.$on('$destroy', deregisterEmployee);\n\n\t\tvar deregisterPrinter = $scope.$on('mappedPrinterChange', function (event, mappedPrinter) {\n\t\t\tif (mappedPrinter) {\n\t\t\t\tif (mappedPrinter.floor && (mappedPrinter.location !== vm.location || mappedPrinter.floor !== vm.floor)) {\n\t\t\t\t\t$state.go('printers.map.' + mappedPrinter.location + '-' + mappedPrinter.floor, {'name': mappedPrinter.name});\n\t\t\t\t} else if (!mappedPrinter.floor) {\n\t\t\t\t\t$state.go('printers.map');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t$scope.$on('$destroy', deregisterPrinter);\n\n\t\tvar deregisterRoom = $scope.$on('mappedRoomChange', function (event, mappedRoom) {\n\t\t\tif (mappedRoom) {\n\t\t\t\tif (mappedRoom.floor && (mappedRoom.location !== vm.location || mappedRoom.floor !== vm.floor)) {\n\t\t\t\t\t$state.go('rooms.map.' + mappedRoom.location + '-' + mappedRoom.floor, {'name': mappedRoom.name});\n\t\t\t\t} else if (!mappedRoom.floor) {\n\t\t\t\t\t$state.go('rooms.map');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t$scope.$on('$destroy', deregisterRoom);\n\n\t\tfunction deskFilter(desks) {\n\t\t\tvm.desks = _.filter(desks, function (desk) {\n\t\t\t\treturn desk.floor === vm.floor && desk.location === vm.location;\n\t\t\t});\n\t\t}\n\n\t\tfunction roomFilter(rooms) {\n\t\t\tvm.rooms = _.filter(rooms, function (room) {\n\t\t\t\treturn room.floor === vm.floor && room.location === vm.location;\n\t\t\t});\n\t\t}\n\n\t\tfunction printerFilter(printers) {\n\t\t\tvm.printers = _.filter(printers, function (printer) {\n\t\t\t\treturn printer.floor === vm.floor && printer.location === vm.location;\n\t\t\t});\n\t\t}\n\n\t\tfunction artifactFilter(artifacts) {\n\t\t\tvm.artifacts = _.filter(artifacts, function (artifact) {\n\t\t\t\treturn artifact.floor === vm.floor && artifact.location === vm.location;\n\t\t\t});\n\t\t}\n\n\t\tfunction mapEmployee() {\n\t\t\t// If there is a mapped employee and we know their floor\n\t\t\tif (vm.mappedEmployee && vm.mappedEmployee.floor) {\n\t\t\t\t// If the mapped employee is on a different floor, un-map them\n\t\t\t\tif (vm.floor !== vm.mappedEmployee.floor) {\n\t\t\t\t\tvm.mappedEmployee = edEmployeeService.updateMappedEmployee(null);\n\t\t\t\t}\n\t\t\t\t// Map an employee based on a seat number\n\t\t\t} else if ($stateParams.seat) {\n\t\t\t\tedEmployeeService.getAllEmployees().$promise.then(mapEmployeeBySeat);\n\t\t\t}\n\t\t}\n\n\t\tfunction mapEmployeeBySeat(employees) {\n\t\t\tvar mappedEmployeeArray = _.filter(employees, function (employee) {\n\t\t\t\treturn employee.seat === $stateParams.seat;\n\t\t\t});\n\n\t\t\tif (mappedEmployeeArray.length > 0) {\n\t\t\t\tvm.mappedEmployee = edEmployeeService.updateMappedEmployee(mappedEmployeeArray[0]);\n\t\t\t\tvm.location = vm.mappedEmployee.location;\n\t\t\t\tvm.floor = vm.mappedEmployee.floor;\n\t\t\t}\n\t\t}\n\n\t\tfunction mapRoom() {\n\t\t\t// If there is a mapped printer and we know its floor\n\t\t\tif (vm.mappedPrinter && vm.mappedPrinter.floor) {\n\t\t\t\t// If the mapped printer is on a different floor, un-map it\n\t\t\t\tif (vm.floor !== vm.mappedPrinter.floor) {\n\t\t\t\t\tvm.mappedPrinter = edPrinterService.updateMappedPrinter(null);\n\t\t\t\t}\n\t\t\t\t// Map an printer based on its name\n\t\t\t} else if ($stateParams.name) {\n\t\t\t\tedPrinterService.getAllPrinters().$promise.then(mapPrinterByName);\n\t\t\t}\n\t\t}\n\n\t\tfunction mapRoomByName(rooms) {\n\t\t\tvar mappedRoomArray = _.filter(rooms, function (room) {\n\t\t\t\treturn room.name === $stateParams.name;\n\t\t\t});\n\n\t\t\tif (mappedRoomArray.length > 0) {\n\t\t\t\tvm.mappedRoom = edRoomService.updateMappedRoom(mappedRoomArray[0]);\n\t\t\t\tvm.floor = vm.mappedRoom.floor;\n\t\t\t}\n\t\t}\n\n\t\tfunction mapPrinter() {\n\t\t\t// If there is a mapped room and we know its floor\n\t\t\tif (vm.mappedRoom && vm.mappedRoom.floor) {\n\t\t\t\t// If the mapped room is on a different floor, un-map it\n\t\t\t\tif (vm.floor !== vm.mappedRoom.floor) {\n\t\t\t\t\tvm.mappedRoom = edRoomService.updateMappedRoom(null);\n\t\t\t\t}\n\t\t\t\t// Map an room based on its name\n\t\t\t} else if ($stateParams.name) {\n\t\t\t\tedRoomService.getAllRooms().$promise.then(mapRoomByName);\n\t\t\t}\n\t\t}\n\n\t\tfunction mapPrinterByName(printers) {\n\t\t\tvar mappedPrinterArray = _.filter(printers, function (printer) {\n\t\t\t\treturn printer.name === $stateParams.name;\n\t\t\t});\n\n\t\t\tif (mappedPrinterArray.length > 0) {\n\t\t\t\tvm.mappedPrinter = edPrinterService.updateMappedPrinter(mappedPrinterArray[0]);\n\t\t\t\tvm.floor = vm.mappedPrinter.floor;\n\t\t\t}\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edIndexCtrl', edIndexCtrl);\n\n\tedIndexCtrl.$inject = ['edSidebarService'];\n\n\tfunction edIndexCtrl(edSidebarService) {\n\t\tvar vm = this;\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tedSidebarService.setLockSidebar(true);\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edEmployeeMapCtrl', edEmployeeMapCtrl);\n\n\tedEmployeeMapCtrl.$inject = ['$state', '$stateParams', '$scope', 'edEmployeeService'];\n\n\tfunction edEmployeeMapCtrl($state, $stateParams, $scope, edEmployeeService) {\n\t\tvar vm = this;\n\t\tvm.selectedEmployees = edEmployeeService.setSelectMultipleEmployees(true);\n\t\tvm.mappedEmployee = edEmployeeService.getMappedEmployee();\n\t\tvm.unknownLocationEmployee = false;\n\n\t\tedEmployeeService.setDisplayEmployeeInfoType('location');\n\t\tedEmployeeService.setSelectMultipleEmployees(false);\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tif ($stateParams.employee) {\n\t\t\t\tedEmployeeService.updateMappedEmployeeById($stateParams.employee);\n\t\t\t} else if (vm.mappedEmployee) {\n\t\t\t\tlocateEmployee(vm.mappedEmployee);\n\t\t\t}\n\t\t}\n\n\t\tvar deregister = $scope.$on('mappedEmployeeChange', function (event, mappedEmployee) {\n\t\t\tlocateEmployee(mappedEmployee);\n\t\t});\n\n\t\t$scope.$on('$destroy', deregister);\n\n\t\tfunction locateEmployee(employee) {\n\t\t\tif (employee) {\n\t\t\t\tif (employee.seat) {\n\t\t\t\t\t$state.go('employees.map.' + employee.location + '-' + employee.floor, {'seat': employee.seat});\n\t\t\t\t} else {\n\t\t\t\t\tvm.unknownLocationEmployee = true;\n\t\t\t\t\tvm.mappedEmployee = employee;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvm.unknownLocationEmployee = false;\n\t\t\t\tvm.mappedEmployee = null;\n\t\t\t}\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').controller('edHelpLocationCtrl', edHelpLocationCtrl);\n\n\tedHelpLocationCtrl.$inject = ['edSidebarService'];\n\n\tfunction edHelpLocationCtrl(edSidebarService) {\n\t\tvar vm = this;\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tedSidebarService.setLockSidebar(true);\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edHelpNavigationCtrl', edHelpNavigationCtrl);\n\n\tedHelpNavigationCtrl.$inject = ['edSidebarService'];\n\n\tfunction edHelpNavigationCtrl(edSidebarService) {\n\t\tvar vm = this;\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tedSidebarService.setLockSidebar(true);\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').controller('edHelpProfileCtrl', edHelpProfileCtrl);\n\n\tedHelpProfileCtrl.$inject = ['edSidebarService'];\n\n\tfunction edHelpProfileCtrl(edSidebarService) {\n\t\tvar vm = this;\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tedSidebarService.setLockSidebar(true);\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').controller('edHelpOrgChartCtrl', edHelpOrgChartCtrl);\n\n\tedHelpOrgChartCtrl.$inject = ['edSidebarService'];\n\n\tfunction edHelpOrgChartCtrl(edSidebarService) {\n\t\tvar vm = this;\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tedSidebarService.setLockSidebar(true);\n\t\t}\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edRoomMapCtrl', edRoomMapCtrl);\n\n\tedRoomMapCtrl.$inject = ['$state', '$scope', 'edRoomService'];\n\n\tfunction edRoomMapCtrl($state, $scope, edRoomService) {\n\t\tvar vm = this;\n\t\tvm.selectedRooms = edRoomService.setSelectMultipleRooms(true);\n\t\tvm.mappedRoom = edRoomService.getMappedRoom();\n\n\t\tedRoomService.setDisplayRoomInfoType('location');\n\t\tedRoomService.setSelectMultipleRooms(false);\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tlocateRoom(vm.mappedRoom);\n\t\t}\n\n\t\tvar deregister = $scope.$on('mappedRoomChange', function (event, mappedRoom) {\n\t\t\tlocateRoom(mappedRoom);\n\t\t});\n\n\t\t$scope.$on('$destroy', deregister);\n\n\t\tfunction locateRoom(room) {\n\t\t\tif (room) {\n\t\t\t\t$state.go('rooms.map.' + room.location + '-' + room.floor, {'name': room.name});\n\t\t\t}\n\t\t}\n\t}\n})();\n","(function () {\n\t'use strict';\n\tangular.module('app').controller('edRoomProfileCtrl', edRoomProfileCtrl);\n\n\tedRoomProfileCtrl.$inject = ['$scope', '$document', 'edRoomService', '$stateParams', '_'];\n\n\tfunction edRoomProfileCtrl($scope, $document, edRoomService, $stateParams, _) {\n\t\tvar vm = this;\n\t\tvm.selectedRooms = edRoomService.getSelectedRooms();\n\t\tvm.changePage = changePage;\n\t\tvm.currentPage = edRoomService.getProfilePageNumber();\n\n\t\tedRoomService.setDisplayRoomInfoType('profile');\n\t\tedRoomService.setSelectMultipleRooms(true);\n\t\tedRoomService.updateMappedRoom(null);\n\n\t\tif ($stateParams.room || $stateParams.roomtype) {\n\t\t\tedRoomService.removeAllSelectedRooms();\n\t\t\tif ($stateParams.room) {\n\t\t\t\tedRoomService.getAllRooms().$promise.then(selectRoomByName);\n\t\t\t} else if ($stateParams.roomtype) {\n\t\t\t\tedRoomService.removeAllSelectedRooms();\n\t\t\t\tedRoomService.getAllRooms().$promise.then(selectRoomByType);\n\t\t\t}\n\t\t}\n\n\t\tfunction selectRoomByName(rooms) {\n\t\t\tvar selectedRooms = _.filter(rooms, function (room) {\n\t\t\t\tvar match = false;\n\t\t\t\tif ($stateParams.room) {\n\t\t\t\t\t// Split name query on comma\n\t\t\t\t\tvar rooms = $stateParams.room.split(',');\n\t\t\t\t\t// Loop over each room name\n\t\t\t\t\tangular.forEach(rooms, function (name) {\n\t\t\t\t\t\t// If the room's name is part of the query select it\n\t\t\t\t\t\tif (room.name.toLocaleLowerCase() === name.toLowerCase()) {\n\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\tangular.forEach(selectedRooms, function (room) {\n\t\t\t\tedRoomService.updateSelectedRooms(room);\n\t\t\t});\n\t\t}\n\n\t\tfunction selectRoomByType(rooms) {\n\t\t\tvar selectedRooms = _.sortBy(_.filter(rooms, function (room) {\n\t\t\t\tvar match = false;\n\t\t\t\tif ($stateParams.roomtype) {\n\t\t\t\t\t// Split roomtype query on comma\n\t\t\t\t\tvar roomtypes = $stateParams.roomtype.split(',');\n\t\t\t\t\t// Loop over each roomtype\n\t\t\t\t\tangular.forEach(roomtypes, function (type) {\n\t\t\t\t\t\t// If the room's type is part of the query select it\n\t\t\t\t\t\tif (room.type.toLocaleLowerCase() === type.toLowerCase()) {\n\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t}), 'name').reverse();\n\n\t\t\tangular.forEach(selectedRooms, function (room) {\n\t\t\t\tedRoomService.updateSelectedRooms(room);\n\t\t\t});\n\t\t}\n\n\t\tfunction changePage(newPageNumber) {\n\t\t\tedRoomService.setProfilePageNumber(newPageNumber);\n\t\t\t$document.scrollTopAnimated(0, 300);\n\t\t}\n\n\t\tvar deregister = $scope.$on('selectedRoomChange', function (event, selectedRooms) {\n\t\t\tvm.selectedRooms = selectedRooms;\n\t\t\t// If we added to selected rooms, go to first page and scroll to the top\n\t\t\tif (edRoomService.getSelectedRoomAdded()) {\n\t\t\t\tvm.currentPage = 1;\n\t\t\t\t$document.scrollTopAnimated(0, 300);\n\t\t\t}\n\t\t});\n\n\t\t$scope.$on('$destroy', deregister);\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edPrinterProfileCtrl', edPrinterProfileCtrl);\n\n\tedPrinterProfileCtrl.$inject = ['$scope', '$document', 'edPrinterService', '$stateParams', '_'];\n\n\tfunction edPrinterProfileCtrl($scope, $document, edPrinterService, $stateParams, _) {\n\t\tvar vm = this;\n\t\tvm.selectedPrinters = edPrinterService.getSelectedPrinters();\n\t\tvm.changePage = changePage;\n\t\tvm.currentPage = edPrinterService.getProfilePageNumber();\n\n\t\tedPrinterService.setDisplayPrinterInfoType('profile');\n\t\tedPrinterService.setSelectMultiplePrinters(true);\n\t\tedPrinterService.updateMappedPrinter(null);\n\n\t\tif ($stateParams.printer || $stateParams.printerbrand) {\n\t\t\tedPrinterService.removeAllSelectedPrinters();\n\t\t\tif ($stateParams.printer) {\n\t\t\t\tedPrinterService.getAllPrinters().$promise.then(selectPrinterByName);\n\t\t\t} else if ($stateParams.printerbrand) {\n\t\t\t\tedPrinterService.getAllPrinters().$promise.then(selectPrinterByBrand);\n\t\t\t}\n\t\t}\n\n\t\tfunction selectPrinterByName(printers) {\n\t\t\tvar selectedPrinters = _.filter(printers, function (printer) {\n\t\t\t\tvar match = false;\n\t\t\t\tif ($stateParams.printer) {\n\t\t\t\t\t// Split name query on comma\n\t\t\t\t\tvar printers = $stateParams.printer.split(',');\n\t\t\t\t\t// Loop over each printer name\n\t\t\t\t\tangular.forEach(printers, function (name) {\n\t\t\t\t\t\t// If the printer's name is part of the query select it\n\t\t\t\t\t\tif (printer.name.toLocaleLowerCase() === name.toLowerCase()) {\n\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\tangular.forEach(selectedPrinters, function (printer) {\n\t\t\t\tedPrinterService.updateSelectedPrinters(printer);\n\t\t\t});\n\t\t}\n\n\t\tfunction selectPrinterByBrand(printers) {\n\t\t\tvar selectedPrinters = _.filter(printers, function (printer) {\n\t\t\t\tvar match = false;\n\t\t\t\tif ($stateParams.printerbrand) {\n\t\t\t\t\t// Split printerbrand query on comma\n\t\t\t\t\tvar printerbrands = $stateParams.printerbrand.split(',');\n\t\t\t\t\t// Loop over each printerbrand\n\t\t\t\t\tangular.forEach(printerbrands, function (brand) {\n\t\t\t\t\t\t// If the printer's branc is part of the query select it\n\t\t\t\t\t\tif (printer.brand.toLocaleLowerCase() === brand.toLowerCase()) {\n\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\tangular.forEach(selectedPrinters, function (printer) {\n\t\t\t\tedPrinterService.updateSelectedPrinters(printer);\n\t\t\t});\n\t\t}\n\n\t\tfunction changePage(newPageNumber) {\n\t\t\tedPrinterService.setProfilePageNumber(newPageNumber);\n\t\t\t$document.scrollTopAnimated(0, 300);\n\t\t}\n\n\t\tvar deregister = $scope.$on('selectedPrinterChange', function (event, selectedPrinters) {\n\t\t\tvm.selectedPrinters = selectedPrinters;\n\t\t\t// If we added to selected printers, go to first page and scroll to the top\n\t\t\tif (edPrinterService.getSelectedPrinterAdded()) {\n\t\t\t\tvm.currentPage = 1;\n\t\t\t\t$document.scrollTopAnimated(0, 300);\n\t\t\t}\n\t\t});\n\n\t\t$scope.$on('$destroy', deregister);\n\t}\n})();","(function () {\n\t'use strict';\n\tangular.module('app').controller('edPrinterMapCtrl', edPrinterMapCtrl);\n\n\tedPrinterMapCtrl.$inject = ['$state', '$scope', 'edPrinterService'];\n\n\tfunction edPrinterMapCtrl($state, $scope, edPrinterService) {\n\t\tvar vm = this;\n\t\tvm.selectedPrinters = edPrinterService.setSelectMultiplePrinters(true);\n\t\tvm.mappedPrinter = edPrinterService.getMappedPrinter();\n\n\t\tedPrinterService.setDisplayPrinterInfoType('location');\n\t\tedPrinterService.setSelectMultiplePrinters(false);\n\n\t\tactivate();\n\n\t\tfunction activate() {\n\t\t\tlocatePrinter(vm.mappedPrinter);\n\t\t}\n\n\t\tvar deregister = $scope.$on('mappedPrinterChange', function (event, mappedPrinter) {\n\t\t\tlocatePrinter(mappedPrinter);\n\t\t});\n\n\t\t$scope.$on('$destroy', deregister);\n\n\t\tfunction locatePrinter(printer) {\n\t\t\tif (printer) {\n\t\t\t\t$state.go('printers.map.' + printer.location + '-' + printer.floor, {'name': printer.name});\n\t\t\t}\n\t\t}\n\t}\n})();\n"],"sourceRoot":"/source/"}