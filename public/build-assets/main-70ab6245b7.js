!function(){"use strict";angular.module("app",["ngResource","ui.router","ngFileUpload","angular.filter","ngAnimate","duScroll","angular.vertilize","angularUtils.directives.dirPagination","focus-if"]),angular.module("app").constant("_",window._)}();
!function(){"use strict";function e(e,o,a,s){var i={superAdmin:l,admin:r,user:t};s.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension|im|sip):/),a.html5Mode(!0),o.otherwise("/"),o.when("/employees/","/employees"),o.when("/printers/","/printers"),o.when("/rooms/","/rooms"),o.when("/guilds/","/guilds"),o.when("/committees/","/committees"),e.state("home",{url:"/",views:{main:{templateUrl:"/partials/common/views/index",controller:"edIndexCtrl",controllerAs:"vm"},topbar:{templateUrl:"/partials/common/components/index-topbar",controller:"edIndexTopbarCtrl",controllerAs:"vm"}}}).state("employees",{url:"/employees",views:{main:{templateUrl:"/partials/employees/views/employee",controller:"edEmployeeCtrl",controllerAs:"vm"},sidebar:{templateUrl:"/partials/employees/components/employee-selector",controller:"edEmployeeSelectorCtrl",controllerAs:"vm"},topbar:{templateUrl:"/partials/employees/components/employee-topbar",controller:"edEmployeeTopbarCtrl",controllerAs:"vm"}}}).state("employees.profile",{url:"/profile/?firstname&lastname",views:{"main@":{templateUrl:"/partials/employees/views/profile/employee-profile",controller:"edEmployeeProfileCtrl",controllerAs:"vm"}}}).state("employees.profile.department",{url:"department/:department",views:{"main@":{templateUrl:"/partials/employees/views/profile/employee-profile",controller:"edEmployeeProfileCtrl",controllerAs:"vm"}}}).state("employees.profile.title",{url:"title/:title",views:{"main@":{templateUrl:"/partials/employees/views/profile/employee-profile",controller:"edEmployeeProfileCtrl",controllerAs:"vm"}}}).state("employees.profile.team",{url:"team/:team",views:{"main@":{templateUrl:"/partials/employees/views/profile/employee-profile",controller:"edEmployeeProfileCtrl",controllerAs:"vm"}}}).state("employees.profile.employee",{url:"employee/:employee",views:{"main@":{templateUrl:"/partials/employees/views/profile/employee-profile",controller:"edEmployeeProfileCtrl",controllerAs:"vm"}}}).state("employees.org-chart",{url:"/org-chart/:employee",views:{"main@":{templateUrl:"/partials/employees/views/org-chart/org-chart",controller:"edOrgChartCtrl",controllerAs:"vm"}}}).state("employees.map",{url:"/map/?employee",views:{"main@":{templateUrl:"/partials/employees/views/map/employee-map",controller:"edEmployeeMapCtrl",controllerAs:"vm"}}}).state("employees.map.buf-6",{url:"buf-6/:seat",views:{"main@":{templateUrl:"/partials/common/views/floor",controller:"edFloorCtrl",controllerAs:"vm"}}}).state("employees.map.buf-7",{url:"buf-7/:seat",views:{"main@":{templateUrl:"/partials/common/views/floor",controller:"edFloorCtrl",controllerAs:"vm"}}}).state("employees.map.buf-8",{url:"buf-8/:seat",views:{"main@":{templateUrl:"/partials/common/views/floor",controller:"edFloorCtrl",controllerAs:"vm"}}}).state("employees.map.nyc-6",{url:"nyc-6/:seat",views:{"main@":{templateUrl:"/partials/common/views/floor",controller:"edFloorCtrl",controllerAs:"vm"}}}).state("printers",{url:"/printers",views:{"main@":{templateUrl:"/partials/printers/views/printer",controller:"edPrinterCtrl",controllerAs:"vm"},"sidebar@":{templateUrl:"/partials/printers/components/printer-selector",controller:"edPrinterSelectorCtrl",controllerAs:"vm"},"topbar@":{templateUrl:"/partials/printers/components/printer-topbar",controller:"edPrinterTopbarCtrl",controllerAs:"vm"}}}).state("printers.profile",{url:"/profile",views:{"main@":{templateUrl:"/partials/printers/views/profile/printer-profile",controller:"edPrinterProfileCtrl",controllerAs:"vm"}}}).state("printers.profile.name",{url:"/name/:printer",views:{"main@":{templateUrl:"/partials/printers/views/profile/printer-profile",controller:"edPrinterProfileCtrl",controllerAs:"vm"}}}).state("printers.profile.brand",{url:"/brand/:printerbrand",views:{"main@":{templateUrl:"/partials/printers/views/profile/printer-profile",controller:"edPrinterProfileCtrl",controllerAs:"vm"}}}).state("printers.map",{url:"/map",views:{"main@":{templateUrl:"/partials/printers/views/map/printer-map",controller:"edPrinterMapCtrl",controllerAs:"vm"}}}).state("printers.map.buf-6",{url:"/buf-6/:name",views:{"main@":{templateUrl:"/partials/common/views/floor",controller:"edFloorCtrl",controllerAs:"vm"}}}).state("printers.map.buf-7",{url:"/buf-7/:name",views:{"main@":{templateUrl:"/partials/common/views/floor",controller:"edFloorCtrl",controllerAs:"vm"}}}).state("printers.map.buf-8",{url:"/buf-8/:name",views:{"main@":{templateUrl:"/partials/common/views/floor",controller:"edFloorCtrl",controllerAs:"vm"}}}).state("printers.map.nyc-6",{url:"/nyc-6/:name",views:{"main@":{templateUrl:"/partials/common/views/floor",controller:"edFloorCtrl",controllerAs:"vm"}}}).state("rooms",{url:"/rooms",views:{"main@":{templateUrl:"/partials/rooms/views/room",controller:"edRoomCtrl",controllerAs:"vm"},"sidebar@":{templateUrl:"/partials/rooms/components/room-selector",controller:"edRoomSelectorCtrl",controllerAs:"vm"},"topbar@":{templateUrl:"/partials/rooms/components/room-topbar",controller:"edRoomTopbarCtrl",controllerAs:"vm"}}}).state("rooms.profile",{url:"/profile",views:{"main@":{templateUrl:"/partials/rooms/views/profile/room-profile",controller:"edRoomProfileCtrl",controllerAs:"vm"}}}).state("rooms.profile.name",{url:"/name/:room",views:{"main@":{templateUrl:"/partials/rooms/views/profile/room-profile",controller:"edRoomProfileCtrl",controllerAs:"vm"}}}).state("rooms.profile.type",{url:"/type/:roomtype",views:{"main@":{templateUrl:"/partials/rooms/views/profile/room-profile",controller:"edRoomProfileCtrl",controllerAs:"vm"}}}).state("rooms.map",{url:"/map",views:{"main@":{templateUrl:"/partials/rooms/views/map/room-map",controller:"edRoomMapCtrl",controllerAs:"vm"}}}).state("rooms.map.buf-6",{url:"/buf-6/:name",views:{"main@":{templateUrl:"/partials/common/views/floor",controller:"edFloorCtrl",controllerAs:"vm"}}}).state("rooms.map.buf-7",{url:"/buf-7/:name",views:{"main@":{templateUrl:"/partials/common/views/floor",controller:"edFloorCtrl",controllerAs:"vm"}}}).state("rooms.map.buf-8",{url:"/buf-8/:name",views:{"main@":{templateUrl:"/partials/common/views/floor",controller:"edFloorCtrl",controllerAs:"vm"}}}).state("rooms.map.nyc-6",{url:"/nyc-6/:name",views:{"main@":{templateUrl:"/partials/common/views/floor",controller:"edFloorCtrl",controllerAs:"vm"}}}).state("admin",{url:"/admin",views:{"main@":{templateUrl:"/partials/admin/views/login",controller:"edLoginCtrl",controllerAs:"vm"},"topbar@":{templateUrl:"/partials/admin/components/admin-topbar",controller:"edAdminTopbarCtrl",controllerAs:"vm"}}}).state("admin.users",{url:"/users",views:{"main@":{templateUrl:"/partials/admin/views/user-list",controller:"edUserListCtrl",controllerAs:"vm"}},resolve:{auth:i.superAdmin}}).state("admin.user-profile",{url:"/user-profile",views:{"main@":{templateUrl:"/partials/admin/views/user-profile",controller:"edUserProfileCtrl",controllerAs:"vm"}},resolve:{auth:i.user}}).state("admin.create-user",{url:"/create-user",views:{"main@":{templateUrl:"/partials/admin/views/create-user",controller:"edCreateUserCtrl",controllerAs:"vm"}},resolve:{auth:i.superAdmin}}).state("admin.update-user",{url:"/update-user",views:{"main@":{templateUrl:"/partials/admin/views/update-user",controller:"edUpdateUserCtrl",controllerAs:"vm"},"sidebar@":{templateUrl:"/partials/admin/components/user-selector",controller:"edUserSelectorCtrl",controllerAs:"vm"}},resolve:{auth:i.superAdmin}}).state("admin.create-employee",{url:"/create-employee",views:{"main@":{templateUrl:"/partials/admin/views/create-employee",controller:"edCreateEmployeeCtrl",controllerAs:"vm"}},resolve:{auth:i.admin}}).state("admin.update-employee",{url:"/update-employee",views:{"main@":{templateUrl:"/partials/admin/views/update-employee",controller:"edUpdateEmployeeCtrl",controllerAs:"vm"},"sidebar@":{templateUrl:"/partials/employees/components/employee-selector",controller:"edEmployeeSelectorCtrl",controllerAs:"vm"},resolve:{auth:i.admin}}}).state("admin.seat-picker",{url:"/seat-picker",views:{"main@":{templateUrl:"/partials/admin/views/seat-picker",controller:"edSeatPickerCtrl",controllerAs:"vm"},"sidebar@":{templateUrl:"/partials/employees/components/employee-selector",controller:"edEmployeeSelectorCtrl",controllerAs:"vm"},"topbar@":{templateUrl:"/partials/admin/components/seat-picker-topbar",controller:"edSeatPickerTopbarCtrl",controllerAs:"vm"},resolve:{auth:i.admin}}}).state("admin.seat-picker.buf-6",{url:"/buf-6",views:{"main@":{templateUrl:"/partials/admin/views/seat-picker-floor",controller:"edSeatPickerFloorCtrl",controllerAs:"vm"},resolve:{auth:i.admin}}}).state("admin.seat-picker.buf-7",{url:"/buf-7",views:{"main@":{templateUrl:"/partials/admin/views/seat-picker-floor",controller:"edSeatPickerFloorCtrl",controllerAs:"vm"},resolve:{auth:i.admin}}}).state("admin.seat-picker.buf-8",{url:"/buf-8",views:{"main@":{templateUrl:"/partials/admin/views/seat-picker-floor",controller:"edSeatPickerFloorCtrl",controllerAs:"vm"},resolve:{auth:i.admin}}}).state("admin.seat-picker.nyc-6",{url:"/nyc-6",views:{"main@":{templateUrl:"/partials/admin/views/seat-picker-floor",controller:"edSeatPickerFloorCtrl",controllerAs:"vm"},resolve:{auth:i.admin}}}).state("guilds",{url:"/guilds",views:{"main@":{templateUrl:"/partials/guilds/views/guilds",controller:"edGuildsCtrl",controllerAs:"vm"},"topbar@":{templateUrl:"/partials/guilds/components/guilds-topbar",controller:"edGuildsTopbarCtrl",controllerAs:"vm"}}}).state("guilds.front-end",{url:"/front-end",views:{"main@":{templateUrl:"/partials/guilds/views/guilds",controller:"edGuildsCtrl",controllerAs:"vm"}}}).state("committees",{url:"/committees",views:{"main@":{templateUrl:"/partials/committees/views/committees",controller:"edCommitteesCtrl",controllerAs:"vm"},"topbar@":{templateUrl:"/partials/committees/components/committees-topbar",controller:"edCommitteesTopbarCtrl",controllerAs:"vm"}}}).state("committees.fun-games",{url:"/fun-games",views:{"main@":{templateUrl:"/partials/committees/views/committees",controller:"edCommitteesCtrl",controllerAs:"vm"}}}).state("committees.diversity",{url:"/diversity",views:{"main@":{templateUrl:"/partials/committees/views/committees",controller:"edCommitteesCtrl",controllerAs:"vm"}}}).state("committees.wellness",{url:"/wellness",views:{"main@":{templateUrl:"/partials/committees/views/committees",controller:"edCommitteesCtrl",controllerAs:"vm"}}}).state("committees.beautification",{url:"/beautification",views:{"main@":{templateUrl:"/partials/committees/views/committees",controller:"edCommitteesCtrl",controllerAs:"vm"}}}).state("help",{url:"/help",views:{"main@":{templateUrl:"/partials/help/views/help",controller:"edHelpCtrl",controllerAs:"vm"},"topbar@":{templateUrl:"/partials/help/components/help-topbar",controller:"edHelpTopbarCtrl",controllerAs:"vm"}}}).state("help.navigation",{url:"/navigation",views:{"main@":{templateUrl:"/partials/help/views/navigation/help-navigation",controller:"edHelpNavigationCtrl",controllerAs:"vm"}}}).state("help.profile",{url:"/profile",views:{"main@":{templateUrl:"/partials/help/views/profile/help-profile",controller:"edHelpProfileCtrl",controllerAs:"vm"}}}).state("help.location",{url:"/location",views:{"main@":{templateUrl:"/partials/help/views/location/help-location",controller:"edHelpLocationCtrl",controllerAs:"vm"}}}).state("help.org-chart",{url:"/org-chart",views:{"main@":{templateUrl:"/partials/help/views/org-chart/help-org-chart",controller:"edHelpOrgChartCtrl",controllerAs:"vm"}}})}function r(e){return e.authorizeCurrentUserForRoute("admin")}function l(e){return e.authorizeCurrentUserForRoute("super-admin")}function t(e){return e.authorizeAuthenticatedUserForRoute()}angular.module("app").config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","$compileProvider"],r.$inject=["edAuthService"],l.$inject=["edAuthService"],t.$inject=["edAuthService"]}();
!function(){"use strict";function n(n,t,e,l){n.$on("$stateChangeError",function(n,e,l,o,u,r){"not authorized"===r&&t.go("admin")}),n.$on("$stateChangeSuccess",function(){l[0].body.scrollTop=l[0].documentElement.scrollTop=0,e.firstname=null,e.lastname=null,e.printer=null,e.printerbrand=null,e.room=null,e.roomtype=null,e.employee=null,e.team=null,e.department=null})}angular.module("app").run(n),n.$inject=["$rootScope","$state","$stateParams","$document"]}();
!function(){"use strict";function t(t){var e=this;e.identity=t}angular.module("app").controller("edAdminTopbarCtrl",t),t.$inject=["edIdentityService"]}();
!function(){"use strict";function e(){var e={restrict:"E",templateUrl:"/partials/admin/components/seat-picker-desk",replace:!0,scope:{location:"@",floor:"@",seat:"@",orientation:"@",classification:"@",xpos:"@",ypos:"@"},controller:t,controllerAs:"vm"};return e}function t(e,t){function o(o,i,n){var a={location:o,floor:i,seat:n};e.updateEmployee(a).then(function(){t.notify("Employee seat updated!")})}var i=this;i.assignSeat=o}angular.module("app").directive("edSeatPickerDesk",e),t.$inject=["edEmployeeAdminService","edNotifierService"]}();
!function(){"use strict";function r(){}angular.module("app").controller("edSeatPickerTopbarCtrl",r)}();
!function(){"use strict";function e(e,s){function r(e){s.setSelectedUser(e)}var t=this;t.users=s.getAllUsers(!1),t.selectedUser=s.getSelectedUser(),t.selectUser=r;var c=e.$on("userUpdated",function(e,s){t.users=s});e.$on("$destroy",c)}angular.module("app").controller("edUserSelectorCtrl",e),e.$inject=["$scope","edUserService"]}();
!function(){"use strict";function e(e,r,t,n,u,o){function a(r,o){var a=t.defer();return e.post("/login",{username:r,password:o}).then(function(e){if(e.data.success){var r=new u;angular.extend(r,e.data.user),n.currentUser=r,a.resolve(!0)}else a.resolve(!1)}),a.promise}function s(e){var n=new u(e),a=t.defer();return n.$save().then(function(){r.$broadcast("userUpdated",o.getAllUsers(!0)),a.resolve()},function(e){a.reject(e.data.reason)}),a.promise}function c(e){var r=t.defer(),u=angular.copy(n.currentUser);return angular.extend(u,e),u.$update().then(function(){n.currentUser=u,r.resolve()},function(e){r.reject(e.data.reason)}),r.promise}function i(e){var u=t.defer(),a=o.getSelectedUser(),s=angular.copy(a);angular.extend(s,e);var c=angular.copy(n.currentUser);return angular.extend(c,e),n.currentUser._id===s._id&&(n.currentUser=c),s.$update().then(function(e){o.setSelectedUser(null),r.$broadcast("userUpdated",o.getAllUsers(!0)),u.resolve(e)},function(e){u.reject(e.data.reason)}),u.promise}function d(){var r=t.defer();return e.post("/logout",{logout:!0}).then(function(){n.currentUser=void 0,r.resolve()}),r.promise}function l(e){return n.isAuthorized(e)?!0:t.reject("not authorized")}function f(){return n.isAuthenticated()?!0:t.reject("not authorized")}var U={authenticateUser:a,createUser:s,updateUser:i,updateCurrentUser:c,logoutUser:d,authorizeCurrentUserForRoute:l,authorizeAuthenticatedUserForRoute:f};return U}angular.module("app").factory("edAuthService",e),e.$inject=["$http","$rootScope","$q","edIdentityService","edUserResourceService","edUserService"]}();
!function(){"use strict";function e(e,r){function c(r){return(!u||r)&&(u=e.query({cacheKill:(new Date).getTime()})),u}var u,n={query:c};return n}angular.module("app").factory("edCachedUserResourceService",e),e.$inject=["edUserResourceService","_"]}();
!function(){"use strict";function e(e,o,t,a,l){function n(a){var l=o.defer(),n=t.getSelectedEmployees(),r=angular.copy(n[0]);return angular.extend(r,a),r.$update().then(function(o){t.removeAllSelectedEmployees(),e.$broadcast("employeesUpdated",t.getAllEmployees(!0)),l.resolve(o)},function(e){l.reject(e.data.reason)}),l.promise}function r(l){var n=new a(l),r=o.defer();return n.$save().then(function(o){t.removeAllSelectedEmployees(),e.$broadcast("employeesUpdated",t.getAllEmployees(!0)),r.resolve(o)},function(e){r.reject(e.data.reason)}),r.promise}function p(e,o){l.upload({url:"api/employees/uploadphoto",data:{file:e,fileName:o.eid+"."+e.name.split(".").pop()}}).then(function(e){console.log("Success "+e.config.data.file.name+"uploaded. Response: "+e.data)},function(e){console.log("Error status: "+e.status)},function(e){var o=parseInt(100*e.loaded/e.total);console.log("progress: "+o+"% "+e.config.data.file.name)})}var c={updateEmployee:n,createEmployee:r,uploadEmployeePhoto:p};return c}angular.module("app").factory("edEmployeeAdminService",e),e.$inject=["$rootScope","$q","edEmployeeService","edEmployeeResourceService","Upload"]}();
!function(){"use strict";function e(e){var r=e("/api/users/:id",{_id:"@id"},{update:{method:"PUT",isArray:!1}});return r.prototype.isAdmin=function(){return this.roles&&this.roles.indexOf("admin")>-1},r}angular.module("app").factory("edUserResourceService",e),e.$inject=["$resource"]}();
!function(){"use strict";function e(e,t){function r(e){return t.query(e)}function c(){return l}function n(t){return!t&&l?(l.selected=!1,l=null):t&&l?(l.selected=!1,l._id!==t._id?(t.selected=!0,l=t):l=null):t&&!l&&(t.selected=!0,l=t),e.$broadcast("selectedUserChange",l),l}var l=null,s={getAllUsers:r,getSelectedUser:c,setSelectedUser:n};return s}angular.module("app").factory("edUserService",e),e.$inject=["$rootScope","edCachedUserResourceService"]}();
!function(){"use strict";function e(e,t,o,n,i,l,m,a){function r(){p(),i.setLockSidebar(!0),o.getAllEmployees().$promise.then(s)}function p(){d.newEmployee={eid:"",firstName:"",lastName:"",nickname:"",email:"",phone:"",ext:"",department:"",title:"",team:"",guilds:{},committees:{},location:"",floor:"",seat:"",hasReports:"",mid:""}}function s(e){d.managers=a.filter(e,function(e){return e.hasReports===!0})}function c(){var n={eid:d.newEmployee.eid,firstName:d.newEmployee.firstName,lastName:d.newEmployee.lastName,nickname:d.newEmployee.nickname,email:d.newEmployee.email,phone:d.newEmployee.phone,ext:d.newEmployee.ext,department:d.newEmployee.department,title:d.newEmployee.title,team:d.newEmployee.team,guilds:[],committees:[],location:d.newEmployee.location,floor:d.newEmployee.floor,seat:d.newEmployee.seat,hasReports:d.newEmployee.hasReports,mid:d.newEmployee.mid};a.forEach(d.newEmployee.guilds,function(e,t){e&&n.guilds.push(t)}),a.forEach(d.newEmployee.committees,function(e,t){e&&n.committees.push(t)}),l.createEmployee(n).then(function(i){t.notify("New Employee Added!"),d.newEmployee.image&&(l.uploadEmployeePhoto(d.newEmployee.image,i),o.updateSelectedEmployees(i),n.image=i.eid+"."+d.newEmployee.image.name.split(".").pop().toLowerCase(),l.updateEmployee(n).then(function(e){},function(){t.error("Employee Photo Not Added.")})),p(),e.createEmployeeForm.$setPristine()},function(e){t.error(e)})}var d=this;d.identity=m,d.createEmployee=c,d.desks=n.getAllDesks(),d.managers=null,d.newEmployee={},d.locationOptions=[{value:"buf",text:"Buffalo"},{value:"nyc",text:"NYC"},{value:"oth",text:"Remote"}],d.departments=["Carrier Relations","Client Service","Client Service Management","Configuration","Corporate","Development","Employee Services","Field Sales","Finance","HR","Implementation","Infrastructure / Tech Ops","Marketing","Product Strategy","Strategic Operational Support","QA / Reporting / Billing"],r();var y=e.$on("employeesUpdated",function(){o.getAllEmployees().$promise.then(s)});e.$on("$destroy",y)}angular.module("app").controller("edCreateEmployeeCtrl",e),e.$inject=["$scope","edNotifierService","edEmployeeService","edDeskService","edSidebarService","edEmployeeAdminService","edIdentityService","_"]}();
!function(){"use strict";function e(e,r,n,s){function t(){s.setLockSidebar(!0)}function a(){var s={username:o.newUser.username,password:o.newUser.password,firstName:o.newUser.firstName,lastName:o.newUser.lastName,roles:[]};_.forEach(o.newUser.roles,function(e,r){e&&s.roles.push(r)}),n.createUser(s).then(function(){r.notify("User account created!"),e.go("admin")},function(e){r.error(e)})}var o=this;o.createUser=a,o.newUser={},t()}angular.module("app").controller("edCreateUserCtrl",e),e.$inject=["$state","edNotifierService","edAuthService","edSidebarService"]}();
!function(){"use strict";function e(e,i,n,t){function r(){t.setLockSidebar(!0)}function c(e,t){n.authenticateUser(e,t).then(function(e){e?i.notify("You have successfully signed in!"):i.error("Username / Password combination incorrect")})}var o=this;o.identity=e,o.signin=c,r()}angular.module("app").controller("edLoginCtrl",e),e.$inject=["edIdentityService","edNotifierService","edAuthService","edSidebarService"]}();
!function(){"use strict";function e(e,o,l,t,n,i){function c(){n.setLockSidebar(!1),s(a.selectedEmployees);var e=l.current.name,t=e.split(".")[2].split("-");a.location=t[0],a.floor=parseInt(t[1]),a.locationName="buf"===a.location?"BUF":"nyc"===a.location?"NYC":"Remote",o.getAllDesks().$promise.then(r)}function r(e){a.desks=i.filter(e,function(e){return e.floor===a.floor&&e.location===a.location})}function s(e){1!==e.length&&l.go("admin.seat-picker")}var a=this;a.selectedEmployees=e.setSelectMultipleEmployees(!1),a.desks=null,a.location=null,a.floor=null,e.setDisplayEmployeeInfoType("profile"),c();var p=t.$on("selectedEmployeesChange",function(e,o){s(o)});t.$on("$destroy",p)}angular.module("app").controller("edSeatPickerFloorCtrl",e),e.$inject=["edEmployeeService","edDeskService","$state","$scope","edSidebarService","_"]}();
!function(){"use strict";function e(e,o,t,l,n){function i(){n.setLockSidebar(!1),o.setDisplayEmployeeInfoType("profile"),o.updateMappedEmployee(null)}function c(){var e={location:"oth",floor:null,seat:""};t.updateEmployee(e).then(function(){l.notify("Employee location set to remote")})}var p=this;p.selectedEmployee=o.setSelectMultipleEmployees(!1)[0],p.setRemoteEmployee=c,i();var r=e.$on("selectedEmployeesChange",function(e,o){p.selectedEmployee=o[0]});e.$on("$destroy",r)}angular.module("app").controller("edSeatPickerCtrl",e),e.$inject=["$scope","edEmployeeService","edEmployeeAdminService","edNotifierService","edSidebarService"]}();
!function(){"use strict";function e(e,t,l,o,i,n,m,a){function s(){m.setLockSidebar(!1),l.setDisplayEmployeeInfoType("profile"),l.getAllEmployees().$promise.then(c);var e=l.setSelectMultipleEmployees(!1);1===e.length&&d(e)}function d(e){E.selectedEmployee={eid:e[0].eid,firstName:e[0].firstName,lastName:e[0].lastName,nickname:e[0].nickname,email:e[0].email,phone:e[0].phone,ext:e[0].ext,title:e[0].title,department:e[0].department,team:e[0].team,guilds:{},committees:{},location:e[0].location,floor:e[0].floor,seat:e[0].seat,hasReports:e[0].hasReports,mid:e[0].mid},a.forEach(e[0].guilds,function(e){E.selectedEmployee.guilds[e]=!0}),a.forEach(e[0].committees,function(e){E.selectedEmployee.committees[e]=!0}),p(e[0])}function p(e){E.managers&&e&&(E.filteredManagers=a.filter(E.managers,function(t){return e.eid!==t.eid&&e.eid!==t.mid}))}function c(e){E.managers=a.filter(e,function(e){return e.hasReports===!0}),p(E.selectedEmployee)}function r(){var e={eid:E.selectedEmployee.eid,firstName:E.selectedEmployee.firstName,lastName:E.selectedEmployee.lastName,nickname:E.selectedEmployee.nickname,email:E.selectedEmployee.email,phone:E.selectedEmployee.phone,ext:E.selectedEmployee.ext,title:E.selectedEmployee.title,department:E.selectedEmployee.department,team:E.selectedEmployee.team,guilds:[],committees:[],location:E.selectedEmployee.location,floor:E.selectedEmployee.floor,seat:E.selectedEmployee.seat,hasReports:E.selectedEmployee.hasReports,mid:E.selectedEmployee.mid};a.forEach(E.selectedEmployee.guilds,function(t,l){t&&e.guilds.push(l)}),a.forEach(E.selectedEmployee.committees,function(t,l){t&&e.committees.push(l)});var o=E.selectedEmployee.imageFile;i.updateEmployee(e).then(function(n){t.notify("Employee information updated!"),o&&(i.uploadEmployeePhoto(o,n),l.updateSelectedEmployees(n),e.image=n.eid+"."+o.name.split(".").pop().toLowerCase(),i.updateEmployee(e).then(function(e){},function(){t.error("Employee Photo Not Added.")}),o=null),E.selectedEmployee=null},function(e){t.error(e)})}function u(){var e=l.getSelectedEmployees()[0];l.getAllEmployees().$promise.then(function(t){var o=e.eid,n=e.mid,m=a.filter(t,{mid:o});a.forEach(m,function(e){l.removeAllSelectedEmployees(),E.selectedEmployee=l.updateSelectedEmployees(e),i.updateEmployee({mid:n})})}),l.removeAllSelectedEmployees(),l.updateSelectedEmployees(e),i.updateEmployee({deleted:!0}).then(function(e){t.notify(e.firstName+" "+e.lastName+" deleted!")},function(e){t.error(e)})}function y(){l.removeAllSelectedEmployees()}var E=this;E.identity=n,E.updateEmployee=r,E.deleteEmployee=u,E.cancelUpdateEmployee=y,E.desks=o.getAllDesks(),E.selectedEmployee=null,E.managers=null,E.filteredManagers=[],E.locationOptions=[{value:"buf",text:"Buffalo"},{value:"nyc",text:"NYC"},{value:"oth",text:"Remote"}],E.departments=["Carrier Relations","Client Service","Client Service Management","Configuration","Corporate","Development","Employee Services","Field Sales","Finance","HR","Implementation","Infrastructure / Tech Ops","Marketing","Product Strategy","Strategic Operational Support","QA / Reporting / Billing"],s();var f=e.$on("selectedEmployeesChange",function(e,t){1===t.length?d(t):E.selectedEmployee=null});e.$on("$destroy",f);var g=e.$on("employeesUpdated",function(){l.getAllEmployees().$promise.then(c)});e.$on("$destroy",g)}angular.module("app").controller("edUpdateEmployeeCtrl",e),e.$inject=["$scope","edNotifierService","edEmployeeService","edDeskService","edEmployeeAdminService","edIdentityService","edSidebarService","_"]}();
!function(){"use strict";function e(e,s,r,t,c){function a(){c.setLockSidebar(!1),o.selectedUser&&d(o.selectedUser)}function d(e){o.selectedUser={firstName:e.firstName,lastName:e.lastName,username:e.username,roles:{}},_.forEach(e.roles,function(e){o.selectedUser.roles[e]=!0})}function l(){var e={password:o.selectedUser.password,firstName:o.selectedUser.firstName,lastName:o.selectedUser.lastName,roles:[]};_.forEach(o.selectedUser.roles,function(s,r){s&&e.roles.push(r)}),o.selectedUser.password&&o.selectedUser.password.length>0&&(e.password=o.selectedUser.password),t.updateUser(e).then(function(){r.notify("User account updated!"),o.selectedUser=null},function(e){r.error(e)})}var o=this;o.updateUser=l,o.selectedUser=s.getSelectedUser(),a();var n=e.$on("selectedUserChange",function(e,s){s?d(s):o.selectedUser=null});e.$on("$destroy",n)}angular.module("app").controller("edUpdateUserCtrl",e),e.$inject=["$scope","edUserService","edNotifierService","edAuthService","edSidebarService"]}();
!function(){"use strict";function e(e,r){function i(){r.setLockSidebar(!0)}var t=this;t.users=e.query(),i()}angular.module("app").controller("edUserListCtrl",e),e.$inject=["edUserResourceService","edSidebarService"]}();
!function(){"use strict";function e(e,r,s,t,a,n){function i(){n.setLockSidebar(!0),a.setSelectedUser(r.currentUser)}function c(){var r={username:d.username,password:d.password,firstName:d.fname,lastName:d.lname};d.password&&d.password.length>0&&(r.password=d.password),t.updateUser(r).then(function(){s.notify("User account updated!"),e.go("admin")},function(e){s.error(e)})}var d=this;d.updateUser=c,d.username=r.currentUser.username,d.fname=r.currentUser.firstName,d.lname=r.currentUser.lastName,i()}angular.module("app").controller("edUserProfileCtrl",e),e.$inject=["$state","edIdentityService","edNotifierService","edAuthService","edUserService","edSidebarService"]}();
!function(){"use strict";function t(t){var e=this;e.identity=t}angular.module("app").controller("edCommitteesTopbarCtrl",t),t.$inject=["edIdentityService"]}();
!function(){"use strict";function e(e,t,m,i){function o(){t.setLockSidebar(!0);var i=e.current.name;r.committee={name:i.split(".")[1]},r.committee.name&&(r.committee.text=r.committee.name,"fun-games"===r.committee.name&&(r.committee.text="Fun & Games"),"diversity"===r.committee.name&&(r.committee.text="Cultural Diversity & Community Outreach"),m.getAllEmployees().$promise.then(n))}function n(e){r.committeeMembers=i.sortBy(i.filter(e,function(e){return e.committees&&i.indexOf(e.committees,r.committee.name)>-1?e:void 0}),"lastName")}function c(t){m.removeAllSelectedEmployees(),e.go("employees.profile.employee",{employee:t.eid})}var r=this;r.committee=null,r.committeeMembers=[],r.profileEmployee=c,o()}angular.module("app").controller("edCommitteesCtrl",e),e.$inject=["$state","edSidebarService","edEmployeeService","_"]}();
!function(){"use strict";function t(){var t={restrict:"E",templateUrl:"/partials/common/components/artifact",replace:!0,scope:{name:"@",orientation:"@",classification:"@",xpos:"@",ypos:"@"},controller:o,controllerAs:"vm"};return t}function o(){}angular.module("app").directive("edArtifact",t)}();
!function(){"use strict";function e(){var e={restrict:"E",templateUrl:"/partials/common/components/footer",scope:{},controller:t,controllerAs:"vm"};return e}function t(e,t,o){function n(){t.logoutUser().then(function(){r.username="",r.password="",o.notify("You have successfully signed out")})}var r=this;r.identity=e,r.signout=n}angular.module("app").directive("edFooter",e),t.$inject=["edIdentityService","edAuthService","edNotifierService"]}();
!function(){"use strict";function e(){var e={restrict:"E",templateUrl:"/partials/common/components/header",scope:{},controller:t,controllerAs:"vm"};return e}function t(e){var t=this;t.identity=e}angular.module("app").directive("edHeader",e),t.$inject=["edIdentityService"]}();
!function(){"use strict";function n(){}angular.module("app").controller("edIndexTopbarCtrl",n)}();
!function(){"use strict";function e(){var e={restrict:"E",templateUrl:"/partials/common/components/sidebar-left",scope:{},controller:r,controllerAs:"vm"};return e}function r(e,r,i){function n(){c.sidebarLocked&&(c.sidebarOpen=!0)}function o(){c.sidebarLocked||(c.sidebarOpen=!c.sidebarOpen)}function d(){c.sidebarLocked||(c.sidebarOpen=!1)}function a(){$(".nano").nanoScroller({scroll:"top"})}var c=this;c.identity=i,c.sidebarOpen=!1,c.sidebarLocked=r.getLockSidebar(),c.toggleSidebar=o,c.closeSidebar=d,c.scrollSidebarTop=a,n();var t=e.$on("sidebarLockedChange",function(e,r){c.sidebarLocked=r,c.sidebarOpen=c.sidebarLocked?!0:!1});e.$on("$destroy",t)}angular.module("app").directive("edSidebarLeft",e),r.$inject=["$scope","edSidebarService","edIdentityService"]}();
!function(){"use strict";function e(){return function(e){if(!e)return"";var r,i,c,t=e.toString().trim().replace(/\D/g,"");switch(t.length){case 10:r=1,i=t.slice(0,3),c=t.slice(3);break;case 11:r=t[0],i=t.slice(1,4),c=t.slice(4);break;case 12:r=t.slice(0,3),i=t.slice(3,5),c=t.slice(5);break;default:return e}return 1===r&&(r=""),c=c.slice(0,3)+"-"+c.slice(3),(r+" ("+i+") "+c).trim()}}angular.module("app").filter("edPhoneNumberFilter",e)}();
!function(){"use strict";function r(r){var e=r("/api/artifacts/:id",{_id:"@id"});return e}angular.module("app").factory("edArtifactResourceService",r),r.$inject=["$resource"]}();
!function(){"use strict";function e(e){function t(){return e.query()}var r={getAllArtifacts:t};return r}angular.module("app").factory("edArtifactService",e),e.$inject=["edCachedArtifactResourceService"]}();
!function(){"use strict";function e(e){function r(){return c||(c=e.query()),c}var c,t={query:r};return t}angular.module("app").factory("edCachedArtifactResourceService",e),e.$inject=["edArtifactResourceService"]}();
!function(){"use strict";function e(e,r){function t(){return!!this.currentUser}function n(e){return!!this.currentUser&&this.currentUser.roles.indexOf(e)>-1}var i;e.bootstrappedUserObject&&(i=new r,angular.extend(i,e.bootstrappedUserObject));var s={currentUser:i,isAuthenticated:t,isAuthorized:n};return s}angular.module("app").factory("edIdentityService",e),e.$inject=["$window","edUserResourceService"]}();
!function(){"use strict";function o(o){function n(n){o.success(n)}function r(n){o.info(n)}function t(n){o.error(n)}var i={notify:n,info:r,error:t};return o.options={showDuration:"300",hideDuration:"300"},i}angular.module("app").value("edToastr",toastr),angular.module("app").factory("edNotifierService",o),o.$inject=["edToastr"]}();
!function(){"use strict";function e(e){function r(r){return n=r,e.$broadcast("sidebarLockedChange",n),n}function t(){return n}var n=!1,c={setLockSidebar:r,getLockSidebar:t};return c}angular.module("app").factory("edSidebarService",e),e.$inject=["$rootScope"]}();
!function(){"use strict";function e(e){function n(n,r,t){angular.element(".nano").nanoScroller({preventPageScrolling:!0}),e(function(){angular.element(".nano").nanoScroller()},3e3)}var r={restrict:"A",template:"",replace:!1,scope:{},link:n};return r}angular.module("app").directive("edNanoscroller",e),e.$inject=["$timeout"]}();
!function(){"use strict";function e(e){function t(t,n,a){var r=a.id,i=a["class"],c=t.path+t.filename+".svg";e.get(c).success(function(e,t){for(var a=angular.element(e),c=a.length-1;c>=0;c--)if("SVGSVGElement"===a[c].constructor.name){a=angular.element(a[c]);break}"undefined"!=typeof r&&a.attr("id",r),"undefined"!=typeof i&&a.attr("class",i),a=a.removeAttr("xmlns:a"),n.replaceWith(a)})}var n={restrict:"E",scope:{path:"@",filename:"@"},link:t};return n}angular.module("app").directive("svg",e),e.$inject=["$http"]}();
!function(){"use strict";function o(o,e,t,l,n,r,p,a,i,m){function f(){i.setLockSidebar(!1),o.setDisplayEmployeeInfoType("location"),p.setDisplayPrinterInfoType("location"),r.setDisplayRoomInfoType("location");var l=t.current.name,n=l.split(".")[2].split("-");h.location=n[0],h.floor=parseInt(n[1]),h.locationName="buf"===h.location?"BUF":"nyc"===h.location?"NYC":"Remote",e.getAllDesks().$promise.then(c),r.getAllRooms().$promise.then(s),p.getAllPrinters().$promise.then(d),a.getAllArtifacts().$promise.then(u),y(),$(),R()}function c(o){h.desks=m.filter(o,function(o){return o.floor===h.floor&&o.location===h.location})}function s(o){h.rooms=m.filter(o,function(o){return o.floor===h.floor&&o.location===h.location})}function d(o){h.printers=m.filter(o,function(o){return o.floor===h.floor&&o.location===h.location})}function u(o){h.artifacts=m.filter(o,function(o){return o.floor===h.floor&&o.location===h.location})}function y(){h.mappedEmployee&&h.mappedEmployee.floor?h.floor!==h.mappedEmployee.floor&&(h.mappedEmployee=o.updateMappedEmployee(null)):l.seat&&o.getAllEmployees().$promise.then(g)}function g(e){var t=m.filter(e,function(o){return o.seat===l.seat});t.length>0&&(h.mappedEmployee=o.updateMappedEmployee(t[0]),h.location=h.mappedEmployee.location,h.floor=h.mappedEmployee.floor)}function $(){h.mappedPrinter&&h.mappedPrinter.floor?h.floor!==h.mappedPrinter.floor&&(h.mappedPrinter=p.updateMappedPrinter(null)):l.name&&p.getAllPrinters().$promise.then(E)}function P(o){var e=m.filter(o,function(o){return o.name===l.name});e.length>0&&(h.mappedRoom=r.updateMappedRoom(e[0]),h.floor=h.mappedRoom.floor)}function R(){h.mappedRoom&&h.mappedRoom.floor?h.floor!==h.mappedRoom.floor&&(h.mappedRoom=r.updateMappedRoom(null)):l.name&&r.getAllRooms().$promise.then(P)}function E(o){var e=m.filter(o,function(o){return o.name===l.name});e.length>0&&(h.mappedPrinter=p.updateMappedPrinter(e[0]),h.floor=h.mappedPrinter.floor)}var h=this;h.selectedEmployees=o.setSelectMultipleEmployees(!0),h.mappedEmployee=o.getMappedEmployee(),h.selectedPrinters=p.setSelectMultiplePrinters(!0),h.mappedPrinter=p.getMappedPrinter(),h.selectedRooms=r.setSelectMultipleRooms(!0),h.mappedRoom=r.getMappedRoom(),h.desks=null,h.rooms=null,h.printers=null,h.location=null,h.floor=null,f();var v=n.$on("mappedEmployeeChange",function(o,e){e&&(!e.floor||e.location===h.location&&e.floor===h.floor?e.floor||t.go("employees.map"):t.go("employees.map."+e.location+"-"+e.floor,{seat:e.seat}))});n.$on("$destroy",v);var M=n.$on("mappedPrinterChange",function(o,e){e&&(!e.floor||e.location===h.location&&e.floor===h.floor?e.floor||t.go("printers.map"):t.go("printers.map."+e.location+"-"+e.floor,{name:e.name}))});n.$on("$destroy",M);var S=n.$on("mappedRoomChange",function(o,e){e&&(!e.floor||e.location===h.location&&e.floor===h.floor?e.floor||t.go("rooms.map"):t.go("rooms.map."+e.location+"-"+e.floor,{name:e.name}))});n.$on("$destroy",S)}angular.module("app").controller("edFloorCtrl",o),o.$inject=["edEmployeeService","edDeskService","$state","$stateParams","$scope","edRoomService","edPrinterService","edArtifactService","edSidebarService","_"]}();
!function(){"use strict";function e(e){function n(){e.setLockSidebar(!0)}n()}angular.module("app").controller("edIndexCtrl",e),e.$inject=["edSidebarService"]}();
!function(){"use strict";function e(e,a,p,o,i,t){function d(l,t,d){l.mappedEmployee=i.getMappedEmployee(),e.seat===d.seat&&l.mappedEmployee?p(function(){a.scrollToElement(t,300,300).then(function(){t.addClass("mapped").append(o('<div class="marker"><div class="pulse"></div><div class="pin"></div><div class="mapped-label label bg-danger" ng-click="vm.viewProfile()">'+l.mappedEmployee.displayName+"</div></div>")(l));var e=$(".mapped-label"),a=t.outerWidth()/2-e.outerWidth()/2;e.css("left",a)})},800):t.removeClass("mapped").find(".marker").remove();var r=l.$on("mappedEmployeeChange",function(e,i){i&&i.seat===d.seat?p(function(){a.scrollToElement(t,300,300).then(function(){t.addClass("mapped").append(o('<div class="marker"><div class="pulse"></div><div class="pin"></div><div class="mapped-label label bg-danger" ng-click="vm.viewProfile()">'+i.displayName+"</div></div>")(l));var e=$(".mapped-label"),a=t.outerWidth()/2-e.outerWidth()/2;e.css("left",a)})},100):t.removeClass("mapped").find(".marker").remove()});l.$on("$destroy",r)}var r={restrict:"E",templateUrl:"/partials/employees/components/desk",replace:!0,scope:{location:"@",seat:"@",orientation:"@",classification:"@",xpos:"@",ypos:"@"},link:d,controller:l,controllerAs:"vm"};return r}function l(e,l,a,p,o,i){function t(e,p){if(!n){var t=_.filter(r.employees,function(l){return l.seat===e&&l.location===p});t.length>0?(o.updateMappedPrinter(null),i.updateMappedRoom(null),r.mappedEmployee=l.updateMappedEmployee(t[0])):a.error("Sorry, I don't know who sits there.")}}function d(){n=!0,l.removeAllSelectedEmployees();var a=l.updateSelectedEmployees(l.getMappedEmployee())[0];e.go("employees.profile.employee",{employee:a.eid})}var r=this;r.mapEmployee=t,r.viewProfile=d,r.employees=l.getAllEmployees(),r.mappedEmployee=null,r.identity=p;var n=!1}angular.module("app").directive("edDesk",e),e.$inject=["$stateParams","$document","$timeout","$compile","edEmployeeService","_"],l.$inject=["$state","edEmployeeService","edNotifierService","edIdentityService","edPrinterService","edRoomService"]}();
!function(){"use strict";function e(e,o,l){function n(t,n,p,a){a.twEmail=t.employee.lync?t.employee.lync+"@towerswatson.com":t.employee.email.split("@")[0]+"@towerswatson.com",a.deselectEmployee=function(t){var p=n.parent(),a=n.children().first();a.addClass("scale-down"),e(function(){p.addClass("shrink-left"),l.updateSelectedEmployees(t),"employees.profile"!==o.current.name&&o.go("employees.profile")},250)}}var p={restrict:"E",templateUrl:"/partials/employees/components/employee-card",scope:{employee:"="},link:n,controller:t,controllerAs:"vm"};return p}function t(e,t,o){function l(o){t.updateMappedEmployee(o),e.go("employees.map."+o.location+"-"+o.floor,{seat:o.seat})}function n(o){t.removeAllSelectedEmployees(),t.updateSelectedEmployees(o),e.go("admin.update-employee")}var p=this;p.identity=o,p.mapEmployee=l,p.editEmployee=n}angular.module("app").directive("edEmployeeCard",e),e.$inject=["$timeout","$state","edEmployeeService"],t.$inject=["$state","edEmployeeService","edIdentityService"]}();
!function(){"use strict";function e(e,o,l,t,n,i,p){function s(e){E.location[e]?E.locations.push(e):E.locations.splice(E.locations.indexOf(e),1)}function r(e){return E.locations.length>0?e.location?E.locations.indexOf(e.location)>-1:void 0:!0}function c(){return 1===E.locations.length&&"nyc"===E.locations[0]}function y(e){E.floor[e]?E.floors.push(e):E.floors.splice(E.floors.indexOf(e),1)}function f(e){return c()?!0:E.floors.length>0?e.floor&&"buf"===e.location?E.floors.indexOf(e.floor)>-1:E.locations.indexOf("nyc")>-1?!0:void 0:!0}function a(e){if("profile"===E.displayEmployeeInfoType){E.selectedEmployees=t.updateSelectedEmployees(e);var l=o.current.name;"employees.profile"!==l&&0===l.indexOf("employees.profile")&&o.go("employees.profile")}else"location"===E.displayEmployeeInfoType&&(i.updateMappedPrinter(null),p.updateMappedRoom(null),t.updateMappedEmployee(e))}function d(){E.selectedEmployees=t.addAllFilteredEmployees(E.filteredEmployees),l.scrollTopAnimated(0,300),"Prestige Worldwide"===E.team&&n.info("Investors?  Possibly you!"),"employees.profile"!==o.current.name&&o.go("employees.profile")}function m(){E.selectedEmployees=t.removeAllSelectedEmployees(),"employees.profile"!==o.current.name&&o.go("employees.profile")}function u(){E.employeeName="",E.floors=[],E.floor={6:!1,7:!1,8:!1},E.locations=[],E.location={buf:!1,nyc:!1},E.department="",E.team=""}var E=this;E.employees=t.getAllEmployees(),E.selectedEmployees=t.getSelectedEmployees(),E.displayEmployeeInfoType=t.getDisplayEmployeeInfoType(),E.selectEmployee=a,E.selectAll=d,E.selectNone=m,E.allowSelectAll=t.getSelectMultipleEmployees(),E.filteredEmployees=t.getAllEmployees(),E.clearFilter=u,E.locationFilter=r,E.filterLocations=s,E.location={buf:!1,nyc:!1},E.locations=[],E.nycOnly=c,E.floorFilter=f,E.filterFloors=y,E.floor={6:!1,7:!1,8:!1},E.floors=[];var g=e.$on("employeesUpdated",function(e,o){E.employees=o});e.$on("$destroy",g);var v=e.$on("selectMultipleEmployeesChange",function(e,o){E.allowSelectAll=o});e.$on("$destroy",v);var $=e.$on("displayEmployeeInfoTypeChange",function(e,o){E.displayEmployeeInfoType=o});e.$on("$destroy",$)}angular.module("app").controller("edEmployeeSelectorCtrl",e),e.$inject=["$scope","$state","$document","edEmployeeService","edNotifierService","edPrinterService","edRoomService"]}();
!function(){"use strict";function e(e,o){var l=this;l.selectedEmployees=o.getSelectedEmployees();var t=e.$on("selectedEmployeesChange",function(e,o){l.selectedEmployees=o});e.$on("$destroy",t)}angular.module("app").controller("edEmployeeTopbarCtrl",e),e.$inject=["$scope","edEmployeeService"]}();
!function(){"use strict";function e(e){function r(){return u||(u=e.query()),u}var u,c={query:r};return c}angular.module("app").factory("edCachedDeskResourceService",e),e.$inject=["edDeskResourceService"]}();
!function(){"use strict";function e(e,a){function n(n){return(!i||n)&&(i=e.query({cacheKill:(new Date).getTime()},function(e){angular.forEach(e,function(n){var i=a.find(e,{eid:n.mid});i&&(n.manager=i.nickname?i.nickname+" "+i.lastName:i.firstName+" "+i.lastName),n.displayName=n.nickname?n.nickname+" "+n.lastName:n.firstName+" "+n.lastName})})),i}var i,c={query:n};return c}angular.module("app").factory("edCachedEmployeeResourceService",e),e.$inject=["edEmployeeResourceService","_"]}();
!function(){"use strict";function e(e){var r=e("/api/desks/:id",{_id:"@id"},{update:{method:"PUT",isArray:!1}});return r}angular.module("app").factory("edDeskResourceService",e),e.$inject=["$resource"]}();
!function(){"use strict";function e(e){function r(){return e.query()}var c={getAllDesks:r};return c}angular.module("app").factory("edDeskService",e),e.$inject=["edCachedDeskResourceService"]}();
!function(){"use strict";function e(e){var r=e("/api/employees/:id",{_id:"@id"},{update:{method:"PUT",isArray:!1}});return r}angular.module("app").factory("edEmployeeResourceService",e),e.$inject=["$resource"]}();
!function(){"use strict";function e(e,t,n,l){function o(e){return t.query(e)}function r(){return S}function c(t){return angular.forEach(S,function(e){e.selected=!1}),angular.forEach(t,function(e){e.selected=!0}),S=t,$=!0,e.$broadcast("selectedEmployeesChange",S),S}function u(t){return!t&&v?(v.mapped=!1,v=null):t&&v?(v.mapped=!1,v._id!==t._id?(t.mapped=!0,v=t):v=null):t&&!v&&(t.mapped=!0,v=t),e.$broadcast("mappedEmployeeChange",v),v}function a(e){o().$promise.then(function(t){var o=l.filter(t,function(t){return t.eid===parseInt(e)});o.length>0?u(o[0]):n.error("I'm not sure who you're looking for.")})}function p(){return v}function d(t){return I=t,e.$broadcast("displayEmployeeInfoTypeChange",I),I}function i(){return I}function s(t){return C?t.selected?(t.selected=!1,S.splice(S.indexOf(t),1),$=!1):(t.selected=!0,S.unshift(t),$=!0):t.selected?(t.selected=!1,S=[],$=!1):(angular.forEach(S,function(e){e.selected=!1}),t.selected=!0,S=[t],$=!0),e.$broadcast("selectedEmployeesChange",S),S}function f(){angular.forEach(S,function(e){e.selected=!1}),S=[],$=!1,e.$broadcast("selectedEmployeesChange",S)}function m(){return $}function y(e){b=e}function E(){return b}function g(t){if(C=t,!t&&S.length>1){var n=S.shift();n.selected=!1,S=s(n)}return e.$broadcast("selectMultipleEmployeesChange",C),S}function h(){return C}var S=[],$=!1,b=1,v=null,C=!1,I="profile",M={getAllEmployees:o,getSelectedEmployees:r,addAllFilteredEmployees:c,updateSelectedEmployees:s,removeAllSelectedEmployees:f,setSelectMultipleEmployees:g,getSelectMultipleEmployees:h,updateMappedEmployee:u,updateMappedEmployeeById:a,getMappedEmployee:p,setDisplayEmployeeInfoType:d,getDisplayEmployeeInfoType:i,getSelectedEmployeeAdded:m,setProfilePageNumber:y,getProfilePageNumber:E};return M}angular.module("app").factory("edEmployeeService",e),e.$inject=["$rootScope","edCachedEmployeeResourceService","edNotifierService","_"]}();
!function(){"use strict";function e(e){function n(){e.setLockSidebar(!0)}n()}angular.module("app").controller("edEmployeeCtrl",e),e.$inject=["edSidebarService"]}();
!function(){"use strict";function t(t){var e=this;e.identity=t}angular.module("app").controller("edGuildsTopbarCtrl",t),t.$inject=["edIdentityService"]}();
!function(){"use strict";function e(e,l,i,o){function t(){l.setLockSidebar(!0);var o=e.current.name;u.guild=o.split(".")[1],u.guild&&i.getAllEmployees().$promise.then(r)}function r(e){u.guildMembers=o.sortBy(o.filter(e,function(e){return e.guilds&&o.indexOf(e.guilds,u.guild)>-1?e:void 0}),"lastName")}function n(l){i.removeAllSelectedEmployees(),e.go("employees.profile.employee",{employee:l.eid})}var u=this;u.guild=null,u.guildMembers=[],u.profileEmployee=n,t()}angular.module("app").controller("edGuildsCtrl",e),e.$inject=["$state","edSidebarService","edEmployeeService","_"]}();
!function(){"use strict";function t(t){var e=this;e.identity=t}angular.module("app").controller("edHelpTopbarCtrl",t),t.$inject=["edIdentityService"]}();
!function(){"use strict";function e(e){function n(){e.setLockSidebar(!0)}n()}angular.module("app").controller("edHelpCtrl",e),e.$inject=["edSidebarService"]}();
!function(){"use strict";function e(e,t){function n(r,n,i,a){a.deselectPrinter=function(r){var i=n.parent(),a=n.children().first();a.addClass("scale-down"),e(function(){i.addClass("shrink-left"),t.updateSelectedPrinters(r)},250)}}var i={restrict:"E",templateUrl:"/partials/printers/components/printer-card",scope:{printer:"="},link:n,controller:r,controllerAs:"vm"};return i}function r(e,r){function t(t){r.updateMappedPrinter(t),e.go("printers.map."+t.location+"-"+t.floor,{name:t.name})}var n=this;n.mapPrinter=t}angular.module("app").directive("edPrinterCard",e),e.$inject=["$timeout","edPrinterService"],r.$inject=["$state","edPrinterService"]}();
!function(){"use strict";function e(e,o,n,t,l){function r(e){"profile"===y.displayPrinterInfoType?y.selectedPrinters=n.updateSelectedPrinters(e):"location"===y.displayPrinterInfoType&&(t.updateMappedEmployee(null),l.updateMappedRoom(null),n.updateMappedPrinter(e))}function i(e){y.location[e]?y.locations.push(e):y.locations.splice(y.locations.indexOf(e),1)}function c(e){return y.locations.length>0?e.location?y.locations.indexOf(e.location)>-1:void 0:!0}function s(){return 1===y.locations.length&&"nyc"===y.locations[0]}function a(e){y.floor[e]?y.floors.push(e):y.floors.splice(y.floors.indexOf(e),1)}function f(e){return s()?!0:y.floors.length>0?e.floor&&"buf"===e.location?y.floors.indexOf(e.floor)>-1:y.locations.indexOf("nyc")>-1?!0:void 0:!0}function d(){y.selectedPrinters=n.addAllFilteredPrinters(y.filteredPrinters),o.scrollTopAnimated(0,300)}function p(){y.selectedPrinters=n.removeAllSelectedPrinters()}function u(){y.printerName="",y.floors=[],y.floor={6:!1,7:!1,8:!1},y.locations=[],y.location={buf:!1,nyc:!1},y.brand="",y.color=""}var y=this;y.printers=n.getAllPrinters(),y.selectedPrinters=n.getSelectedPrinters(),y.displayPrinterInfoType=n.getDisplayPrinterInfoType(),y.selectPrinter=r,y.selectAll=d,y.selectNone=p,y.allowSelectAll=n.getSelectMultiplePrinters(),y.filteredEmployees=n.getAllPrinters(),y.clearFilter=u,y.locationFilter=c,y.filterLocations=i,y.location={buf:!1,nyc:!1},y.locations=[],y.nycOnly=s,y.floorFilter=f,y.filterFloors=a,y.floor={6:!1,7:!1,8:!1},y.floors=[];var P=e.$on("selectMultiplePrintersChange",function(e,o){y.allowSelectAll=o});e.$on("$destroy",P);var g=e.$on("displayPrinterInfoTypeChange",function(e,o){y.displayPrinterInfoType=o});e.$on("$destroy",g)}angular.module("app").controller("edPrinterSelectorCtrl",e),e.$inject=["$scope","$document","edPrinterService","edEmployeeService","edRoomService"]}();
!function(){"use strict";function e(e,r){var t=this;t.selectedPrinters=r.getSelectedPrinters();var n=e.$on("selectedPrintersChange",function(e,r){t.selectedPrinters=r});e.$on("$destroy",n)}angular.module("app").controller("edPrinterTopbarCtrl",e),e.$inject=["$scope","edPrinterService"]}();
!function(){"use strict";function e(e,i,n,t,a){function p(r,p,l){r.mappedPrinter=a.getMappedPrinter(),e.name===l.name&&r.mappedPrinter?n(function(){i.scrollToElement(p,300,300).then(function(){p.addClass("mapped").append(t('<div class="marker"><div class="pulse"></div><div class="pin"></div><div class="mapped-label label bg-danger" ng-click="vm.viewProfile()">'+r.mappedPrinter.name+"</div></div>")(r));var e=$(".mapped-label"),i=p.outerWidth()/2-e.outerWidth()/2;e.css("left",i)})},800):p.removeClass("mapped").find(".marker").remove();var d=r.$on("mappedPrinterChange",function(e,a){a&&a.name===l.name?n(function(){i.scrollToElement(p,300,300).then(function(){p.addClass("mapped").append(t('<div class="marker"><div class="pulse"></div><div class="pin"></div><div class="mapped-label label bg-danger" ng-click="vm.viewProfile()">'+a.name+"</div></div>")(r));var e=$(".mapped-label"),i=p.outerWidth()/2-e.outerWidth()/2;e.css("left",i)})},100):p.removeClass("mapped").find(".marker").remove()});r.$on("$destroy",d)}var l={restrict:"E",templateUrl:"/partials/printers/components/printer",replace:!0,scope:{name:"@",classification:"@",orientation:"@",xpos:"@",ypos:"@"},link:p,controller:r,controllerAs:"vm"};return l}function r(e,r,i,n,t,a){function p(e){if(!o){var p=a.filter(d.printers,function(r){return r.name===e});p.length>0?(n.updateMappedEmployee(null),t.updateMappedRoom(null),d.mappedPrinter=r.updateMappedPrinter(p[0])):i.error("Sorry, I don't know this printer.")}}function l(){o=!0,r.removeAllSelectedPrinters();var i=r.updateSelectedPrinters(r.getMappedPrinter())[0];e.go("printers.profile.name",{printer:i.name})}var d=this;d.mapPrinter=p,d.viewProfile=l,d.printers=r.getAllPrinters(),d.mappedPrinter=null;var o=!1}angular.module("app").directive("edPrinter",e),e.$inject=["$stateParams","$document","$timeout","$compile","edPrinterService"],r.$inject=["$state","edPrinterService","edNotifierService","edEmployeeService","edRoomService","_"]}();
!function(){"use strict";function e(e){function r(){return n||(n=e.query()),n}var n,u={query:r};return u}angular.module("app").factory("edCachedPrinterResourceService",e),e.$inject=["edPrinterResourceService"]}();
!function(){"use strict";function r(r){var e=r("/api/printers/:id",{_id:"@id"},{update:{method:"PUT",isArray:!1}});return e}angular.module("app").factory("edPrinterResourceService",r),r.$inject=["$resource"]}();
!function(){"use strict";function e(e,t){function r(){return t.query()}function n(){return h}function i(t){return angular.forEach(h,function(e){e.selected=!1}),angular.forEach(t,function(e){e.selected=!0}),h=t,m=!0,e.$broadcast("selectedPrintersChange",h),h}function c(t){return!t&&b?(b.mapped=!1,b=null):t&&b?(b.mapped=!1,b._id!==t._id?(t.mapped=!0,b=t):b=null):t&&!b&&(t.mapped=!0,b=t),e.$broadcast("mappedPrinterChange",b),b}function l(){return b}function u(t){return $=t,e.$broadcast("displayPrinterInfoTypeChange",$),$}function a(){return $}function d(t){return y?t.selected?(t.selected=!1,h.splice(h.indexOf(t),1),m=!1):(t.selected=!0,h.unshift(t),m=!0):t.selected?(t.selected=!1,h=[],m=!1):(angular.forEach(h,function(e){e.selected=!1}),t.selected=!0,h=[t],m=!0),e.$broadcast("selectedPrintersChange",h),h}function s(){angular.forEach(h,function(e){e.selected=!1}),h=[],m=!1,e.$broadcast("selectedPrintersChange",h)}function o(){return m}function f(e){S=e}function p(){return S}function P(t){if(y=t,!t&&h.length>1){var r=h.shift();r.selected=!1,h=d(r)}return e.$broadcast("selectMultiplePrintersChange",y),h}function g(){return y}var h=[],m=!1,S=1,b=null,y=!1,$="profile",C={getAllPrinters:r,getSelectedPrinters:n,addAllFilteredPrinters:i,updateSelectedPrinters:d,removeAllSelectedPrinters:s,setSelectMultiplePrinters:P,getSelectMultiplePrinters:g,updateMappedPrinter:c,getMappedPrinter:l,setDisplayPrinterInfoType:u,getDisplayPrinterInfoType:a,getSelectedPrinterAdded:o,setProfilePageNumber:f,getProfilePageNumber:p};return C}angular.module("app").factory("edPrinterService",e),e.$inject=["$rootScope","edCachedPrinterResourceService"]}();
!function(){"use strict";function e(e){function n(){e.setLockSidebar(!0)}n()}angular.module("app").controller("edPrinterCtrl",e),e.$inject=["edSidebarService"]}();
!function(){"use strict";function o(o,t,r){function n(e,n,a,c){c.deselectRoom=function(e){var a=n.parent(),c=n.children().first();c.addClass("scale-down"),o(function(){a.addClass("shrink-left"),r.updateSelectedRooms(e),"employees.profile"!==t.current.name&&t.go("rooms.profile")},250)}}var a={restrict:"E",templateUrl:"/partials/rooms/components/room-card",scope:{room:"="},link:n,controller:e,controllerAs:"vm"};return a}function e(o,e){function t(t){e.updateMappedRoom(t),o.go("rooms.map."+t.location+"-"+t.floor,{name:t.name})}var r=this;r.mapRoom=t}angular.module("app").directive("edRoomCard",o),o.$inject=["$timeout","$state","edRoomService"],e.$inject=["$state","edRoomService"]}();
!function(){"use strict";function o(o,e,l,n,t,i){function c(o){y.location[o]?y.locations.push(o):y.locations.splice(y.locations.indexOf(o),1)}function r(o){return y.locations.length>0?o.location?y.locations.indexOf(o.location)>-1:void 0:!0}function s(){return 1===y.locations.length&&"nyc"===y.locations[0]}function f(o){y.floor[o]?y.floors.push(o):y.floors.splice(y.floors.indexOf(o),1)}function a(o){return s()?!0:y.floors.length>0?o.floor&&"buf"===o.location?y.floors.indexOf(o.floor)>-1:y.locations.indexOf("nyc")>-1?!0:void 0:!0}function p(o){"profile"===y.displayRoomInfoType?(y.selectedRooms=n.updateSelectedRooms(o),"employees.profile"!==e.current.name&&e.go("rooms.profile")):"location"===y.displayRoomInfoType&&(t.updateMappedEmployee(null),i.updateMappedPrinter(null),n.updateMappedRoom(o))}function m(){y.selectedRooms=n.addAllFilteredRooms(y.filteredRooms),l.scrollTopAnimated(0,300),"employees.profile"!==e.current.name&&e.go("rooms.profile")}function d(){y.selectedRooms=n.removeAllSelectedRooms(),"employees.profile"!==e.current.name&&e.go("rooms.profile")}function u(){y.roomName="",y.floors=[],y.floor={6:!1,7:!1,8:!1},y.locations=[],y.location={buf:!1,nyc:!1},y.type=""}var y=this;y.rooms=n.getAllRooms(),y.selectedRooms=n.getSelectedRooms(),y.displayRoomInfoType=n.getDisplayRoomInfoType(),y.selectRoom=p,y.selectAll=m,y.selectNone=d,y.allowSelectAll=n.getSelectMultipleRooms(),y.filteredEmployees=n.getAllRooms(),y.clearFilter=u,y.locationFilter=r,y.filterLocations=c,y.location={buf:!1,nyc:!1},y.locations=[],y.nycOnly=s,y.floorFilter=a,y.filterFloors=f,y.floor={6:!1,7:!1,8:!1},y.floors=[];var R=o.$on("selectMultipleRoomsChange",function(o,e){y.allowSelectAll=e});o.$on("$destroy",R);var g=o.$on("displayRoomInfoTypeChange",function(o,e){y.displayRoomInfoType=e});o.$on("$destroy",g)}angular.module("app").controller("edRoomSelectorCtrl",o),o.$inject=["$scope","$state","$document","edRoomService","edEmployeeService","edPrinterService"]}();
!function(){"use strict";function e(e,o){var t=this;t.selectedRooms=o.getSelectedRooms();var c=e.$on("selectedRoomsChange",function(e,o){t.selectedRooms=o});e.$on("$destroy",c)}angular.module("app").controller("edRoomTopbarCtrl",e),e.$inject=["$scope","edRoomService"]}();
!function(){"use strict";function e(e,n,r,a){function m(o,m,t){o.mappedRoom=a.getMappedRoom(),e.name===t.name&&o.mappedRoom?r(function(){n.scrollToElement(m,300,300).then(function(){m.addClass("mapped").append('<div class="marker"><div class="pulse"></div><div class="pin"></div></div>')})},800):m.removeClass("mapped").find(".marker").remove();var i=o.$on("mappedRoomChange",function(e,o){o&&o.name===t.name?r(function(){n.scrollToElement(m,300,300).then(function(){m.addClass("mapped").append('<div class="marker"><div class="pulse"></div><div class="pin"></div></div>')})},100):m.removeClass("mapped").find(".marker").remove()});o.$on("$destroy",i)}var t={restrict:"E",templateUrl:"/partials/rooms/components/room",replace:!0,scope:{name:"@",seat:"@",number:"@",classification:"@",xpos:"@",ypos:"@"},link:m,controller:o,controllerAs:"vm"};return t}function o(e,o,n,r,a,m){function t(e){var t=m.filter(p.rooms,function(o){return o.name===e});t.length>0?(r.updateMappedEmployee(null),a.updateMappedPrinter(null),p.mappedRoom=o.updateMappedRoom(t[0])):n.error("Sorry, I don't know this room.")}function i(n){var r=m.filter(p.rooms,function(e){return e.seat===n});o.removeAllSelectedRooms(),o.updateSelectedRooms(r[0]),e.go("rooms.profile.name",{room:r[0].name})}var p=this;p.mapRoom=t,p.viewProfile=i,p.rooms=o.getAllRooms(),p.mappedRoom=null}angular.module("app").directive("edRoom",e),e.$inject=["$stateParams","$document","$timeout","edRoomService"],o.$inject=["$state","edRoomService","edNotifierService","edEmployeeService","edPrinterService","_"]}();
!function(){"use strict";function e(e){function r(){return u||(u=e.query()),u}var u,c={query:r};return c}angular.module("app").factory("edCachedRoomResourceService",e),e.$inject=["edRoomResourceService"]}();
!function(){"use strict";function e(e){var r=e("/api/rooms/:id",{_id:"@id"},{update:{method:"PUT",isArray:!1}});return r}angular.module("app").factory("edRoomResourceService",e),e.$inject=["$resource"]}();
!function(){"use strict";function e(e,t){function o(){return t.query()}function n(){return R}function c(t){return angular.forEach(R,function(e){e.selected=!1}),angular.forEach(t,function(e){e.selected=!0}),R=t,h=!0,e.$broadcast("selectedRoomsChange",R),R}function r(t){return!t&&b?(b.mapped=!1,b=null):t&&b?(b.mapped=!1,b._id!==t._id?(t.mapped=!0,b=t):b=null):t&&!b&&(t.mapped=!0,b=t),e.$broadcast("mappedRoomChange",b),b}function l(){return b}function u(t){return $=t,e.$broadcast("displayRoomInfoTypeChange",$),$}function a(){return $}function d(t){return y?t.selected?(t.selected=!1,R.splice(R.indexOf(t),1),h=!1):(t.selected=!0,R.unshift(t),h=!0):t.selected?(t.selected=!1,R=[],h=!1):(angular.forEach(R,function(e){e.selected=!1}),t.selected=!0,R=[t],h=!0),e.$broadcast("selectedRoomsChange",R),R}function s(){angular.forEach(R,function(e){e.selected=!1}),R=[],h=!1,e.$broadcast("selectedRoomsChange",R)}function i(){return h}function f(e){S=e}function p(){return S}function m(t){if(y=t,!t&&R.length>1){var o=R.shift();o.selected=!1,R=d(o)}return e.$broadcast("selectMultipleRoomsChange",y),R}function g(){return y}var R=[],h=!1,S=1,b=null,y=!1,$="profile",C={getAllRooms:o,getSelectedRooms:n,addAllFilteredRooms:c,updateSelectedRooms:d,removeAllSelectedRooms:s,setSelectMultipleRooms:m,getSelectMultipleRooms:g,updateMappedRoom:r,getMappedRoom:l,setDisplayRoomInfoType:u,getDisplayRoomInfoType:a,getSelectedRoomAdded:i,setProfilePageNumber:f,getProfilePageNumber:p};return C}angular.module("app").factory("edRoomService",e),e.$inject=["$rootScope","edCachedRoomResourceService"]}();
!function(){"use strict";function e(e){function n(){e.setLockSidebar(!0)}n()}angular.module("app").controller("edRoomCtrl",e),e.$inject=["edSidebarService"]}();
!function(){"use strict";function e(e,o,p,l,a){function n(){a.setLockSidebar(!1),l.setDisplayEmployeeInfoType("location"),o.employee?l.updateMappedEmployeeById(o.employee):m.mappedEmployee&&t(m.mappedEmployee)}function t(o){o?o.seat?e.go("employees.map."+o.location+"-"+o.floor,{seat:o.seat}):(m.unknownLocationEmployee=!0,m.mappedEmployee=o):(m.unknownLocationEmployee=!1,m.mappedEmployee=null)}var m=this;m.selectedEmployees=l.setSelectMultipleEmployees(!0),m.mappedEmployee=l.getMappedEmployee(),m.unknownLocationEmployee=!1,n();var y=p.$on("mappedEmployeeChange",function(e,o){t(o)});p.$on("$destroy",y)}angular.module("app").controller("edEmployeeMapCtrl",e),e.$inject=["$state","$stateParams","$scope","edEmployeeService","edSidebarService"]}();
!function(){"use strict";function e(e,l,o,t,p,s){function m(){p.setLockSidebar(!1),t.setDisplayEmployeeInfoType("profile"),t.setSelectMultipleEmployees(!1),t.updateMappedEmployee(null),o.employee?t.getAllEmployees().$promise.then(c):a.selectedEmployee&&(d(),i())}function c(e){var l=s.findWhere(e,{eid:parseInt(o.employee)});l&&(l!==a.selectedEmployee&&n(l),d(),i())}function d(){a.manager=s.findWhere(y,{eid:a.selectedEmployee.mid})}function i(){a.directReports=s.sortBy(s.filter(y,{mid:a.selectedEmployee.eid}),"lastName")}function n(e){a.selectedEmployee=t.updateSelectedEmployees(e)[0]}function r(){l.go("employees.profile.employee",{employee:a.selectedEmployee.eid})}var y=t.getAllEmployees(),a=this;a.selectedEmployee=t.getSelectedEmployees()[0],a.manager=null,a.directReports=[],a.selectEmployee=n,a.profileEmployee=r,m();var E=e.$on("selectedEmployeesChange",function(e,o){a.selectedEmployee=o[0],a.selectedEmployee&&l.go("employees.org-chart",{employee:a.selectedEmployee.eid})});e.$on("$destroy",E)}angular.module("app").controller("edOrgChartCtrl",e),e.$inject=["$scope","$state","$stateParams","edEmployeeService","edSidebarService","_"]}();
!function(){"use strict";function e(e,t,r,a,o,n){function l(){o.setLockSidebar(!1),r.setDisplayEmployeeInfoType("profile"),r.setSelectMultipleEmployees(!0),r.updateMappedEmployee(null),(a.employee||a.team||a.department||a.title||a.firstname||a.lastname)&&(r.removeAllSelectedEmployees(),r.getAllEmployees().$promise.then(function(e){a.employee?i(e):a.team?s(e):a.department?u(e):a.title?c(e):(a.firstname||a.lastname)&&f(e)}))}function i(e){var t=n.filter(e,function(e){var t=!1;if(a.employee){var r=a.employee.split(",");return angular.forEach(r,function(r){return e.hasOwnProperty("eid")&&e.eid===parseInt(r)?void(t=!0):!1}),t}});angular.forEach(t,function(e){r.updateSelectedEmployees(e)})}function s(e){var t=n.sortBy(n.filter(e,function(e){var t=!1;if(a.team){var r=a.team.split(",");return angular.forEach(r,function(r){return e.hasOwnProperty("team")&&e.team.toLowerCase()===r.toLowerCase()?void(t=!0):!1}),t}}),"lastName").reverse();angular.forEach(t,function(e){r.updateSelectedEmployees(e)})}function u(e){var t=n.sortBy(n.filter(e,function(e){var t=!1;if(a.department){var r=a.department.split(",");return angular.forEach(r,function(r){return e.hasOwnProperty("department")&&e.department.toLowerCase()===r.toLowerCase()?void(t=!0):!1}),t}}),"lastName").reverse();angular.forEach(t,function(e){r.updateSelectedEmployees(e)})}function c(e){var t=n.sortBy(n.filter(e,function(e){var t=!1;if(a.title){var r=a.title.split("|");return angular.forEach(r,function(r){return e.hasOwnProperty("title")&&e.title.toLowerCase()===r.toLowerCase()?void(t=!0):!1}),t}}),"lastName").reverse();angular.forEach(t,function(e){r.updateSelectedEmployees(e)})}function f(e){var t=n.filter(e,function(e){var t=!1;if(a.firstname){var r=a.firstname.split(",");angular.forEach(r,function(r){if(!(e.firstName.toLowerCase()===r.toLowerCase()||e.hasOwnProperty("nickname")&&e.nickname.toLowerCase()===r.toLowerCase()))return!1;if(a.lastname){var o=a.lastname.split(",");angular.forEach(o,function(r){return e.lastName.toLowerCase()!==r.toLowerCase()?!1:void(t=!0)})}else t=!0})}else if(a.lastname){var o=a.lastname.split(",");angular.forEach(o,function(r){return e.lastName.toLowerCase()!==r.toLowerCase()?!1:void(t=!0)})}return t});angular.forEach(t,function(e){r.updateSelectedEmployees(e)})}function m(e){r.setProfilePageNumber(e),t.scrollTopAnimated(0,300)}var p=this;p.selectedEmployees=r.getSelectedEmployees(),p.changePage=m,p.currentPage=r.getProfilePageNumber(),l();var d=e.$on("selectedEmployeesChange",function(e,a){p.selectedEmployees=a,r.getSelectedEmployeeAdded()&&(p.currentPage=1,t.scrollTopAnimated(0,300))});e.$on("$destroy",d)}angular.module("app").controller("edEmployeeProfileCtrl",e),e.$inject=["$scope","$document","edEmployeeService","$stateParams","edSidebarService","_"]}();
!function(){"use strict";function e(e){function n(){e.setLockSidebar(!0)}n()}angular.module("app").controller("edHelpLocationCtrl",e),e.$inject=["edSidebarService"]}();
!function(){"use strict";function e(e){function i(){e.setLockSidebar(!0)}i()}angular.module("app").controller("edHelpNavigationCtrl",e),e.$inject=["edSidebarService"]}();
!function(){"use strict";function e(e){function r(){e.setLockSidebar(!0)}r()}angular.module("app").controller("edHelpOrgChartCtrl",e),e.$inject=["edSidebarService"]}();
!function(){"use strict";function e(e){function i(){e.setLockSidebar(!0)}i()}angular.module("app").controller("edHelpProfileCtrl",e),e.$inject=["edSidebarService"]}();
!function(){"use strict";function e(e,r,t,n){function i(){n.setLockSidebar(!1),t.setDisplayPrinterInfoType("location"),o(a.mappedPrinter)}function o(r){r&&e.go("printers.map."+r.location+"-"+r.floor,{name:r.name})}var a=this;a.selectedPrinters=t.setSelectMultiplePrinters(!0),a.mappedPrinter=t.getMappedPrinter(),i();var p=r.$on("mappedPrinterChange",function(e,r){o(r)});r.$on("$destroy",p)}angular.module("app").controller("edPrinterMapCtrl",e),e.$inject=["$state","$scope","edPrinterService","edSidebarService"]}();
!function(){"use strict";function e(e,r,t,n,i,a){function o(){i.setLockSidebar(!1),t.setDisplayPrinterInfoType("profile"),t.setSelectMultiplePrinters(!0),t.updateMappedPrinter(null),(n.printer||n.printerbrand)&&(t.removeAllSelectedPrinters(),n.printer?t.getAllPrinters().$promise.then(l):n.printerbrand&&t.getAllPrinters().$promise.then(c))}function l(e){var r=a.filter(e,function(e){var r=!1;if(n.printer){var t=n.printer.split(",");angular.forEach(t,function(t){return e.name.toLocaleLowerCase()!==t.toLowerCase()?!1:void(r=!0)})}return r});angular.forEach(r,function(e){t.updateSelectedPrinters(e)})}function c(e){var r=a.filter(e,function(e){var r=!1;if(n.printerbrand){var t=n.printerbrand.split(",");angular.forEach(t,function(t){return e.brand.toLocaleLowerCase()!==t.toLowerCase()?!1:void(r=!0)})}return r});angular.forEach(r,function(e){t.updateSelectedPrinters(e)})}function s(e){t.setProfilePageNumber(e),r.scrollTopAnimated(0,300)}var u=this;u.selectedPrinters=t.getSelectedPrinters(),u.changePage=s,u.currentPage=t.getProfilePageNumber(),o();var d=e.$on("selectedPrintersChange",function(e,n){u.selectedPrinters=n,t.getSelectedPrinterAdded()&&(u.currentPage=1,r.scrollTopAnimated(0,300))});e.$on("$destroy",d)}angular.module("app").controller("edPrinterProfileCtrl",e),e.$inject=["$scope","$document","edPrinterService","$stateParams","edSidebarService","_"]}();
!function(){"use strict";function o(o,e,t,n){function a(){n.setLockSidebar(!1),t.setDisplayRoomInfoType("location"),m(c.mappedRoom)}function m(e){e&&o.go("rooms.map."+e.location+"-"+e.floor,{name:e.name})}var c=this;c.selectedRooms=t.setSelectMultipleRooms(!0),c.mappedRoom=t.getMappedRoom(),a();var i=e.$on("mappedRoomChange",function(o,e){m(e)});e.$on("$destroy",i)}angular.module("app").controller("edRoomMapCtrl",o),o.$inject=["$state","$scope","edRoomService","edSidebarService"]}();
!function(){"use strict";function e(e,o,t,r,n,a){function l(){n.setLockSidebar(!1),t.setDisplayRoomInfoType("profile"),t.setSelectMultipleRooms(!0),t.updateMappedRoom(null),(r.room||r.roomtype)&&(t.removeAllSelectedRooms(),r.room?t.getAllRooms().$promise.then(c):r.roomtype&&(t.removeAllSelectedRooms(),t.getAllRooms().$promise.then(i)))}function c(e){var o=a.filter(e,function(e){var o=!1;if(r.room){var t=r.room.split(",");angular.forEach(t,function(t){return e.name.toLocaleLowerCase()!==t.toLowerCase()?!1:void(o=!0)})}return o});angular.forEach(o,function(e){t.updateSelectedRooms(e)})}function i(e){var o=a.sortBy(a.filter(e,function(e){var o=!1;if(r.roomtype){var t=r.roomtype.split(",");angular.forEach(t,function(t){return e.type.toLocaleLowerCase()!==t.toLowerCase()?!1:void(o=!0)})}return o}),"name").reverse();angular.forEach(o,function(e){t.updateSelectedRooms(e)})}function s(e){t.setProfilePageNumber(e),o.scrollTopAnimated(0,300)}var m=this;m.selectedRooms=t.getSelectedRooms(),m.changePage=s,m.currentPage=t.getProfilePageNumber(),l();var u=e.$on("selectedRoomsChange",function(e,r){m.selectedRooms=r,t.getSelectedRoomAdded()&&(m.currentPage=1,o.scrollTopAnimated(0,300))});e.$on("$destroy",u)}angular.module("app").controller("edRoomProfileCtrl",e),e.$inject=["$scope","$document","edRoomService","$stateParams","edSidebarService","_"]}();
//# sourceMappingURL=maps/main-70ab6245b7.js.map